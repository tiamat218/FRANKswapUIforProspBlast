{"version":3,"sources":["views/Pool/index.tsx"],"names":["Body","styled","CardBody","_templateObject","_taggedTemplateLiteral","_ref","theme","colors","dropdownDeep","Pool","account","useActiveWeb3React","t","useTranslation","trackedTokenPairs","useTrackedTokenPairs","tokenPairsWithLiquidityTokens","useMemo","map","tokens","liquidityToken","toV2LiquidityToken","liquidityTokens","tpwlt","v2PairsBalances","fetchingV2PairBalances","useTokenBalancesWithLoadingIndicator","undefined","liquidityTokensWithBalances","filter","_ref2","_v2PairsBalances$liqu","address","greaterThan","v2Pairs","usePairs","_ref3","v2IsLoading","length","some","V2Pair","allV2PairsWithLiquidity","_ref4","pair","v2Pair","Boolean","_jsx","Page","children","_jsxs","AppBody","AppHeader","title","subtitle","Text","color","textAlign","Dots","index","FullPositionCard","mb","Flex","flexDirection","alignItems","mt","Button","id","variant","scale","as","Link","to","CardFooter","style","width","startIcon","AddIcon"],"mappings":"0SAeA,MAAMA,EAAOC,YAAOC,IAAPD,CAAgBE,MAAAC,YAAA,oCACPC,IAAA,IAAC,MAAEC,GAAOD,EAAA,OAAKC,EAAMC,OAAOC,gBAGnC,SAASC,IACtB,MAAM,QAAEC,GAAYC,eACd,EAAEC,GAAMC,cAGRC,EAAoBC,cACpBC,EAAgCC,mBACpC,IAAMH,EAAkBI,KAAKC,IAAM,CAAQC,eAAgBC,YAAmBF,GAASA,cACvF,CAACL,IAEGQ,EAAkBL,mBACtB,IAAMD,EAA8BE,KAAKK,GAAUA,EAAMH,kBACzD,CAACJ,KAEIQ,EAAiBC,GAA0BC,YACzC,OAAPhB,QAAO,IAAPA,SAAWiB,EACXL,GAIIM,EAA8BX,mBAClC,IACED,EAA8Ba,QAAOC,IAAA,IAAAC,EAAA,IAAC,eAAEX,GAAgBU,EAAA,OACf,QADeC,EACtDP,EAAgBJ,EAAeY,gBAAQ,IAAAD,OAAA,EAAvCA,EAAyCE,YAAY,SAEzD,CAACjB,EAA+BQ,IAG5BU,EAAUC,YAASP,EAA4BV,KAAIkB,IAAA,IAAC,OAAEjB,GAAQiB,EAAA,OAAKjB,MACnEkB,EACJZ,IAAiC,OAAPS,QAAO,IAAPA,OAAO,EAAPA,EAASI,QAASV,EAA4BU,SAAiB,OAAPJ,QAAO,IAAPA,OAAO,EAAPA,EAASK,MAAMC,IAAYA,KAEzGC,EAA0BP,EAAQhB,KAAIwB,IAAA,IAAE,CAAEC,GAAKD,EAAA,OAAKC,KAAMd,QAAQe,GAA2BC,QAAQD,KAiC3G,OACEE,cAACC,IAAI,CAAAC,SACHC,eAACC,IAAO,CAAAF,SAAA,CACNF,cAACK,IAAS,CAACC,MAAOxC,EAAE,kBAAmByC,SAAUzC,EAAE,6CACnDqC,eAACjD,EAAI,CAAAgD,SAAA,CAlCJtC,EAOD2B,EAEAS,cAACQ,KAAI,CAACC,MAAM,aAAaC,UAAU,SAAQR,SACzCF,cAACW,IAAI,CAAAT,SAAEpC,EAAE,gBAIY,OAAvB6B,QAAuB,IAAvBA,OAAuB,EAAvBA,EAAyBH,QAAS,EAC7BG,EAAwBvB,KAAI,CAAC0B,EAAQc,IAC1CZ,cAACa,IAAgB,CAEfhB,KAAMC,EACNgB,GAAIF,EAAQjB,EAAwBH,OAAS,EAAI,OAAS,GAFrDM,EAAOxB,eAAeY,WAO/Bc,cAACQ,KAAI,CAACC,MAAM,aAAaC,UAAU,SAAQR,SACxCpC,EAAE,yBAvBHkC,cAACQ,KAAI,CAACC,MAAM,aAAaC,UAAU,SAAQR,SACxCpC,EAAE,iDAiCFF,IAAY2B,GACXY,eAACY,IAAI,CAACC,cAAc,SAASC,WAAW,SAASC,GAAG,OAAMhB,SAAA,CACxDF,cAACQ,KAAI,CAACC,MAAM,aAAaK,GAAG,MAAKZ,SAC9BpC,EAAE,kCAELkC,cAACmB,IAAM,CAACC,GAAG,mBAAmBC,QAAQ,YAAYC,MAAM,KAAKC,GAAIC,IAAMC,GAAG,QAAOvB,SAC9EpC,EAAE,gCAKXkC,cAAC0B,IAAU,CAACC,MAAO,CAAEjB,UAAW,UAAWR,SACzCF,cAACmB,IAAM,CAACC,GAAG,mBAAmBG,GAAIC,IAAMC,GAAG,OAAOG,MAAM,OAAOC,UAAW7B,cAAC8B,IAAO,CAACrB,MAAM,UAAWP,SACjGpC,EAAE","file":"static/js/26.a61fd586.chunk.js","sourcesContent":["import React, { useMemo } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Pair } from '@pancakeswap/sdk'\r\nimport { Text, Flex, CardBody, CardFooter, Button, AddIcon } from '@pancakeswap/uikit'\r\nimport { Link } from 'react-router-dom'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport FullPositionCard from '../../components/PositionCard'\r\nimport { useTokenBalancesWithLoadingIndicator } from '../../state/wallet/hooks'\r\nimport { usePairs } from '../../hooks/usePairs'\r\nimport { toV2LiquidityToken, useTrackedTokenPairs } from '../../state/user/hooks'\r\nimport Dots from '../../components/Loader/Dots'\r\nimport { AppHeader, AppBody } from '../../components/App'\r\nimport Page from '../Page'\r\n\r\nconst Body = styled(CardBody)`\r\n  background-color: ${({ theme }) => theme.colors.dropdownDeep};\r\n`\r\n\r\nexport default function Pool() {\r\n  const { account } = useActiveWeb3React()\r\n  const { t } = useTranslation()\r\n\r\n  // fetch the user's balances of all tracked V2 LP tokens\r\n  const trackedTokenPairs = useTrackedTokenPairs()\r\n  const tokenPairsWithLiquidityTokens = useMemo(\r\n    () => trackedTokenPairs.map((tokens) => ({ liquidityToken: toV2LiquidityToken(tokens), tokens })),\r\n    [trackedTokenPairs],\r\n  )\r\n  const liquidityTokens = useMemo(\r\n    () => tokenPairsWithLiquidityTokens.map((tpwlt) => tpwlt.liquidityToken),\r\n    [tokenPairsWithLiquidityTokens],\r\n  )\r\n  const [v2PairsBalances, fetchingV2PairBalances] = useTokenBalancesWithLoadingIndicator(\r\n    account ?? undefined,\r\n    liquidityTokens,\r\n  )\r\n\r\n  // fetch the reserves for all V2 pools in which the user has a balance\r\n  const liquidityTokensWithBalances = useMemo(\r\n    () =>\r\n      tokenPairsWithLiquidityTokens.filter(({ liquidityToken }) =>\r\n        v2PairsBalances[liquidityToken.address]?.greaterThan('0'),\r\n      ),\r\n    [tokenPairsWithLiquidityTokens, v2PairsBalances],\r\n  )\r\n\r\n  const v2Pairs = usePairs(liquidityTokensWithBalances.map(({ tokens }) => tokens))\r\n  const v2IsLoading =\r\n    fetchingV2PairBalances || v2Pairs?.length < liquidityTokensWithBalances.length || v2Pairs?.some((V2Pair) => !V2Pair)\r\n\r\n  const allV2PairsWithLiquidity = v2Pairs.map(([, pair]) => pair).filter((v2Pair): v2Pair is Pair => Boolean(v2Pair))\r\n\r\n  const renderBody = () => {\r\n    if (!account) {\r\n      return (\r\n        <Text color=\"textSubtle\" textAlign=\"center\">\r\n          {t('Connect to a wallet to view your liquidity.')}\r\n        </Text>\r\n      )\r\n    }\r\n    if (v2IsLoading) {\r\n      return (\r\n        <Text color=\"textSubtle\" textAlign=\"center\">\r\n          <Dots>{t('Loading')}</Dots>\r\n        </Text>\r\n      )\r\n    }\r\n    if (allV2PairsWithLiquidity?.length > 0) {\r\n      return allV2PairsWithLiquidity.map((v2Pair, index) => (\r\n        <FullPositionCard\r\n          key={v2Pair.liquidityToken.address}\r\n          pair={v2Pair}\r\n          mb={index < allV2PairsWithLiquidity.length - 1 ? '16px' : 0}\r\n        />\r\n      ))\r\n    }\r\n    return (\r\n      <Text color=\"textSubtle\" textAlign=\"center\">\r\n        {t('No liquidity found.')}\r\n      </Text>\r\n    )\r\n  }\r\n\r\n  return (\r\n    <Page>\r\n      <AppBody>\r\n        <AppHeader title={t('Your Liquidity')} subtitle={t('Remove liquidity to receive tokens back')} />\r\n        <Body>\r\n          {renderBody()}\r\n          {account && !v2IsLoading && (\r\n            <Flex flexDirection=\"column\" alignItems=\"center\" mt=\"24px\">\r\n              <Text color=\"textSubtle\" mb=\"8px\">\r\n                {t(\"Don't see a pool you joined?\")}\r\n              </Text>\r\n              <Button id=\"import-pool-link\" variant=\"secondary\" scale=\"sm\" as={Link} to=\"/find\">\r\n                {t('Find other LP tokens')}\r\n              </Button>\r\n            </Flex>\r\n          )}\r\n        </Body>\r\n        <CardFooter style={{ textAlign: 'center' }}>\r\n          <Button id=\"join-pool-button\" as={Link} to=\"/add\" width=\"100%\" startIcon={<AddIcon color=\"white\" />}>\r\n            {t('Add Liquidity')}\r\n          </Button>\r\n        </CardFooter>\r\n      </AppBody>\r\n    </Page>\r\n  )\r\n}\r\n"],"sourceRoot":""}