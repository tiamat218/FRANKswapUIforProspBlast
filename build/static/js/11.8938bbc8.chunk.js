(this["webpackJsonppancake-frontend"]=this["webpackJsonppancake-frontend"]||[]).push([[11],{1430:function(e,t,n){"use strict";n.r(t);var r,c=n(7),s=n(0),o=n(2),a=n(4),i=n(69),l=n(9),b=n(214);var j,d=Object(a.e)(o.bb)(r||(r=Object(c.a)(["\n  display: none;\n\n  "," {\n    display: block;\n  }\n"])),(e=>{let{theme:t}=e;return t.mediaQueries.lg})),p=n(1);const u=Object(a.e)(o.n)(j||(j=Object(c.a)(["\n  background: ",";\n  padding-bottom: 32px;\n  padding-top: 32px;\n"])),(e=>{let{theme:t}=e;return t.colors.gradients.bubblegum}));var x,O=()=>{const{t:e}=Object(l.b)();return Object(p.jsx)(u,{children:Object(p.jsx)(b.a,{children:Object(p.jsxs)(o.V,{alignItems:"center",justifyContent:"space-between",children:[Object(p.jsxs)(o.n,{pr:"32px",children:[Object(p.jsx)(o.X,{as:"h1",scale:"xxl",color:"secondary",mb:"16px",children:e("Voting")}),Object(p.jsx)(o.X,{as:"h3",scale:"lg",mb:"16px",children:e("Have your say in the future of the PancakeSwap Ecosystem")}),Object(p.jsx)(o.r,{startIcon:Object(p.jsx)(o.Kb,{color:"currentColor",width:"24px"}),as:i.a,to:"/voting/proposal/create",children:e("Make a Proposal")})]}),Object(p.jsx)(d,{src:"/images/voting/voting-presents.png",width:361,height:214})]})})})};const h=Object(a.e)(o.n)(x||(x=Object(c.a)(["\n  background: ",";\n  padding-bottom: 32px;\n  padding-top: 32px;\n"])),(e=>{let{theme:t}=e;return t.colors.gradients.bubblegum}));var f,g,m=()=>{const{t:e}=Object(l.b)();return Object(p.jsx)(h,{children:Object(p.jsx)(b.a,{children:Object(p.jsxs)(o.V,{alignItems:"center",justifyContent:"space-between",children:[Object(p.jsxs)(o.n,{pr:"32px",children:[Object(p.jsx)(o.X,{as:"h2",scale:"lg",mb:"16px",children:e("Got a suggestion?")}),Object(p.jsx)(o.Zb,{as:"p",children:e("Community proposals are a great way to see how the community feels about your ideas.")}),Object(p.jsx)(o.Zb,{as:"p",mb:"16px",children:e("They won't necessarily be implemented if the community votes successful, but suggestions with a lot of community support may be made into Core proposals.")}),Object(p.jsx)(o.r,{startIcon:Object(p.jsx)(o.Kb,{color:"currentColor",width:"24px"}),as:i.a,to:"/voting/proposal/create",children:e("Make a Proposal")})]}),Object(p.jsx)(d,{src:"/images/voting/voting-bunny.png",width:173,height:234})]})})})},v=n(54),y=n(339),w=n(780),C=n(50),E=n(744),I=n(814),S=n(781),k=n.n(S),V=n(746);const L=Object(a.e)(o.V)(f||(f=Object(c.a)(["\n  border-bottom: 1px solid ",";\n"])),(e=>{let{theme:t}=e;return t.colors.cardBorder})),T=a.e.div(g||(g=Object(c.a)(["\n  ",":last-child {\n    border-bottom: 0;\n  }\n"])),L);var D,N=()=>Object(p.jsx)(T,{children:k()(V.d).map((e=>Object(p.jsxs)(L,{alignItems:"center",justifyContent:"space-between",py:"16px",px:"24px",children:[Object(p.jsxs)(o.n,{style:{flex:1},children:[Object(p.jsx)(o.Ob,{height:"21px",width:"70%",mb:"4px"}),Object(p.jsx)(o.Ob,{height:"21px",width:"30%",mb:"4px"}),Object(p.jsx)(o.Ob,{height:"21px",width:"40%"})]}),Object(p.jsx)(o.Ob,{height:"32px",width:"32px"})]},e)))});const A=a.e.div(D||(D=Object(c.a)(["\n  background-color: ",";\n  padding-top: 16px;\n"])),(e=>{let{theme:t}=e;return t.colors.input})),M=e=>{switch(e){case C.e.COMMUNITY:return 1;case C.e.ALL:return 2;case C.e.CORE:default:return 0}};var P=e=>{let{proposalType:t,onTypeChange:n}=e;const{t:r}=Object(l.b)();return Object(p.jsx)(A,{children:Object(p.jsxs)(o.Wb,{activeIndex:M(t),onItemClick:e=>{n((e=>{switch(e){case 1:return C.e.COMMUNITY;case 2:return C.e.ALL;default:return C.e.CORE}})(e))},children:[Object(p.jsx)(o.Vb,{children:Object(p.jsxs)(o.V,{alignItems:"center",children:[Object(p.jsx)(o.jc,{color:"currentColor",mr:"4px"}),r("Core")]})}),Object(p.jsxs)(o.Vb,{children:[" ",Object(p.jsxs)(o.V,{alignItems:"center",children:[Object(p.jsx)(o.O,{color:"currentColor",mr:"4px"}),r("Community")]})]}),Object(p.jsx)(o.Vb,{children:"All"})]})})},Z=n(12),B=n(720);const F=e=>{const t=Object(Z.default)(1e3*e);return Object(B.default)(t,"MMM do, yyyy HH:mm")};var G,H=e=>{let{startDate:t,endDate:n,proposalState:r}=e;const{t:c}=Object(l.b)(),s={fontSize:"16px",color:"textSubtle",ml:"8px"};return r===C.d.CLOSED?Object(p.jsx)(o.Zb,{...s,children:c("Ended %date%",{date:F(n)})}):r===C.d.PENDING?Object(p.jsx)(o.Zb,{...s,children:c("Starts %date%",{date:F(t)})}):Object(p.jsx)(o.Zb,{...s,children:c("Ends %date%",{date:F(n)})})},X=n(795);const J=Object(a.e)(i.a)(G||(G=Object(c.a)(["\n  align-items: center;\n  border-bottom: 1px solid ",";\n  display: flex;\n  padding: 16px 24px;\n\n  &:hover {\n    background-color: ",";\n  }\n"])),(e=>{let{theme:t}=e;return t.colors.cardBorder}),(e=>{let{theme:t}=e;return t.colors.dropdown}));var R,K,U=e=>{let{proposal:t}=e;const n="/voting/proposal/".concat(t.id);return Object(p.jsxs)(J,{to:n,children:[Object(p.jsxs)(o.n,{as:"span",style:{flex:1},children:[Object(p.jsx)(o.Zb,{bold:!0,mb:"8px",children:t.title}),Object(p.jsx)(o.V,{alignItems:"center",mb:"8px",children:Object(p.jsx)(H,{startDate:t.start,endDate:t.end,proposalState:t.state})}),Object(p.jsxs)(o.V,{alignItems:"center",children:[Object(p.jsx)(X.a,{proposalState:t.state}),Object(p.jsx)(X.b,{isCoreProposal:Object(E.h)(t),ml:"8px"})]})]}),Object(p.jsx)(o.ab,{variant:"text",children:Object(p.jsx)(o.e,{width:"24px"})})]})};const Y=Object(a.e)(o.V).attrs({alignItems:"center"})(R||(R=Object(c.a)(["\n  border-bottom: 1px solid ",";\n  padding: 16px 24px;\n"])),(e=>{let{theme:t}=e;return t.colors.cardBorder})),_=a.e.label(K||(K=Object(c.a)(["\n  align-items: center;\n  cursor: pointer;\n  display: flex;\n  margin-right: 16px;\n"]))),z=[{value:C.d.ACTIVE,label:"Vote Now"},{value:C.d.PENDING,label:"Soon"},{value:C.d.CLOSED,label:"Closed"}];var Q=e=>{let{filterState:t,onFilterChange:n,isLoading:r}=e;const{t:c}=Object(l.b)();return Object(p.jsx)(Y,{children:z.map((e=>{let{value:s,label:a}=e;return Object(p.jsxs)(_,{children:[Object(p.jsx)(o.Lb,{scale:"sm",value:s,checked:t===s,onChange:e=>{const{value:t}=e.currentTarget;n(t)},disabled:r}),Object(p.jsx)(o.Zb,{ml:"8px",children:c(a)})]},a)}))})};var W,q,$=()=>{const{t:e}=Object(l.b)(),[t,n]=Object(s.useState)({proposalType:C.e.CORE,filterState:C.d.ACTIVE}),r=Object(w.b)(),c=Object(w.c)(),a=Object(v.b)(),{proposalType:i,filterState:j}=t,d=r===C.g.LOADING,u=r===C.g.IDLE;Object(s.useEffect)((()=>{a(Object(y.c)({first:1e3,state:j}))}),[j,a]);const x=Object(E.b)(Object(E.c)(c,i),j);return Object(p.jsxs)(b.a,{py:"40px",children:[Object(p.jsx)(o.n,{mb:"48px",children:Object(p.jsxs)(o.o,{children:[Object(p.jsx)(I.a,{to:"/",children:e("Home")}),Object(p.jsx)(o.Zb,{children:e("Voting")})]})}),Object(p.jsx)(o.X,{as:"h2",scale:"xl",mb:"32px",children:e("Proposals")}),Object(p.jsxs)(o.v,{children:[Object(p.jsx)(P,{proposalType:i,onTypeChange:e=>{n((t=>({...t,proposalType:e})))}}),Object(p.jsx)(Q,{filterState:j,onFilterChange:e=>{n((t=>({...t,filterState:e})))},isLoading:d}),d&&Object(p.jsx)(N,{}),u&&x.length>0&&x.map((e=>Object(p.jsx)(U,{proposal:e},e.id))),u&&0===x.length&&Object(p.jsx)(o.V,{alignItems:"center",justifyContent:"center",p:"32px",children:Object(p.jsx)(o.X,{as:"h5",children:e("No proposals found")})})]})]})};const ee=a.e.div(W||(W=Object(c.a)(["\n  flex: none;\n"]))),te=a.e.div(q||(q=Object(c.a)(["\n  flex: 1;\n  height: 100%;\n"])));t.default=()=>Object(p.jsxs)(o.V,{flexDirection:"column",minHeight:"calc(100vh - 64px)",children:[Object(p.jsx)(ee,{children:Object(p.jsx)(O,{})}),Object(p.jsx)(te,{children:Object(p.jsx)($,{})}),Object(p.jsx)(ee,{children:Object(p.jsx)(m,{})})]})},744:function(e,t,n){"use strict";n.d(t,"h",(function(){return j})),n.d(t,"c",(function(){return d})),n.d(t,"b",(function(){return p})),n.d(t,"d",(function(){return u})),n.d(t,"e",(function(){return x})),n.d(t,"i",(function(){return O})),n.d(t,"g",(function(){return h})),n.d(t,"a",(function(){return f})),n.d(t,"f",(function(){return g}));var r=n(11),c=n.n(r),s=n(15),o=n(84),a=n(23),i=n(50),l=n(82),b=n(746);const j=e=>e.author.toLowerCase()===b.a.toLowerCase(),d=(e,t)=>{switch(t){case i.e.COMMUNITY:return e.filter((e=>!j(e)));case i.e.CORE:return e.filter((e=>j(e)));case i.e.ALL:default:return e}},p=(e,t)=>e.filter((e=>e.state===t)),u=()=>({plugins:{},network:56,strategies:[{name:"cake",params:{symbol:"CAKE",address:Object(s.f)(),decimals:18}}]}),x=()=>({version:b.e,timestamp:(Date.now()/1e3).toFixed(),space:b.c}),O=async e=>{const t=await fetch(o.e,{method:"post",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(e)});if(!t.ok){const e=await t.json();throw new Error(null===e||void 0===e?void 0:e.error_description)}return await t.json()},h=async(e,t,n)=>{const r=n||await l.a.getBlockNumber(),c=await fetch("".concat(o.f,"/power"),{method:"post",headers:{"Content-Type":"application/json"},body:JSON.stringify({address:e,block:r,poolAddresses:t})});return(await c.json()).data},f=e=>e.reduce(((e,t)=>{const n=t.proposal.choices[t.choice-1];return{...e,[n]:e[n]?[...e[n],t]:[t]}}),{}),g=e=>e.reduce(((e,t)=>{var n;const r=new c.a(null===(n=t.metadata)||void 0===n?void 0:n.votingPower);return e.plus(r)}),a.d)},746:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return s})),n.d(t,"e",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"f",(function(){return i}));const r=10,c="0x2096aFDaA68EEaE1EbF95DFdf565eE6d9B1fbA37",s="https://gateway.ipfs.io/ipfs",o="0.1.3",a="cake.eth",i=10},780:function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"a",(function(){return s})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return i}));var r=n(25);const c=()=>{const e=Object(r.c)((e=>e.voting.proposals));return Object.values(e)},s=e=>Object(r.c)((t=>t.voting.proposals[e])),o=e=>{const t=Object(r.c)((t=>t.voting.votes[e]));return t?t.filter((e=>!0!==e._inValid)):[]},a=()=>Object(r.c)((e=>e.voting.voteLoadingStatus)),i=()=>Object(r.c)((e=>e.voting.proposalLoadingStatus))},781:function(e,t,n){var r=n(444),c=n(815),s=n(816),o=4294967295,a=Math.min;e.exports=function(e,t){if((e=s(e))<1||e>9007199254740991)return[];var n=o,i=a(e,o);t=c(t),e-=o;for(var l=r(i,t);++n<e;)t(n);return l}},795:function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));n(0);var r=n(167),c=n(50),s=n(1);const o=e=>{let{proposalState:t,...n}=e;return t===c.d.ACTIVE?Object(s.jsx)(r.h,{...n}):t===c.d.PENDING?Object(s.jsx)(r.g,{...n}):Object(s.jsx)(r.a,{...n})},a=e=>{let{isCoreProposal:t,...n}=e;return t?Object(s.jsx)(r.d,{...n}):Object(s.jsx)(r.b,{...n})}},814:function(e,t,n){"use strict";var r,c=n(7),s=n(69),o=n(4);const a=Object(o.e)(s.a)(r||(r=Object(c.a)(["\n  color: ",";\n"])),(e=>{let{theme:t}=e;return t.colors.primaryBright}));t.a=a},815:function(e,t,n){var r=n(151);e.exports=function(e){return"function"==typeof e?e:r}},816:function(e,t,n){var r=n(446);e.exports=function(e){var t=r(e),n=t%1;return t===t?n?t-n:t:0}}}]);
//# sourceMappingURL=11.8938bbc8.chunk.js.map