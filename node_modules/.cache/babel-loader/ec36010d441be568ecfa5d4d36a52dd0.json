{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$(),\n  _s4 = $RefreshSig$();\nimport { parseUnits } from '@ethersproject/units';\nimport { CurrencyAmount, ETHER, JSBI, Token, TokenAmount } from '@pancakeswap/sdk';\nimport { useCallback, useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport useENS from 'hooks/ENS/useENS';\nimport useActiveWeb3React from 'hooks/useActiveWeb3React';\nimport { useCurrency } from 'hooks/Tokens';\nimport { useTradeExactIn, useTradeExactOut } from 'hooks/Trades';\nimport useParsedQueryString from 'hooks/useParsedQueryString';\nimport { useTranslation } from 'contexts/Localization';\nimport { isAddress } from 'utils';\nimport { computeSlippageAdjustedAmounts } from 'utils/prices';\nimport { useCurrencyBalances } from '../wallet/hooks';\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions';\nimport { useUserSlippageTolerance } from '../user/hooks';\nexport function useSwapState() {\n  _s();\n  return useSelector(state => state.swap);\n}\n_s(useSwapState, \"nKHvd/QB6hocKEk0fSJoSYcCyR8=\", false, function () {\n  return [useSelector];\n});\nexport function useSwapActionHandlers() {\n  _s2();\n  const dispatch = useDispatch();\n  const onCurrencySelection = useCallback((field, currency) => {\n    dispatch(selectCurrency({\n      field,\n      currencyId: currency instanceof Token ? currency.address : currency === ETHER ? 'BNB' : ''\n    }));\n  }, [dispatch]);\n  const onSwitchTokens = useCallback(() => {\n    dispatch(switchCurrencies());\n  }, [dispatch]);\n  const onUserInput = useCallback((field, typedValue) => {\n    dispatch(typeInput({\n      field,\n      typedValue\n    }));\n  }, [dispatch]);\n  const onChangeRecipient = useCallback(recipient => {\n    dispatch(setRecipient({\n      recipient\n    }));\n  }, [dispatch]);\n  return {\n    onSwitchTokens,\n    onCurrencySelection,\n    onUserInput,\n    onChangeRecipient\n  };\n}\n\n// try to parse a user entered amount for a given token\n_s2(useSwapActionHandlers, \"oIW3xZhV8GZLW5UVB2t9AN9x/ck=\", false, function () {\n  return [useDispatch];\n});\nexport function tryParseAmount(value, currency) {\n  if (!value || !currency) {\n    return undefined;\n  }\n  try {\n    const typedValueParsed = parseUnits(value, currency.decimals).toString();\n    if (typedValueParsed !== '0') {\n      return currency instanceof Token ? new TokenAmount(currency, JSBI.BigInt(typedValueParsed)) : CurrencyAmount.ether(JSBI.BigInt(typedValueParsed));\n    }\n  } catch (error) {\n    // should fail if the user specifies too many decimal places of precision (or maybe exceed max uint?)\n    console.debug(`Failed to parse input amount: \"${value}\"`, error);\n  }\n  // necessary for all paths to return a value\n  return undefined;\n}\nconst BAD_RECIPIENT_ADDRESSES = ['0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f',\n// v2 factory\n'0xf164fC0Ec4E93095b804a4795bBe1e041497b92a',\n// v2 router 01\n'0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D' // v2 router 02\n];\n\n/**\r\n * Returns true if any of the pairs or tokens in a trade have the given checksummed address\r\n * @param trade to check for the given address\r\n * @param checksummedAddress address to check in the pairs and tokens\r\n */\nfunction involvesAddress(trade, checksummedAddress) {\n  return trade.route.path.some(token => token.address === checksummedAddress) || trade.route.pairs.some(pair => pair.liquidityToken.address === checksummedAddress);\n}\n\n// from the current swap inputs, compute the best trade and return it.\nexport function useDerivedSwapInfo() {\n  _s3();\n  var _ref, _ref2;\n  const {\n    account\n  } = useActiveWeb3React();\n  const {\n    t\n  } = useTranslation();\n  const {\n    independentField,\n    typedValue,\n    [Field.INPUT]: {\n      currencyId: inputCurrencyId\n    },\n    [Field.OUTPUT]: {\n      currencyId: outputCurrencyId\n    },\n    recipient\n  } = useSwapState();\n  const inputCurrency = useCurrency(inputCurrencyId);\n  const outputCurrency = useCurrency(outputCurrencyId);\n  const recipientLookup = useENS(recipient !== null && recipient !== void 0 ? recipient : undefined);\n  const to = (_ref = recipient === null ? account : recipientLookup.address) !== null && _ref !== void 0 ? _ref : null;\n  const relevantTokenBalances = useCurrencyBalances(account !== null && account !== void 0 ? account : undefined, [inputCurrency !== null && inputCurrency !== void 0 ? inputCurrency : undefined, outputCurrency !== null && outputCurrency !== void 0 ? outputCurrency : undefined]);\n  const isExactIn = independentField === Field.INPUT;\n  const parsedAmount = tryParseAmount(typedValue, (_ref2 = isExactIn ? inputCurrency : outputCurrency) !== null && _ref2 !== void 0 ? _ref2 : undefined);\n  const bestTradeExactIn = useTradeExactIn(isExactIn ? parsedAmount : undefined, outputCurrency !== null && outputCurrency !== void 0 ? outputCurrency : undefined);\n  const bestTradeExactOut = useTradeExactOut(inputCurrency !== null && inputCurrency !== void 0 ? inputCurrency : undefined, !isExactIn ? parsedAmount : undefined);\n  const v2Trade = isExactIn ? bestTradeExactIn : bestTradeExactOut;\n  const currencyBalances = {\n    [Field.INPUT]: relevantTokenBalances[0],\n    [Field.OUTPUT]: relevantTokenBalances[1]\n  };\n  const currencies = {\n    [Field.INPUT]: inputCurrency !== null && inputCurrency !== void 0 ? inputCurrency : undefined,\n    [Field.OUTPUT]: outputCurrency !== null && outputCurrency !== void 0 ? outputCurrency : undefined\n  };\n  let inputError;\n  if (!account) {\n    inputError = t('Connect Wallet');\n  }\n  if (!parsedAmount) {\n    var _inputError;\n    inputError = (_inputError = inputError) !== null && _inputError !== void 0 ? _inputError : t('Enter an amount');\n  }\n  if (!currencies[Field.INPUT] || !currencies[Field.OUTPUT]) {\n    var _inputError2;\n    inputError = (_inputError2 = inputError) !== null && _inputError2 !== void 0 ? _inputError2 : t('Select a token');\n  }\n  const formattedTo = isAddress(to);\n  if (!to || !formattedTo) {\n    var _inputError3;\n    inputError = (_inputError3 = inputError) !== null && _inputError3 !== void 0 ? _inputError3 : t('Enter a recipient');\n  } else if (BAD_RECIPIENT_ADDRESSES.indexOf(formattedTo) !== -1 || bestTradeExactIn && involvesAddress(bestTradeExactIn, formattedTo) || bestTradeExactOut && involvesAddress(bestTradeExactOut, formattedTo)) {\n    var _inputError4;\n    inputError = (_inputError4 = inputError) !== null && _inputError4 !== void 0 ? _inputError4 : t('Invalid recipient');\n  }\n  const [allowedSlippage] = useUserSlippageTolerance();\n  const slippageAdjustedAmounts = v2Trade && allowedSlippage && computeSlippageAdjustedAmounts(v2Trade, allowedSlippage);\n\n  // compare input balance to max input based on version\n  const [balanceIn, amountIn] = [currencyBalances[Field.INPUT], slippageAdjustedAmounts ? slippageAdjustedAmounts[Field.INPUT] : null];\n  if (balanceIn && amountIn && balanceIn.lessThan(amountIn)) {\n    inputError = t('Insufficient %symbol% balance', {\n      symbol: amountIn.currency.symbol\n    });\n  }\n  return {\n    currencies,\n    currencyBalances,\n    parsedAmount,\n    v2Trade: v2Trade !== null && v2Trade !== void 0 ? v2Trade : undefined,\n    inputError\n  };\n}\n_s3(useDerivedSwapInfo, \"ygH4m53qQmNqHYGMiSeXV/M7kRI=\", false, function () {\n  return [useActiveWeb3React, useTranslation, useSwapState, useCurrency, useCurrency, useENS, useCurrencyBalances, useTradeExactIn, useTradeExactOut, useUserSlippageTolerance];\n});\nfunction parseCurrencyFromURLParameter(urlParam) {\n  var _BNB;\n  if (typeof urlParam === 'string') {\n    const valid = isAddress(urlParam);\n    if (valid) return valid;\n    if (urlParam.toUpperCase() === 'BNB') return 'BNB';\n    if (valid === false) return 'BNB';\n  }\n  return (_BNB = 'BNB') !== null && _BNB !== void 0 ? _BNB : '';\n}\nfunction parseTokenAmountURLParameter(urlParam) {\n  // eslint-disable-next-line no-restricted-globals\n  return typeof urlParam === 'string' && !isNaN(parseFloat(urlParam)) ? urlParam : '';\n}\nfunction parseIndependentFieldURLParameter(urlParam) {\n  return typeof urlParam === 'string' && urlParam.toLowerCase() === 'output' ? Field.OUTPUT : Field.INPUT;\n}\nconst ENS_NAME_REGEX = /^[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?$/;\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/;\nfunction validatedRecipient(recipient) {\n  if (typeof recipient !== 'string') return null;\n  const address = isAddress(recipient);\n  if (address) return address;\n  if (ENS_NAME_REGEX.test(recipient)) return recipient;\n  if (ADDRESS_REGEX.test(recipient)) return recipient;\n  return null;\n}\nexport function queryParametersToSwapState(parsedQs) {\n  let inputCurrency = parseCurrencyFromURLParameter(parsedQs.inputCurrency);\n  let outputCurrency = parseCurrencyFromURLParameter(parsedQs.outputCurrency);\n  if (inputCurrency === outputCurrency) {\n    if (typeof parsedQs.outputCurrency === 'string') {\n      inputCurrency = '';\n    } else {\n      outputCurrency = '';\n    }\n  }\n  const recipient = validatedRecipient(parsedQs.recipient);\n  return {\n    [Field.INPUT]: {\n      currencyId: inputCurrency\n    },\n    [Field.OUTPUT]: {\n      currencyId: outputCurrency\n    },\n    typedValue: parseTokenAmountURLParameter(parsedQs.exactAmount),\n    independentField: parseIndependentFieldURLParameter(parsedQs.exactField),\n    recipient\n  };\n}\n\n// updates the swap state to use the defaults for a given network\nexport function useDefaultsFromURLSearch() {\n  _s4();\n  const {\n    chainId\n  } = useActiveWeb3React();\n  const dispatch = useDispatch();\n  const parsedQs = useParsedQueryString();\n  const [result, setResult] = useState();\n  useEffect(() => {\n    if (!chainId) return;\n    const parsed = queryParametersToSwapState(parsedQs);\n    dispatch(replaceSwapState({\n      typedValue: parsed.typedValue,\n      field: parsed.independentField,\n      inputCurrencyId: parsed[Field.INPUT].currencyId,\n      outputCurrencyId: parsed[Field.OUTPUT].currencyId,\n      recipient: null\n    }));\n    setResult({\n      inputCurrencyId: parsed[Field.INPUT].currencyId,\n      outputCurrencyId: parsed[Field.OUTPUT].currencyId\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [dispatch, chainId]);\n  return result;\n}\n_s4(useDefaultsFromURLSearch, \"2CnDlZ82rqfhhBu4OPGgJbxv0gQ=\", false, function () {\n  return [useActiveWeb3React, useDispatch, useParsedQueryString];\n});","map":{"version":3,"names":["parseUnits","CurrencyAmount","ETHER","JSBI","Token","TokenAmount","useCallback","useEffect","useState","useDispatch","useSelector","useENS","useActiveWeb3React","useCurrency","useTradeExactIn","useTradeExactOut","useParsedQueryString","useTranslation","isAddress","computeSlippageAdjustedAmounts","useCurrencyBalances","Field","replaceSwapState","selectCurrency","setRecipient","switchCurrencies","typeInput","useUserSlippageTolerance","useSwapState","_s","state","swap","useSwapActionHandlers","_s2","dispatch","onCurrencySelection","field","currency","currencyId","address","onSwitchTokens","onUserInput","typedValue","onChangeRecipient","recipient","tryParseAmount","value","undefined","typedValueParsed","decimals","toString","BigInt","ether","error","console","debug","BAD_RECIPIENT_ADDRESSES","involvesAddress","trade","checksummedAddress","route","path","some","token","pairs","pair","liquidityToken","useDerivedSwapInfo","_s3","_ref","_ref2","account","t","independentField","INPUT","inputCurrencyId","OUTPUT","outputCurrencyId","inputCurrency","outputCurrency","recipientLookup","to","relevantTokenBalances","isExactIn","parsedAmount","bestTradeExactIn","bestTradeExactOut","v2Trade","currencyBalances","currencies","inputError","_inputError","_inputError2","formattedTo","_inputError3","indexOf","_inputError4","allowedSlippage","slippageAdjustedAmounts","balanceIn","amountIn","lessThan","symbol","parseCurrencyFromURLParameter","urlParam","_BNB","valid","toUpperCase","parseTokenAmountURLParameter","isNaN","parseFloat","parseIndependentFieldURLParameter","toLowerCase","ENS_NAME_REGEX","ADDRESS_REGEX","validatedRecipient","test","queryParametersToSwapState","parsedQs","exactAmount","exactField","useDefaultsFromURLSearch","_s4","chainId","result","setResult","parsed"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/state/swap/hooks.ts"],"sourcesContent":["import { parseUnits } from '@ethersproject/units'\r\nimport { Currency, CurrencyAmount, ETHER, JSBI, Token, TokenAmount, Trade } from '@pancakeswap/sdk'\r\nimport { ParsedQs } from 'qs'\r\nimport { useCallback, useEffect, useState } from 'react'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport useENS from 'hooks/ENS/useENS'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { useCurrency } from 'hooks/Tokens'\r\nimport { useTradeExactIn, useTradeExactOut } from 'hooks/Trades'\r\nimport useParsedQueryString from 'hooks/useParsedQueryString'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { isAddress } from 'utils'\r\nimport { computeSlippageAdjustedAmounts } from 'utils/prices'\r\nimport { AppDispatch, AppState } from '../index'\r\nimport { useCurrencyBalances } from '../wallet/hooks'\r\nimport { Field, replaceSwapState, selectCurrency, setRecipient, switchCurrencies, typeInput } from './actions'\r\nimport { SwapState } from './reducer'\r\nimport { useUserSlippageTolerance } from '../user/hooks'\r\n\r\nexport function useSwapState(): AppState['swap'] {\r\n  return useSelector<AppState, AppState['swap']>((state) => state.swap)\r\n}\r\n\r\nexport function useSwapActionHandlers(): {\r\n  onCurrencySelection: (field: Field, currency: Currency) => void\r\n  onSwitchTokens: () => void\r\n  onUserInput: (field: Field, typedValue: string) => void\r\n  onChangeRecipient: (recipient: string | null) => void\r\n} {\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const onCurrencySelection = useCallback(\r\n    (field: Field, currency: Currency) => {\r\n      dispatch(\r\n        selectCurrency({\r\n          field,\r\n          currencyId: currency instanceof Token ? currency.address : currency === ETHER ? 'BNB' : '',\r\n        }),\r\n      )\r\n    },\r\n    [dispatch],\r\n  )\r\n\r\n  const onSwitchTokens = useCallback(() => {\r\n    dispatch(switchCurrencies())\r\n  }, [dispatch])\r\n\r\n  const onUserInput = useCallback(\r\n    (field: Field, typedValue: string) => {\r\n      dispatch(typeInput({ field, typedValue }))\r\n    },\r\n    [dispatch],\r\n  )\r\n\r\n  const onChangeRecipient = useCallback(\r\n    (recipient: string | null) => {\r\n      dispatch(setRecipient({ recipient }))\r\n    },\r\n    [dispatch],\r\n  )\r\n\r\n  return {\r\n    onSwitchTokens,\r\n    onCurrencySelection,\r\n    onUserInput,\r\n    onChangeRecipient,\r\n  }\r\n}\r\n\r\n// try to parse a user entered amount for a given token\r\nexport function tryParseAmount(value?: string, currency?: Currency): CurrencyAmount | undefined {\r\n  if (!value || !currency) {\r\n    return undefined\r\n  }\r\n  try {\r\n    const typedValueParsed = parseUnits(value, currency.decimals).toString()\r\n    if (typedValueParsed !== '0') {\r\n      return currency instanceof Token\r\n        ? new TokenAmount(currency, JSBI.BigInt(typedValueParsed))\r\n        : CurrencyAmount.ether(JSBI.BigInt(typedValueParsed))\r\n    }\r\n  } catch (error) {\r\n    // should fail if the user specifies too many decimal places of precision (or maybe exceed max uint?)\r\n    console.debug(`Failed to parse input amount: \"${value}\"`, error)\r\n  }\r\n  // necessary for all paths to return a value\r\n  return undefined\r\n}\r\n\r\nconst BAD_RECIPIENT_ADDRESSES: string[] = [\r\n  '0x5C69bEe701ef814a2B6a3EDD4B1652CB9cc5aA6f', // v2 factory\r\n  '0xf164fC0Ec4E93095b804a4795bBe1e041497b92a', // v2 router 01\r\n  '0x7a250d5630B4cF539739dF2C5dAcb4c659F2488D', // v2 router 02\r\n]\r\n\r\n/**\r\n * Returns true if any of the pairs or tokens in a trade have the given checksummed address\r\n * @param trade to check for the given address\r\n * @param checksummedAddress address to check in the pairs and tokens\r\n */\r\nfunction involvesAddress(trade: Trade, checksummedAddress: string): boolean {\r\n  return (\r\n    trade.route.path.some((token) => token.address === checksummedAddress) ||\r\n    trade.route.pairs.some((pair) => pair.liquidityToken.address === checksummedAddress)\r\n  )\r\n}\r\n\r\n// from the current swap inputs, compute the best trade and return it.\r\nexport function useDerivedSwapInfo(): {\r\n  currencies: { [field in Field]?: Currency }\r\n  currencyBalances: { [field in Field]?: CurrencyAmount }\r\n  parsedAmount: CurrencyAmount | undefined\r\n  v2Trade: Trade | undefined\r\n  inputError?: string\r\n} {\r\n  const { account } = useActiveWeb3React()\r\n  const { t } = useTranslation()\r\n\r\n  const {\r\n    independentField,\r\n    typedValue,\r\n    [Field.INPUT]: { currencyId: inputCurrencyId },\r\n    [Field.OUTPUT]: { currencyId: outputCurrencyId },\r\n    recipient,\r\n  } = useSwapState()\r\n\r\n  const inputCurrency = useCurrency(inputCurrencyId)\r\n  const outputCurrency = useCurrency(outputCurrencyId)\r\n  const recipientLookup = useENS(recipient ?? undefined)\r\n  const to: string | null = (recipient === null ? account : recipientLookup.address) ?? null\r\n\r\n  const relevantTokenBalances = useCurrencyBalances(account ?? undefined, [\r\n    inputCurrency ?? undefined,\r\n    outputCurrency ?? undefined,\r\n  ])\r\n\r\n  const isExactIn: boolean = independentField === Field.INPUT\r\n  const parsedAmount = tryParseAmount(typedValue, (isExactIn ? inputCurrency : outputCurrency) ?? undefined)\r\n\r\n  const bestTradeExactIn = useTradeExactIn(isExactIn ? parsedAmount : undefined, outputCurrency ?? undefined)\r\n  const bestTradeExactOut = useTradeExactOut(inputCurrency ?? undefined, !isExactIn ? parsedAmount : undefined)\r\n\r\n  const v2Trade = isExactIn ? bestTradeExactIn : bestTradeExactOut\r\n\r\n  const currencyBalances = {\r\n    [Field.INPUT]: relevantTokenBalances[0],\r\n    [Field.OUTPUT]: relevantTokenBalances[1],\r\n  }\r\n\r\n  const currencies: { [field in Field]?: Currency } = {\r\n    [Field.INPUT]: inputCurrency ?? undefined,\r\n    [Field.OUTPUT]: outputCurrency ?? undefined,\r\n  }\r\n\r\n  let inputError: string | undefined\r\n  if (!account) {\r\n    inputError = t('Connect Wallet')\r\n  }\r\n\r\n  if (!parsedAmount) {\r\n    inputError = inputError ?? t('Enter an amount')\r\n  }\r\n\r\n  if (!currencies[Field.INPUT] || !currencies[Field.OUTPUT]) {\r\n    inputError = inputError ?? t('Select a token')\r\n  }\r\n\r\n  const formattedTo = isAddress(to)\r\n  if (!to || !formattedTo) {\r\n    inputError = inputError ?? t('Enter a recipient')\r\n  } else if (\r\n    BAD_RECIPIENT_ADDRESSES.indexOf(formattedTo) !== -1 ||\r\n    (bestTradeExactIn && involvesAddress(bestTradeExactIn, formattedTo)) ||\r\n    (bestTradeExactOut && involvesAddress(bestTradeExactOut, formattedTo))\r\n  ) {\r\n    inputError = inputError ?? t('Invalid recipient')\r\n  }\r\n\r\n  const [allowedSlippage] = useUserSlippageTolerance()\r\n\r\n  const slippageAdjustedAmounts = v2Trade && allowedSlippage && computeSlippageAdjustedAmounts(v2Trade, allowedSlippage)\r\n\r\n  // compare input balance to max input based on version\r\n  const [balanceIn, amountIn] = [\r\n    currencyBalances[Field.INPUT],\r\n    slippageAdjustedAmounts ? slippageAdjustedAmounts[Field.INPUT] : null,\r\n  ]\r\n\r\n  if (balanceIn && amountIn && balanceIn.lessThan(amountIn)) {\r\n    inputError = t('Insufficient %symbol% balance', { symbol: amountIn.currency.symbol })\r\n  }\r\n\r\n  return {\r\n    currencies,\r\n    currencyBalances,\r\n    parsedAmount,\r\n    v2Trade: v2Trade ?? undefined,\r\n    inputError,\r\n  }\r\n}\r\n\r\nfunction parseCurrencyFromURLParameter(urlParam: any): string {\r\n  if (typeof urlParam === 'string') {\r\n    const valid = isAddress(urlParam)\r\n    if (valid) return valid\r\n    if (urlParam.toUpperCase() === 'BNB') return 'BNB'\r\n    if (valid === false) return 'BNB'\r\n  }\r\n  return 'BNB' ?? ''\r\n}\r\n\r\nfunction parseTokenAmountURLParameter(urlParam: any): string {\r\n  // eslint-disable-next-line no-restricted-globals\r\n  return typeof urlParam === 'string' && !isNaN(parseFloat(urlParam)) ? urlParam : ''\r\n}\r\n\r\nfunction parseIndependentFieldURLParameter(urlParam: any): Field {\r\n  return typeof urlParam === 'string' && urlParam.toLowerCase() === 'output' ? Field.OUTPUT : Field.INPUT\r\n}\r\n\r\nconst ENS_NAME_REGEX = /^[-a-zA-Z0-9@:%._+~#=]{1,256}\\.[a-zA-Z0-9()]{1,6}\\b([-a-zA-Z0-9()@:%_+.~#?&/=]*)?$/\r\nconst ADDRESS_REGEX = /^0x[a-fA-F0-9]{40}$/\r\nfunction validatedRecipient(recipient: any): string | null {\r\n  if (typeof recipient !== 'string') return null\r\n  const address = isAddress(recipient)\r\n  if (address) return address\r\n  if (ENS_NAME_REGEX.test(recipient)) return recipient\r\n  if (ADDRESS_REGEX.test(recipient)) return recipient\r\n  return null\r\n}\r\n\r\nexport function queryParametersToSwapState(parsedQs: ParsedQs): SwapState {\r\n  let inputCurrency = parseCurrencyFromURLParameter(parsedQs.inputCurrency)\r\n  let outputCurrency = parseCurrencyFromURLParameter(parsedQs.outputCurrency)\r\n  if (inputCurrency === outputCurrency) {\r\n    if (typeof parsedQs.outputCurrency === 'string') {\r\n      inputCurrency = ''\r\n    } else {\r\n      outputCurrency = ''\r\n    }\r\n  }\r\n\r\n  const recipient = validatedRecipient(parsedQs.recipient)\r\n\r\n  return {\r\n    [Field.INPUT]: {\r\n      currencyId: inputCurrency,\r\n    },\r\n    [Field.OUTPUT]: {\r\n      currencyId: outputCurrency,\r\n    },\r\n    typedValue: parseTokenAmountURLParameter(parsedQs.exactAmount),\r\n    independentField: parseIndependentFieldURLParameter(parsedQs.exactField),\r\n    recipient,\r\n  }\r\n}\r\n\r\n// updates the swap state to use the defaults for a given network\r\nexport function useDefaultsFromURLSearch():\r\n  | { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined }\r\n  | undefined {\r\n  const { chainId } = useActiveWeb3React()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const parsedQs = useParsedQueryString()\r\n  const [result, setResult] = useState<\r\n    { inputCurrencyId: string | undefined; outputCurrencyId: string | undefined } | undefined\r\n  >()\r\n\r\n  useEffect(() => {\r\n    if (!chainId) return\r\n    const parsed = queryParametersToSwapState(parsedQs)\r\n\r\n    dispatch(\r\n      replaceSwapState({\r\n        typedValue: parsed.typedValue,\r\n        field: parsed.independentField,\r\n        inputCurrencyId: parsed[Field.INPUT].currencyId,\r\n        outputCurrencyId: parsed[Field.OUTPUT].currencyId,\r\n        recipient: null,\r\n      }),\r\n    )\r\n\r\n    setResult({ inputCurrencyId: parsed[Field.INPUT].currencyId, outputCurrencyId: parsed[Field.OUTPUT].currencyId })\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [dispatch, chainId])\r\n\r\n  return result\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}