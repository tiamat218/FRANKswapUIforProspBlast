{"ast":null,"code":"import{useEffect}from'react';import{useAppDispatch}from'state';import{setLastOraclePrice}from'state/predictions';import useGetLatestOraclePrice from'./useGetLatestOraclePrice';const usePollOraclePrice=function(){let seconds=arguments.length>0&&arguments[0]!==undefined?arguments[0]:30;const{price,refresh}=useGetLatestOraclePrice();const dispatch=useAppDispatch();// Poll for the oracle price\nuseEffect(()=>{refresh();const timer=setInterval(()=>{refresh();},seconds*1000);return()=>{clearInterval(timer);};},[seconds,refresh]);// If the price changed update global state\nuseEffect(()=>{dispatch(setLastOraclePrice(price.toJSON()));},[price,dispatch]);};export default usePollOraclePrice;","map":{"version":3,"names":["useEffect","useAppDispatch","setLastOraclePrice","useGetLatestOraclePrice","usePollOraclePrice","seconds","arguments","length","undefined","price","refresh","dispatch","timer","setInterval","clearInterval","toJSON"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Predictions/hooks/usePollOraclePrice.ts"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { useAppDispatch } from 'state'\r\nimport { setLastOraclePrice } from 'state/predictions'\r\nimport useGetLatestOraclePrice from './useGetLatestOraclePrice'\r\n\r\nconst usePollOraclePrice = (seconds = 30) => {\r\n  const { price, refresh } = useGetLatestOraclePrice()\r\n  const dispatch = useAppDispatch()\r\n\r\n  // Poll for the oracle price\r\n  useEffect(() => {\r\n    refresh()\r\n    const timer = setInterval(() => {\r\n      refresh()\r\n    }, seconds * 1000)\r\n\r\n    return () => {\r\n      clearInterval(timer)\r\n    }\r\n  }, [seconds, refresh])\r\n\r\n  // If the price changed update global state\r\n  useEffect(() => {\r\n    dispatch(setLastOraclePrice(price.toJSON()))\r\n  }, [price, dispatch])\r\n}\r\n\r\nexport default usePollOraclePrice\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,cAAc,KAAQ,OAAO,CACtC,OAASC,kBAAkB,KAAQ,mBAAmB,CACtD,MAAO,CAAAC,uBAAuB,KAAM,2BAA2B,CAE/D,KAAM,CAAAC,kBAAkB,CAAG,QAAAA,CAAA,CAAkB,IAAjB,CAAAC,OAAO,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,EAAE,CACtC,KAAM,CAAEG,KAAK,CAAEC,OAAQ,CAAC,CAAGP,uBAAuB,CAAC,CAAC,CACpD,KAAM,CAAAQ,QAAQ,CAAGV,cAAc,CAAC,CAAC,CAEjC;AACAD,SAAS,CAAC,IAAM,CACdU,OAAO,CAAC,CAAC,CACT,KAAM,CAAAE,KAAK,CAAGC,WAAW,CAAC,IAAM,CAC9BH,OAAO,CAAC,CAAC,CACX,CAAC,CAAEL,OAAO,CAAG,IAAI,CAAC,CAElB,MAAO,IAAM,CACXS,aAAa,CAACF,KAAK,CAAC,CACtB,CAAC,CACH,CAAC,CAAE,CAACP,OAAO,CAAEK,OAAO,CAAC,CAAC,CAEtB;AACAV,SAAS,CAAC,IAAM,CACdW,QAAQ,CAACT,kBAAkB,CAACO,KAAK,CAACM,MAAM,CAAC,CAAC,CAAC,CAAC,CAC9C,CAAC,CAAE,CAACN,KAAK,CAAEE,QAAQ,CAAC,CAAC,CACvB,CAAC,CAED,cAAe,CAAAP,kBAAkB","ignoreList":[]},"metadata":{},"sourceType":"module"}