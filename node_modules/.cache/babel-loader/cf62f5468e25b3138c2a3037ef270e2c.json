{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/frkul/Documents/swapUI_pancake-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React from'react';import{useWeb3React}from'@web3-react/core';import{ArrowForwardIcon,Box,Button,Radio,Flex,Heading,Text,ButtonMenu,ButtonMenuItem}from'@pancakeswap/uikit';import{useAppDispatch}from'state';import{HistoryFilter}from'state/types';import{setHistoryFilter,setHistoryPaneState,fetchHistory}from'state/predictions';import{useGetHistoryFilter,useGetIsFetchingHistory}from'state/hooks';import{useTranslation}from'contexts/Localization';import styled from'styled-components';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const Filter=styled.label(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  cursor: pointer;\\n  display: inline-flex;\\n  margin-right: 16px;\\n\"])));const StyledHeader=styled(Box)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background: \",\";\\n  flex: none;\\n  padding: 16px;\\n\"])),_ref=>{let{theme}=_ref;return theme.colors.gradients.bubblegum;});const ButtonMenuContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  & > div {\\n    width: 100%;\\n  }\\n\\n  & button {\\n    width: 100%;\\n  }\\n\"])));const getClaimParam=historyFilter=>{switch(historyFilter){case HistoryFilter.COLLECTED:return true;case HistoryFilter.UNCOLLECTED:return false;case HistoryFilter.ALL:default:return undefined;}};export let HistoryTabs;(function(HistoryTabs){HistoryTabs[HistoryTabs[\"ROUNDS\"]=0]=\"ROUNDS\";HistoryTabs[HistoryTabs[\"PNL\"]=1]=\"PNL\";})(HistoryTabs||(HistoryTabs={}));const Header=_ref2=>{let{activeTab,setActiveTab}=_ref2;const historyFilter=useGetHistoryFilter();const isFetchingHistory=useGetIsFetchingHistory();const{t}=useTranslation();const dispatch=useAppDispatch();const{account}=useWeb3React();const handleClick=()=>{dispatch(setHistoryPaneState(false));};const handleChange=newFilter=>async()=>{if(newFilter!==historyFilter){await dispatch(fetchHistory({account,claimed:getClaimParam(newFilter)}));dispatch(setHistoryFilter(newFilter));}};const switchTab=async tabIndex=>{setActiveTab(tabIndex);await handleChange(HistoryFilter.ALL)();};return/*#__PURE__*/_jsxs(StyledHeader,{children:[/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",justifyContent:\"space-between\",mb:\"16px\",children:[/*#__PURE__*/_jsx(Heading,{as:\"h3\",size:\"md\",children:t('History')}),/*#__PURE__*/_jsx(Button,{onClick:handleClick,variant:\"text\",endIcon:/*#__PURE__*/_jsx(ArrowForwardIcon,{color:\"primary\"}),px:\"0\",children:t('Close')})]}),/*#__PURE__*/_jsx(ButtonMenuContainer,{children:/*#__PURE__*/_jsxs(ButtonMenu,{activeIndex:activeTab,scale:\"sm\",variant:\"subtle\",onItemClick:switchTab,children:[/*#__PURE__*/_jsx(ButtonMenuItem,{children:t('Rounds')}),/*#__PURE__*/_jsx(ButtonMenuItem,{children:t('PNL')})]})}),activeTab===HistoryTabs.ROUNDS&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Text,{color:\"textSubtle\",fontSize:\"12px\",mb:\"8px\",children:t('Filter')}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.ALL,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.ALL)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('All')})]}),/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.COLLECTED,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.COLLECTED)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('Collected')})]}),/*#__PURE__*/_jsxs(Filter,{children:[/*#__PURE__*/_jsx(Radio,{scale:\"sm\",checked:historyFilter===HistoryFilter.UNCOLLECTED,disabled:isFetchingHistory||!account,onChange:handleChange(HistoryFilter.UNCOLLECTED)}),/*#__PURE__*/_jsx(Text,{ml:\"4px\",children:t('Uncollected')})]})]})]})]});};export default Header;","map":{"version":3,"names":["React","useWeb3React","ArrowForwardIcon","Box","Button","Radio","Flex","Heading","Text","ButtonMenu","ButtonMenuItem","useAppDispatch","HistoryFilter","setHistoryFilter","setHistoryPaneState","fetchHistory","useGetHistoryFilter","useGetIsFetchingHistory","useTranslation","styled","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Filter","label","_templateObject","_taggedTemplateLiteral","StyledHeader","_templateObject2","_ref","theme","colors","gradients","bubblegum","ButtonMenuContainer","div","_templateObject3","getClaimParam","historyFilter","COLLECTED","UNCOLLECTED","ALL","undefined","HistoryTabs","Header","_ref2","activeTab","setActiveTab","isFetchingHistory","t","dispatch","account","handleClick","handleChange","newFilter","claimed","switchTab","tabIndex","children","alignItems","justifyContent","mb","as","size","onClick","variant","endIcon","color","px","activeIndex","scale","onItemClick","ROUNDS","fontSize","checked","disabled","onChange","ml"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/views/Predictions/components/History/Header.tsx"],"sourcesContent":["import React from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport {\r\n  ArrowForwardIcon,\r\n  Box,\r\n  Button,\r\n  Radio,\r\n  Flex,\r\n  Heading,\r\n  Text,\r\n  ButtonMenu,\r\n  ButtonMenuItem,\r\n} from '@pancakeswap/uikit'\r\nimport { useAppDispatch } from 'state'\r\nimport { HistoryFilter } from 'state/types'\r\nimport { setHistoryFilter, setHistoryPaneState, fetchHistory } from 'state/predictions'\r\nimport { useGetHistoryFilter, useGetIsFetchingHistory } from 'state/hooks'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport styled from 'styled-components'\r\n\r\nconst Filter = styled.label`\r\n  align-items: center;\r\n  cursor: pointer;\r\n  display: inline-flex;\r\n  margin-right: 16px;\r\n`\r\n\r\nconst StyledHeader = styled(Box)`\r\n  background: ${({ theme }) => theme.colors.gradients.bubblegum};\r\n  flex: none;\r\n  padding: 16px;\r\n`\r\n\r\nconst ButtonMenuContainer = styled.div`\r\n  width: 100%;\r\n  & > div {\r\n    width: 100%;\r\n  }\r\n\r\n  & button {\r\n    width: 100%;\r\n  }\r\n`\r\n\r\nconst getClaimParam = (historyFilter: HistoryFilter) => {\r\n  switch (historyFilter) {\r\n    case HistoryFilter.COLLECTED:\r\n      return true\r\n    case HistoryFilter.UNCOLLECTED:\r\n      return false\r\n    case HistoryFilter.ALL:\r\n    default:\r\n      return undefined\r\n  }\r\n}\r\n\r\ninterface HeaderProps {\r\n  activeTab: HistoryTabs\r\n  setActiveTab: (value: HistoryTabs) => void\r\n}\r\n\r\nexport enum HistoryTabs {\r\n  ROUNDS,\r\n  PNL,\r\n}\r\n\r\nconst Header: React.FC<HeaderProps> = ({ activeTab, setActiveTab }) => {\r\n  const historyFilter = useGetHistoryFilter()\r\n  const isFetchingHistory = useGetIsFetchingHistory()\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n  const { account } = useWeb3React()\r\n\r\n  const handleClick = () => {\r\n    dispatch(setHistoryPaneState(false))\r\n  }\r\n\r\n  const handleChange = (newFilter: HistoryFilter) => async () => {\r\n    if (newFilter !== historyFilter) {\r\n      await dispatch(fetchHistory({ account, claimed: getClaimParam(newFilter) }))\r\n      dispatch(setHistoryFilter(newFilter))\r\n    }\r\n  }\r\n\r\n  const switchTab = async (tabIndex: number) => {\r\n    setActiveTab(tabIndex)\r\n    await handleChange(HistoryFilter.ALL)()\r\n  }\r\n\r\n  return (\r\n    <StyledHeader>\r\n      <Flex alignItems=\"center\" justifyContent=\"space-between\" mb=\"16px\">\r\n        <Heading as=\"h3\" size=\"md\">\r\n          {t('History')}\r\n        </Heading>\r\n        <Button onClick={handleClick} variant=\"text\" endIcon={<ArrowForwardIcon color=\"primary\" />} px=\"0\">\r\n          {t('Close')}\r\n        </Button>\r\n      </Flex>\r\n      <ButtonMenuContainer>\r\n        <ButtonMenu activeIndex={activeTab} scale=\"sm\" variant=\"subtle\" onItemClick={switchTab}>\r\n          <ButtonMenuItem>{t('Rounds')}</ButtonMenuItem>\r\n          <ButtonMenuItem>{t('PNL')}</ButtonMenuItem>\r\n        </ButtonMenu>\r\n      </ButtonMenuContainer>\r\n      {activeTab === HistoryTabs.ROUNDS && (\r\n        <>\r\n          <Text color=\"textSubtle\" fontSize=\"12px\" mb=\"8px\">\r\n            {t('Filter')}\r\n          </Text>\r\n          <Flex alignItems=\"center\">\r\n            <Filter>\r\n              <Radio\r\n                scale=\"sm\"\r\n                checked={historyFilter === HistoryFilter.ALL}\r\n                disabled={isFetchingHistory || !account}\r\n                onChange={handleChange(HistoryFilter.ALL)}\r\n              />\r\n              <Text ml=\"4px\">{t('All')}</Text>\r\n            </Filter>\r\n            <Filter>\r\n              <Radio\r\n                scale=\"sm\"\r\n                checked={historyFilter === HistoryFilter.COLLECTED}\r\n                disabled={isFetchingHistory || !account}\r\n                onChange={handleChange(HistoryFilter.COLLECTED)}\r\n              />\r\n              <Text ml=\"4px\">{t('Collected')}</Text>\r\n            </Filter>\r\n            <Filter>\r\n              <Radio\r\n                scale=\"sm\"\r\n                checked={historyFilter === HistoryFilter.UNCOLLECTED}\r\n                disabled={isFetchingHistory || !account}\r\n                onChange={handleChange(HistoryFilter.UNCOLLECTED)}\r\n              />\r\n              <Text ml=\"4px\">{t('Uncollected')}</Text>\r\n            </Filter>\r\n          </Flex>\r\n        </>\r\n      )}\r\n    </StyledHeader>\r\n  )\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}