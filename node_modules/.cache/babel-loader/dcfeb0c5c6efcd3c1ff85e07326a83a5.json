{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/frkul/Documents/swapUI_pancake-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2,_templateObject3;import React,{memo,useCallback,useMemo,useState,useEffect}from'react';import{Button,Text,CheckmarkIcon,CogIcon,Input,Toggle,LinkExternal,useTooltip}from'@pancakeswap/uikit';import{useDispatch,useSelector}from'react-redux';import styled from'styled-components';import Card from'components/Card';import{UNSUPPORTED_LIST_URLS}from'config/constants/lists';import{parseENSAddress}from'utils/ENS/parseENSAddress';import{useTranslation}from'contexts/Localization';import useFetchListCallback from'../../hooks/useFetchListCallback';import{acceptListUpdate,removeList,disableList,enableList}from'../../state/lists/actions';import{useIsListActive,useAllLists,useActiveListUrls}from'../../state/lists/hooks';import uriToHttp from'../../utils/uriToHttp';import Column,{AutoColumn}from'../Layout/Column';import{ListLogo}from'../Logo';import Row,{RowFixed,RowBetween}from'../Layout/Row';import{CurrencyModalView}from'./types';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function listVersionLabel(version){return\"v\".concat(version.major,\".\").concat(version.minor,\".\").concat(version.patch);}const Wrapper=styled(Column)(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: 100%;\\n\"])));const RowWrapper=styled(Row)(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  background-color: \",\";\\n  border: solid 1px;\\n  border-color: \",\";\\n  transition: 200ms;\\n  align-items: center;\\n  padding: 1rem;\\n  border-radius: 20px;\\n\"])),_ref=>{let{active,theme}=_ref;return active?\"\".concat(theme.colors.success,\"19\"):'transparent';},_ref2=>{let{active,theme}=_ref2;return active?theme.colors.success:theme.colors.tertiary;});function listUrlRowHTMLId(listUrl){return\"list-row-\".concat(listUrl.replace(/\\./g,'-'));}const ListRow=/*#__PURE__*/memo(function ListRow(_ref3){let{listUrl}=_ref3;const listsByUrl=useSelector(state=>state.lists.byUrl);const dispatch=useDispatch();const{current:list,pendingUpdate:pending}=listsByUrl[listUrl];const isActive=useIsListActive(listUrl);const{t}=useTranslation();const handleAcceptListUpdate=useCallback(()=>{if(!pending)return;dispatch(acceptListUpdate(listUrl));},[dispatch,listUrl,pending]);const handleRemoveList=useCallback(()=>{// eslint-disable-next-line no-alert\nif(window.confirm('Please confirm you would like to remove this list')){dispatch(removeList(listUrl));}},[dispatch,listUrl]);const handleEnableList=useCallback(()=>{dispatch(enableList(listUrl));},[dispatch,listUrl]);const handleDisableList=useCallback(()=>{dispatch(disableList(listUrl));},[dispatch,listUrl]);const{targetRef,tooltip,tooltipVisible}=useTooltip(/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Text,{children:list&&listVersionLabel(list.version)}),/*#__PURE__*/_jsx(LinkExternal,{external:true,href:\"https://tokenlists.org/token-list?url=\".concat(listUrl),children:t('See')}),/*#__PURE__*/_jsx(Button,{variant:\"danger\",scale:\"xs\",onClick:handleRemoveList,disabled:Object.keys(listsByUrl).length===1,children:t('Remove')}),pending&&/*#__PURE__*/_jsx(Button,{variant:\"text\",onClick:handleAcceptListUpdate,style:{fontSize:'12px'},children:t('Update list')})]}),{placement:'right-end',trigger:'click'});if(!list)return null;return/*#__PURE__*/_jsxs(RowWrapper,{active:isActive,id:listUrlRowHTMLId(listUrl),children:[tooltipVisible&&tooltip,list.logoURI?/*#__PURE__*/_jsx(ListLogo,{size:\"40px\",style:{marginRight:'1rem'},logoURI:list.logoURI,alt:\"\".concat(list.name,\" list logo\")}):/*#__PURE__*/_jsx(\"div\",{style:{width:'24px',height:'24px',marginRight:'1rem'}}),/*#__PURE__*/_jsxs(Column,{style:{flex:'1'},children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Text,{bold:true,children:list.name})}),/*#__PURE__*/_jsxs(RowFixed,{mt:\"4px\",children:[/*#__PURE__*/_jsxs(Text,{fontSize:\"12px\",mr:\"6px\",textTransform:\"lowercase\",children:[list.tokens.length,\" \",t('Tokens')]}),/*#__PURE__*/_jsx(\"span\",{ref:targetRef,children:/*#__PURE__*/_jsx(CogIcon,{color:\"text\",width:\"12px\"})})]})]}),/*#__PURE__*/_jsx(Toggle,{checked:isActive,onChange:()=>{if(isActive){handleDisableList();}else{handleEnableList();}}})]},listUrl);});const ListContainer=styled.div(_templateObject3||(_templateObject3=_taggedTemplateLiteral([\"\\n  padding: 1rem 0;\\n  height: 100%;\\n  overflow: auto;\\n\"])));function ManageLists(_ref4){let{setModalView,setImportList,setListUrl}=_ref4;const[listUrlInput,setListUrlInput]=useState('');const{t}=useTranslation();const lists=useAllLists();// sort by active but only if not visible\nconst activeListUrls=useActiveListUrls();const[activeCopy,setActiveCopy]=useState();useEffect(()=>{if(!activeCopy&&activeListUrls){setActiveCopy(activeListUrls);}},[activeCopy,activeListUrls]);const handleInput=useCallback(e=>{setListUrlInput(e.target.value);},[]);const fetchList=useFetchListCallback();const validUrl=useMemo(()=>{return uriToHttp(listUrlInput).length>0||Boolean(parseENSAddress(listUrlInput));},[listUrlInput]);const sortedLists=useMemo(()=>{const listUrls=Object.keys(lists);return listUrls.filter(listUrl=>{// only show loaded lists, hide unsupported lists\nreturn Boolean(lists[listUrl].current)&&!UNSUPPORTED_LIST_URLS.includes(listUrl);}).sort((u1,u2)=>{const{current:l1}=lists[u1];const{current:l2}=lists[u2];// first filter on active lists\nif((activeCopy===null||activeCopy===void 0?void 0:activeCopy.includes(u1))&&!(activeCopy===null||activeCopy===void 0?void 0:activeCopy.includes(u2))){return-1;}if(!(activeCopy===null||activeCopy===void 0?void 0:activeCopy.includes(u1))&&(activeCopy===null||activeCopy===void 0?void 0:activeCopy.includes(u2))){return 1;}if(l1&&l2){return l1.name.toLowerCase()<l2.name.toLowerCase()?-1:l1.name.toLowerCase()===l2.name.toLowerCase()?0:1;}if(l1)return-1;if(l2)return 1;return 0;});},[lists,activeCopy]);// temporary fetched list for import flow\nconst[tempList,setTempList]=useState();const[addError,setAddError]=useState();useEffect(()=>{async function fetchTempList(){fetchList(listUrlInput,false).then(list=>setTempList(list)).catch(()=>setAddError('Error importing list'));}// if valid url, fetch details for card\nif(validUrl){fetchTempList();}else{setTempList(undefined);if(listUrlInput!==''){setAddError('Enter valid list location');}}// reset error\nif(listUrlInput===''){setAddError(undefined);}},[fetchList,listUrlInput,validUrl]);// check if list is already imported\nconst isImported=Object.keys(lists).includes(listUrlInput);// set list values and have parent modal switch to import list view\nconst handleImport=useCallback(()=>{if(!tempList)return;setImportList(tempList);setModalView(CurrencyModalView.importList);setListUrl(listUrlInput);},[listUrlInput,setImportList,setListUrl,setModalView,tempList]);return/*#__PURE__*/_jsxs(Wrapper,{children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"14px\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Input,{id:\"list-add-input\",scale:\"lg\",placeholder:t('https:// or ipfs:// or ENS name'),value:listUrlInput,onChange:handleInput})}),addError?/*#__PURE__*/_jsx(Text,{color:\"failure\",style:{textOverflow:'ellipsis',overflow:'hidden'},children:addError}):null]}),tempList&&/*#__PURE__*/_jsx(AutoColumn,{style:{paddingTop:0},children:/*#__PURE__*/_jsx(Card,{padding:\"12px 20px\",children:/*#__PURE__*/_jsxs(RowBetween,{children:[/*#__PURE__*/_jsxs(RowFixed,{children:[tempList.logoURI&&/*#__PURE__*/_jsx(ListLogo,{logoURI:tempList.logoURI,size:\"40px\"}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"4px\",style:{marginLeft:'20px'},children:[/*#__PURE__*/_jsx(Text,{bold:true,children:tempList.name}),/*#__PURE__*/_jsxs(Text,{color:\"textSubtle\",small:true,textTransform:\"lowercase\",children:[tempList.tokens.length,\" \",t('Tokens')]})]})]}),isImported?/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CheckmarkIcon,{width:\"16px\",mr:\"10px\"}),/*#__PURE__*/_jsx(Text,{children:t('Loaded')})]}):/*#__PURE__*/_jsx(Button,{width:\"fit-content\",onClick:handleImport,children:t('Import')})]})})}),/*#__PURE__*/_jsx(ListContainer,{children:/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:sortedLists.map(listUrl=>/*#__PURE__*/_jsx(ListRow,{listUrl:listUrl},listUrl))})})]});}export default ManageLists;","map":{"version":3,"names":["React","memo","useCallback","useMemo","useState","useEffect","Button","Text","CheckmarkIcon","CogIcon","Input","Toggle","LinkExternal","useTooltip","useDispatch","useSelector","styled","Card","UNSUPPORTED_LIST_URLS","parseENSAddress","useTranslation","useFetchListCallback","acceptListUpdate","removeList","disableList","enableList","useIsListActive","useAllLists","useActiveListUrls","uriToHttp","Column","AutoColumn","ListLogo","Row","RowFixed","RowBetween","CurrencyModalView","jsx","_jsx","jsxs","_jsxs","listVersionLabel","version","concat","major","minor","patch","Wrapper","_templateObject","_taggedTemplateLiteral","RowWrapper","_templateObject2","_ref","active","theme","colors","success","_ref2","tertiary","listUrlRowHTMLId","listUrl","replace","ListRow","_ref3","listsByUrl","state","lists","byUrl","dispatch","current","list","pendingUpdate","pending","isActive","t","handleAcceptListUpdate","handleRemoveList","window","confirm","handleEnableList","handleDisableList","targetRef","tooltip","tooltipVisible","children","external","href","variant","scale","onClick","disabled","Object","keys","length","style","fontSize","placement","trigger","id","logoURI","size","marginRight","alt","name","width","height","flex","bold","mt","mr","textTransform","tokens","ref","color","checked","onChange","ListContainer","div","_templateObject3","ManageLists","_ref4","setModalView","setImportList","setListUrl","listUrlInput","setListUrlInput","activeListUrls","activeCopy","setActiveCopy","handleInput","e","target","value","fetchList","validUrl","Boolean","sortedLists","listUrls","filter","includes","sort","u1","u2","l1","l2","toLowerCase","tempList","setTempList","addError","setAddError","fetchTempList","then","catch","undefined","isImported","handleImport","importList","gap","placeholder","textOverflow","overflow","paddingTop","padding","marginLeft","small","map"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/components/SearchModal/ManageLists.tsx"],"sourcesContent":["import React, { memo, useCallback, useMemo, useState, useEffect } from 'react'\r\nimport { Button, Text, CheckmarkIcon, CogIcon, Input, Toggle, LinkExternal, useTooltip } from '@pancakeswap/uikit'\r\nimport { useDispatch, useSelector } from 'react-redux'\r\nimport styled from 'styled-components'\r\nimport { TokenList, Version } from '@uniswap/token-lists'\r\nimport Card from 'components/Card'\r\nimport { UNSUPPORTED_LIST_URLS } from 'config/constants/lists'\r\nimport { parseENSAddress } from 'utils/ENS/parseENSAddress'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport useFetchListCallback from '../../hooks/useFetchListCallback'\r\n\r\nimport { AppDispatch, AppState } from '../../state'\r\nimport { acceptListUpdate, removeList, disableList, enableList } from '../../state/lists/actions'\r\nimport { useIsListActive, useAllLists, useActiveListUrls } from '../../state/lists/hooks'\r\nimport uriToHttp from '../../utils/uriToHttp'\r\n\r\nimport Column, { AutoColumn } from '../Layout/Column'\r\nimport { ListLogo } from '../Logo'\r\nimport Row, { RowFixed, RowBetween } from '../Layout/Row'\r\nimport { CurrencyModalView } from './types'\r\n\r\nfunction listVersionLabel(version: Version): string {\r\n  return `v${version.major}.${version.minor}.${version.patch}`\r\n}\r\n\r\nconst Wrapper = styled(Column)`\r\n  width: 100%;\r\n  height: 100%;\r\n`\r\n\r\nconst RowWrapper = styled(Row)<{ active: boolean }>`\r\n  background-color: ${({ active, theme }) => (active ? `${theme.colors.success}19` : 'transparent')};\r\n  border: solid 1px;\r\n  border-color: ${({ active, theme }) => (active ? theme.colors.success : theme.colors.tertiary)};\r\n  transition: 200ms;\r\n  align-items: center;\r\n  padding: 1rem;\r\n  border-radius: 20px;\r\n`\r\n\r\nfunction listUrlRowHTMLId(listUrl: string) {\r\n  return `list-row-${listUrl.replace(/\\./g, '-')}`\r\n}\r\n\r\nconst ListRow = memo(function ListRow({ listUrl }: { listUrl: string }) {\r\n  const listsByUrl = useSelector<AppState, AppState['lists']['byUrl']>((state) => state.lists.byUrl)\r\n  const dispatch = useDispatch<AppDispatch>()\r\n  const { current: list, pendingUpdate: pending } = listsByUrl[listUrl]\r\n\r\n  const isActive = useIsListActive(listUrl)\r\n\r\n  const { t } = useTranslation()\r\n\r\n  const handleAcceptListUpdate = useCallback(() => {\r\n    if (!pending) return\r\n    dispatch(acceptListUpdate(listUrl))\r\n  }, [dispatch, listUrl, pending])\r\n\r\n  const handleRemoveList = useCallback(() => {\r\n    // eslint-disable-next-line no-alert\r\n    if (window.confirm('Please confirm you would like to remove this list')) {\r\n      dispatch(removeList(listUrl))\r\n    }\r\n  }, [dispatch, listUrl])\r\n\r\n  const handleEnableList = useCallback(() => {\r\n    dispatch(enableList(listUrl))\r\n  }, [dispatch, listUrl])\r\n\r\n  const handleDisableList = useCallback(() => {\r\n    dispatch(disableList(listUrl))\r\n  }, [dispatch, listUrl])\r\n\r\n  const { targetRef, tooltip, tooltipVisible } = useTooltip(\r\n    <div>\r\n      <Text>{list && listVersionLabel(list.version)}</Text>\r\n      <LinkExternal external href={`https://tokenlists.org/token-list?url=${listUrl}`}>\r\n        {t('See')}\r\n      </LinkExternal>\r\n      <Button variant=\"danger\" scale=\"xs\" onClick={handleRemoveList} disabled={Object.keys(listsByUrl).length === 1}>\r\n        {t('Remove')}\r\n      </Button>\r\n      {pending && (\r\n        <Button variant=\"text\" onClick={handleAcceptListUpdate} style={{ fontSize: '12px' }}>\r\n          {t('Update list')}\r\n        </Button>\r\n      )}\r\n    </div>,\r\n    { placement: 'right-end', trigger: 'click' },\r\n  )\r\n\r\n  if (!list) return null\r\n\r\n  return (\r\n    <RowWrapper active={isActive} key={listUrl} id={listUrlRowHTMLId(listUrl)}>\r\n      {tooltipVisible && tooltip}\r\n      {list.logoURI ? (\r\n        <ListLogo size=\"40px\" style={{ marginRight: '1rem' }} logoURI={list.logoURI} alt={`${list.name} list logo`} />\r\n      ) : (\r\n        <div style={{ width: '24px', height: '24px', marginRight: '1rem' }} />\r\n      )}\r\n      <Column style={{ flex: '1' }}>\r\n        <Row>\r\n          <Text bold>{list.name}</Text>\r\n        </Row>\r\n        <RowFixed mt=\"4px\">\r\n          <Text fontSize=\"12px\" mr=\"6px\" textTransform=\"lowercase\">\r\n            {list.tokens.length} {t('Tokens')}\r\n          </Text>\r\n          <span ref={targetRef}>\r\n            <CogIcon color=\"text\" width=\"12px\" />\r\n          </span>\r\n        </RowFixed>\r\n      </Column>\r\n      <Toggle\r\n        checked={isActive}\r\n        onChange={() => {\r\n          if (isActive) {\r\n            handleDisableList()\r\n          } else {\r\n            handleEnableList()\r\n          }\r\n        }}\r\n      />\r\n    </RowWrapper>\r\n  )\r\n})\r\n\r\nconst ListContainer = styled.div`\r\n  padding: 1rem 0;\r\n  height: 100%;\r\n  overflow: auto;\r\n`\r\n\r\nfunction ManageLists({\r\n  setModalView,\r\n  setImportList,\r\n  setListUrl,\r\n}: {\r\n  setModalView: (view: CurrencyModalView) => void\r\n  setImportList: (list: TokenList) => void\r\n  setListUrl: (url: string) => void\r\n}) {\r\n  const [listUrlInput, setListUrlInput] = useState<string>('')\r\n\r\n  const { t } = useTranslation()\r\n\r\n  const lists = useAllLists()\r\n\r\n  // sort by active but only if not visible\r\n  const activeListUrls = useActiveListUrls()\r\n  const [activeCopy, setActiveCopy] = useState<string[] | undefined>()\r\n  useEffect(() => {\r\n    if (!activeCopy && activeListUrls) {\r\n      setActiveCopy(activeListUrls)\r\n    }\r\n  }, [activeCopy, activeListUrls])\r\n\r\n  const handleInput = useCallback((e) => {\r\n    setListUrlInput(e.target.value)\r\n  }, [])\r\n\r\n  const fetchList = useFetchListCallback()\r\n\r\n  const validUrl: boolean = useMemo(() => {\r\n    return uriToHttp(listUrlInput).length > 0 || Boolean(parseENSAddress(listUrlInput))\r\n  }, [listUrlInput])\r\n\r\n  const sortedLists = useMemo(() => {\r\n    const listUrls = Object.keys(lists)\r\n    return listUrls\r\n      .filter((listUrl) => {\r\n        // only show loaded lists, hide unsupported lists\r\n        return Boolean(lists[listUrl].current) && !UNSUPPORTED_LIST_URLS.includes(listUrl)\r\n      })\r\n      .sort((u1, u2) => {\r\n        const { current: l1 } = lists[u1]\r\n        const { current: l2 } = lists[u2]\r\n\r\n        // first filter on active lists\r\n        if (activeCopy?.includes(u1) && !activeCopy?.includes(u2)) {\r\n          return -1\r\n        }\r\n        if (!activeCopy?.includes(u1) && activeCopy?.includes(u2)) {\r\n          return 1\r\n        }\r\n\r\n        if (l1 && l2) {\r\n          return l1.name.toLowerCase() < l2.name.toLowerCase()\r\n            ? -1\r\n            : l1.name.toLowerCase() === l2.name.toLowerCase()\r\n            ? 0\r\n            : 1\r\n        }\r\n        if (l1) return -1\r\n        if (l2) return 1\r\n        return 0\r\n      })\r\n  }, [lists, activeCopy])\r\n\r\n  // temporary fetched list for import flow\r\n  const [tempList, setTempList] = useState<TokenList>()\r\n  const [addError, setAddError] = useState<string | undefined>()\r\n\r\n  useEffect(() => {\r\n    async function fetchTempList() {\r\n      fetchList(listUrlInput, false)\r\n        .then((list) => setTempList(list))\r\n        .catch(() => setAddError('Error importing list'))\r\n    }\r\n    // if valid url, fetch details for card\r\n    if (validUrl) {\r\n      fetchTempList()\r\n    } else {\r\n      setTempList(undefined)\r\n      if (listUrlInput !== '') {\r\n        setAddError('Enter valid list location')\r\n      }\r\n    }\r\n\r\n    // reset error\r\n    if (listUrlInput === '') {\r\n      setAddError(undefined)\r\n    }\r\n  }, [fetchList, listUrlInput, validUrl])\r\n\r\n  // check if list is already imported\r\n  const isImported = Object.keys(lists).includes(listUrlInput)\r\n\r\n  // set list values and have parent modal switch to import list view\r\n  const handleImport = useCallback(() => {\r\n    if (!tempList) return\r\n    setImportList(tempList)\r\n    setModalView(CurrencyModalView.importList)\r\n    setListUrl(listUrlInput)\r\n  }, [listUrlInput, setImportList, setListUrl, setModalView, tempList])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AutoColumn gap=\"14px\">\r\n        <Row>\r\n          <Input\r\n            id=\"list-add-input\"\r\n            scale=\"lg\"\r\n            placeholder={t('https:// or ipfs:// or ENS name')}\r\n            value={listUrlInput}\r\n            onChange={handleInput}\r\n          />\r\n        </Row>\r\n        {addError ? (\r\n          <Text color=\"failure\" style={{ textOverflow: 'ellipsis', overflow: 'hidden' }}>\r\n            {addError}\r\n          </Text>\r\n        ) : null}\r\n      </AutoColumn>\r\n      {tempList && (\r\n        <AutoColumn style={{ paddingTop: 0 }}>\r\n          <Card padding=\"12px 20px\">\r\n            <RowBetween>\r\n              <RowFixed>\r\n                {tempList.logoURI && <ListLogo logoURI={tempList.logoURI} size=\"40px\" />}\r\n                <AutoColumn gap=\"4px\" style={{ marginLeft: '20px' }}>\r\n                  <Text bold>{tempList.name}</Text>\r\n                  <Text color=\"textSubtle\" small textTransform=\"lowercase\">\r\n                    {tempList.tokens.length} {t('Tokens')}\r\n                  </Text>\r\n                </AutoColumn>\r\n              </RowFixed>\r\n              {isImported ? (\r\n                <RowFixed>\r\n                  <CheckmarkIcon width=\"16px\" mr=\"10px\" />\r\n                  <Text>{t('Loaded')}</Text>\r\n                </RowFixed>\r\n              ) : (\r\n                <Button width=\"fit-content\" onClick={handleImport}>\r\n                  {t('Import')}\r\n                </Button>\r\n              )}\r\n            </RowBetween>\r\n          </Card>\r\n        </AutoColumn>\r\n      )}\r\n      <ListContainer>\r\n        <AutoColumn gap=\"md\">\r\n          {sortedLists.map((listUrl) => (\r\n            <ListRow key={listUrl} listUrl={listUrl} />\r\n          ))}\r\n        </AutoColumn>\r\n      </ListContainer>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default ManageLists\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}