{"ast":null,"code":"\"use strict\";\n\nvar __createBinding = this && this.__createBinding || (Object.create ? function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  Object.defineProperty(o, k2, {\n    enumerable: true,\n    get: function () {\n      return m[k];\n    }\n  });\n} : function (o, m, k, k2) {\n  if (k2 === undefined) k2 = k;\n  o[k2] = m[k];\n});\nvar __setModuleDefault = this && this.__setModuleDefault || (Object.create ? function (o, v) {\n  Object.defineProperty(o, \"default\", {\n    enumerable: true,\n    value: v\n  });\n} : function (o, v) {\n  o[\"default\"] = v;\n});\nvar __importStar = this && this.__importStar || function (mod) {\n  if (mod && mod.__esModule) return mod;\n  var result = {};\n  if (mod != null) for (var k in mod) if (k !== \"default\" && Object.hasOwnProperty.call(mod, k)) __createBinding(result, mod, k);\n  __setModuleDefault(result, mod);\n  return result;\n};\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.fallbackRipemd160 = exports.fallbackSha512 = exports.fallbackSha256 = exports.fallbackHmacSha512Sign = exports.fallbackHmacSha256Sign = exports.fallbackAesDecrypt = exports.fallbackAesEncrypt = void 0;\nconst aes_js_1 = __importDefault(require(\"aes-js\"));\nconst hash = __importStar(require(\"hash.js\"));\nconst enc_utils_1 = require(\"enc-utils\");\nconst constants_1 = require(\"../constants\");\nconst index_1 = require(\"../index\");\nfunction fallbackAesEncrypt(iv, key, data) {\n  const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n  const padded = index_1.pkcs7.pad(data);\n  const encryptedBytes = aesCbc.encrypt(padded);\n  return new Uint8Array(encryptedBytes);\n}\nexports.fallbackAesEncrypt = fallbackAesEncrypt;\nfunction fallbackAesDecrypt(iv, key, data) {\n  const aesCbc = new aes_js_1.default.ModeOfOperation.cbc(key, iv);\n  const encryptedBytes = aesCbc.decrypt(data);\n  const padded = new Uint8Array(encryptedBytes);\n  const result = index_1.pkcs7.unpad(padded);\n  return result;\n}\nexports.fallbackAesDecrypt = fallbackAesDecrypt;\nfunction fallbackHmacSha256Sign(key, data) {\n  const result = hash.hmac(hash[constants_1.SHA256_NODE_ALGO], key).update(data).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\nexports.fallbackHmacSha256Sign = fallbackHmacSha256Sign;\nfunction fallbackHmacSha512Sign(key, data) {\n  const result = hash.hmac(hash[constants_1.SHA512_NODE_ALGO], key).update(data).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\nexports.fallbackHmacSha512Sign = fallbackHmacSha512Sign;\nfunction fallbackSha256(msg) {\n  const result = hash.sha256().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\nexports.fallbackSha256 = fallbackSha256;\nfunction fallbackSha512(msg) {\n  const result = hash.sha512().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\nexports.fallbackSha512 = fallbackSha512;\nfunction fallbackRipemd160(msg) {\n  const result = hash.ripemd160().update(msg).digest(constants_1.HEX_ENC);\n  return enc_utils_1.hexToArray(result);\n}\nexports.fallbackRipemd160 = fallbackRipemd160;","map":{"version":3,"names":["aes_js_1","__importDefault","require","hash","__importStar","enc_utils_1","constants_1","index_1","fallbackAesEncrypt","iv","key","data","aesCbc","default","ModeOfOperation","cbc","padded","pkcs7","pad","encryptedBytes","encrypt","Uint8Array","exports","fallbackAesDecrypt","decrypt","result","unpad","fallbackHmacSha256Sign","hmac","SHA256_NODE_ALGO","update","digest","HEX_ENC","hexToArray","fallbackHmacSha512Sign","SHA512_NODE_ALGO","fallbackSha256","msg","sha256","fallbackSha512","sha512","fallbackRipemd160","ripemd160"],"sources":["../../../../src/helpers/env/fallback.ts"],"sourcesContent":[null],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script"}