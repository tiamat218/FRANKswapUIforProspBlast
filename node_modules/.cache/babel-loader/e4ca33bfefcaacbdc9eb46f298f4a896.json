{"ast":null,"code":"import{useState,useEffect}from'react';import{useWeb3React}from'@web3-react/core';import{useGetLotteriesGraphData,useGetUserLotteriesGraphData,useLottery}from'state/lottery/hooks';import fetchUnclaimedUserRewards from'state/lottery/fetchUnclaimedUserRewards';export let FetchStatus;(function(FetchStatus){FetchStatus[\"NOT_FETCHED\"]=\"not-fetched\";FetchStatus[\"IN_PROGRESS\"]=\"in-progress\";FetchStatus[\"SUCCESS\"]=\"success\";})(FetchStatus||(FetchStatus={}));const useGetUnclaimedRewards=()=>{const{account}=useWeb3React();const{isTransitioning}=useLottery();const userLotteryData=useGetUserLotteriesGraphData();const lotteriesData=useGetLotteriesGraphData();const[unclaimedRewards,setUnclaimedRewards]=useState([]);const[fetchStatus,setFetchStatus]=useState(FetchStatus.NOT_FETCHED);useEffect(()=>{// Reset on account change and round transition\nsetFetchStatus(FetchStatus.NOT_FETCHED);},[account,isTransitioning]);const fetchAllRewards=async()=>{setFetchStatus(FetchStatus.IN_PROGRESS);const unclaimedRewardsResponse=await fetchUnclaimedUserRewards(account,userLotteryData,lotteriesData);setUnclaimedRewards(unclaimedRewardsResponse);setFetchStatus(FetchStatus.SUCCESS);};return{fetchAllRewards,unclaimedRewards,fetchStatus};};export default useGetUnclaimedRewards;","map":{"version":3,"names":["useState","useEffect","useWeb3React","useGetLotteriesGraphData","useGetUserLotteriesGraphData","useLottery","fetchUnclaimedUserRewards","FetchStatus","useGetUnclaimedRewards","account","isTransitioning","userLotteryData","lotteriesData","unclaimedRewards","setUnclaimedRewards","fetchStatus","setFetchStatus","NOT_FETCHED","fetchAllRewards","IN_PROGRESS","unclaimedRewardsResponse","SUCCESS"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/views/Lottery/hooks/useGetUnclaimedRewards.ts"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useGetLotteriesGraphData, useGetUserLotteriesGraphData, useLottery } from 'state/lottery/hooks'\r\nimport fetchUnclaimedUserRewards from 'state/lottery/fetchUnclaimedUserRewards'\r\n\r\nexport enum FetchStatus {\r\n  NOT_FETCHED = 'not-fetched',\r\n  IN_PROGRESS = 'in-progress',\r\n  SUCCESS = 'success',\r\n}\r\n\r\nconst useGetUnclaimedRewards = () => {\r\n  const { account } = useWeb3React()\r\n  const { isTransitioning } = useLottery()\r\n  const userLotteryData = useGetUserLotteriesGraphData()\r\n  const lotteriesData = useGetLotteriesGraphData()\r\n  const [unclaimedRewards, setUnclaimedRewards] = useState([])\r\n  const [fetchStatus, setFetchStatus] = useState(FetchStatus.NOT_FETCHED)\r\n\r\n  useEffect(() => {\r\n    // Reset on account change and round transition\r\n    setFetchStatus(FetchStatus.NOT_FETCHED)\r\n  }, [account, isTransitioning])\r\n\r\n  const fetchAllRewards = async () => {\r\n    setFetchStatus(FetchStatus.IN_PROGRESS)\r\n    const unclaimedRewardsResponse = await fetchUnclaimedUserRewards(account, userLotteryData, lotteriesData)\r\n    setUnclaimedRewards(unclaimedRewardsResponse)\r\n    setFetchStatus(FetchStatus.SUCCESS)\r\n  }\r\n\r\n  return { fetchAllRewards, unclaimedRewards, fetchStatus }\r\n}\r\n\r\nexport default useGetUnclaimedRewards\r\n"],"mappings":"AAAA,OAASA,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAC3C,OAASC,YAAY,KAAQ,kBAAkB,CAC/C,OAASC,wBAAwB,CAAEC,4BAA4B,CAAEC,UAAU,KAAQ,qBAAqB,CACxG,MAAO,CAAAC,yBAAyB,KAAM,yCAAyC,CAE/E,UAAY,CAAAC,WAAW,CAItB,UAJWA,WAAW,EAAXA,WAAW,8BAAXA,WAAW,8BAAXA,WAAW,yBAAXA,WAAW,GAAXA,WAAW,MAMvB,KAAM,CAAAC,sBAAsB,CAAGA,CAAA,GAAM,CACnC,KAAM,CAAEC,OAAQ,CAAC,CAAGP,YAAY,CAAC,CAAC,CAClC,KAAM,CAAEQ,eAAgB,CAAC,CAAGL,UAAU,CAAC,CAAC,CACxC,KAAM,CAAAM,eAAe,CAAGP,4BAA4B,CAAC,CAAC,CACtD,KAAM,CAAAQ,aAAa,CAAGT,wBAAwB,CAAC,CAAC,CAChD,KAAM,CAACU,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGd,QAAQ,CAAC,EAAE,CAAC,CAC5D,KAAM,CAACe,WAAW,CAAEC,cAAc,CAAC,CAAGhB,QAAQ,CAACO,WAAW,CAACU,WAAW,CAAC,CAEvEhB,SAAS,CAAC,IAAM,CACd;AACAe,cAAc,CAACT,WAAW,CAACU,WAAW,CAAC,CACzC,CAAC,CAAE,CAACR,OAAO,CAAEC,eAAe,CAAC,CAAC,CAE9B,KAAM,CAAAQ,eAAe,CAAG,KAAAA,CAAA,GAAY,CAClCF,cAAc,CAACT,WAAW,CAACY,WAAW,CAAC,CACvC,KAAM,CAAAC,wBAAwB,CAAG,KAAM,CAAAd,yBAAyB,CAACG,OAAO,CAAEE,eAAe,CAAEC,aAAa,CAAC,CACzGE,mBAAmB,CAACM,wBAAwB,CAAC,CAC7CJ,cAAc,CAACT,WAAW,CAACc,OAAO,CAAC,CACrC,CAAC,CAED,MAAO,CAAEH,eAAe,CAAEL,gBAAgB,CAAEE,WAAY,CAAC,CAC3D,CAAC,CAED,cAAe,CAAAP,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module"}