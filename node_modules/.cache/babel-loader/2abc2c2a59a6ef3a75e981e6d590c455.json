{"ast":null,"code":"import{useEffect,useState}from'react';const useWithdrawalFeeTimer=function(lastDepositedTime,userShares){let withdrawalFeePeriod=arguments.length>2&&arguments[2]!==undefined?arguments[2]:259200;const[secondsRemaining,setSecondsRemaining]=useState(null);const[hasUnstakingFee,setHasUnstakingFee]=useState(false);const[currentSeconds,setCurrentSeconds]=useState(Math.floor(Date.now()/1000));useEffect(()=>{const feeEndTime=lastDepositedTime+withdrawalFeePeriod;const secondsRemainingCalc=feeEndTime-currentSeconds;const doesUnstakingFeeApply=userShares.gt(0)&&secondsRemainingCalc>0;const tick=()=>{setCurrentSeconds(prevSeconds=>prevSeconds+1);};const timerInterval=setInterval(()=>tick(),1000);if(doesUnstakingFeeApply){setSecondsRemaining(secondsRemainingCalc);setHasUnstakingFee(true);}else{setHasUnstakingFee(false);clearInterval(timerInterval);}return()=>clearInterval(timerInterval);},[lastDepositedTime,withdrawalFeePeriod,setSecondsRemaining,currentSeconds,userShares]);return{hasUnstakingFee,secondsRemaining};};export default useWithdrawalFeeTimer;","map":{"version":3,"names":["useEffect","useState","useWithdrawalFeeTimer","lastDepositedTime","userShares","withdrawalFeePeriod","arguments","length","undefined","secondsRemaining","setSecondsRemaining","hasUnstakingFee","setHasUnstakingFee","currentSeconds","setCurrentSeconds","Math","floor","Date","now","feeEndTime","secondsRemainingCalc","doesUnstakingFeeApply","gt","tick","prevSeconds","timerInterval","setInterval","clearInterval"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Pools/hooks/useWithdrawalFeeTimer.ts"],"sourcesContent":["import BigNumber from 'bignumber.js'\r\nimport { useEffect, useState } from 'react'\r\n\r\nconst useWithdrawalFeeTimer = (lastDepositedTime: number, userShares: BigNumber, withdrawalFeePeriod = 259200) => {\r\n  const [secondsRemaining, setSecondsRemaining] = useState(null)\r\n  const [hasUnstakingFee, setHasUnstakingFee] = useState(false)\r\n  const [currentSeconds, setCurrentSeconds] = useState(Math.floor(Date.now() / 1000))\r\n\r\n  useEffect(() => {\r\n    const feeEndTime = lastDepositedTime + withdrawalFeePeriod\r\n    const secondsRemainingCalc = feeEndTime - currentSeconds\r\n    const doesUnstakingFeeApply = userShares.gt(0) && secondsRemainingCalc > 0\r\n\r\n    const tick = () => {\r\n      setCurrentSeconds((prevSeconds) => prevSeconds + 1)\r\n    }\r\n    const timerInterval = setInterval(() => tick(), 1000)\r\n    if (doesUnstakingFeeApply) {\r\n      setSecondsRemaining(secondsRemainingCalc)\r\n      setHasUnstakingFee(true)\r\n    } else {\r\n      setHasUnstakingFee(false)\r\n      clearInterval(timerInterval)\r\n    }\r\n\r\n    return () => clearInterval(timerInterval)\r\n  }, [lastDepositedTime, withdrawalFeePeriod, setSecondsRemaining, currentSeconds, userShares])\r\n\r\n  return { hasUnstakingFee, secondsRemaining }\r\n}\r\n\r\nexport default useWithdrawalFeeTimer\r\n"],"mappings":"AACA,OAASA,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAE3C,KAAM,CAAAC,qBAAqB,CAAG,QAAAA,CAACC,iBAAyB,CAAEC,UAAqB,CAAmC,IAAjC,CAAAC,mBAAmB,CAAAC,SAAA,CAAAC,MAAA,IAAAD,SAAA,MAAAE,SAAA,CAAAF,SAAA,IAAG,MAAM,CAC3G,KAAM,CAACG,gBAAgB,CAAEC,mBAAmB,CAAC,CAAGT,QAAQ,CAAC,IAAI,CAAC,CAC9D,KAAM,CAACU,eAAe,CAAEC,kBAAkB,CAAC,CAAGX,QAAQ,CAAC,KAAK,CAAC,CAC7D,KAAM,CAACY,cAAc,CAAEC,iBAAiB,CAAC,CAAGb,QAAQ,CAACc,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,CAAG,IAAI,CAAC,CAAC,CAEnFlB,SAAS,CAAC,IAAM,CACd,KAAM,CAAAmB,UAAU,CAAGhB,iBAAiB,CAAGE,mBAAmB,CAC1D,KAAM,CAAAe,oBAAoB,CAAGD,UAAU,CAAGN,cAAc,CACxD,KAAM,CAAAQ,qBAAqB,CAAGjB,UAAU,CAACkB,EAAE,CAAC,CAAC,CAAC,EAAIF,oBAAoB,CAAG,CAAC,CAE1E,KAAM,CAAAG,IAAI,CAAGA,CAAA,GAAM,CACjBT,iBAAiB,CAAEU,WAAW,EAAKA,WAAW,CAAG,CAAC,CAAC,CACrD,CAAC,CACD,KAAM,CAAAC,aAAa,CAAGC,WAAW,CAAC,IAAMH,IAAI,CAAC,CAAC,CAAE,IAAI,CAAC,CACrD,GAAIF,qBAAqB,CAAE,CACzBX,mBAAmB,CAACU,oBAAoB,CAAC,CACzCR,kBAAkB,CAAC,IAAI,CAAC,CAC1B,CAAC,IAAM,CACLA,kBAAkB,CAAC,KAAK,CAAC,CACzBe,aAAa,CAACF,aAAa,CAAC,CAC9B,CAEA,MAAO,IAAME,aAAa,CAACF,aAAa,CAAC,CAC3C,CAAC,CAAE,CAACtB,iBAAiB,CAAEE,mBAAmB,CAAEK,mBAAmB,CAAEG,cAAc,CAAET,UAAU,CAAC,CAAC,CAE7F,MAAO,CAAEO,eAAe,CAAEF,gBAAiB,CAAC,CAC9C,CAAC,CAED,cAAe,CAAAP,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module"}