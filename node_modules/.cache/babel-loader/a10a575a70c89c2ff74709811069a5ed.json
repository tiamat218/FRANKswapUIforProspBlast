{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devrim\\\\Documents\\\\FRANKswapUIforProspBlast\\\\src\\\\views\\\\Voting\\\\Proposal\\\\Vote.tsx\",\n  _s = $RefreshSig$();\nimport React, { useState } from 'react';\nimport styled from 'styled-components';\nimport { Button, Card, CardBody, CardHeader, Heading, Radio, Text, useModal } from '@pancakeswap/uikit';\nimport { useWeb3React } from '@web3-react/core';\nimport { useAppDispatch } from 'state';\nimport { fetchVotes } from 'state/voting';\nimport useToast from 'hooks/useToast';\nimport { useTranslation } from 'contexts/Localization';\nimport ConnectWalletButton from 'components/ConnectWalletButton';\nimport CastVoteModal from '../components/CastVoteModal';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Choice = styled.label`\n  align-items: center;\n  border: 1px solid ${({\n  theme,\n  isChecked\n}) => theme.colors[isChecked ? 'success' : 'cardBorder']};\n  border-radius: 16px;\n  cursor: ${({\n  isDisabled\n}) => isDisabled ? 'not-allowed' : 'pointer'};\n  display: flex;\n  margin-bottom: 16px;\n  padding: 16px;\n`;\n_c = Choice;\nconst ChoiceText = styled.div`\n  flex: 1;\n  padding-left: 16px;\n  overflow: hidden;\n  text-overflow: ellipsis;\n  white-space: nowrap;\n  width: 0;\n`;\n_c2 = ChoiceText;\nconst Vote = ({\n  proposal,\n  ...props\n}) => {\n  _s();\n  const [vote, setVote] = useState(null);\n  const {\n    t\n  } = useTranslation();\n  const {\n    toastSuccess\n  } = useToast();\n  const dispatch = useAppDispatch();\n  const {\n    account\n  } = useWeb3React();\n  const handleSuccess = async () => {\n    toastSuccess(t('Vote cast!'));\n    dispatch(fetchVotes({\n      proposalId: proposal.id,\n      block: Number(proposal.snapshot)\n    }));\n  };\n  const [presentCastVoteModal] = useModal( /*#__PURE__*/_jsxDEV(CastVoteModal, {\n    onSuccess: handleSuccess,\n    proposalId: proposal.id,\n    vote: vote,\n    block: Number(proposal.snapshot)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(Card, {\n    ...props,\n    children: [/*#__PURE__*/_jsxDEV(CardHeader, {\n      children: /*#__PURE__*/_jsxDEV(Heading, {\n        as: \"h3\",\n        scale: \"md\",\n        children: t('Cast your vote')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardBody, {\n      children: [proposal.choices.map((choice, index) => {\n        const isChecked = index + 1 === (vote === null || vote === void 0 ? void 0 : vote.value);\n        const handleChange = () => {\n          setVote({\n            label: choice,\n            value: index + 1\n          });\n        };\n        return /*#__PURE__*/_jsxDEV(Choice, {\n          isChecked: isChecked,\n          isDisabled: !account,\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            style: {\n              flexShrink: 0\n            },\n            children: /*#__PURE__*/_jsxDEV(Radio, {\n              scale: \"sm\",\n              value: choice,\n              checked: isChecked,\n              onChange: handleChange,\n              disabled: !account\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 77,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(ChoiceText, {\n            children: /*#__PURE__*/_jsxDEV(Text, {\n              as: \"span\",\n              title: choice,\n              children: choice\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 81,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 80,\n            columnNumber: 15\n          }, this)]\n        }, choice, true, {\n          fileName: _jsxFileName,\n          lineNumber: 76,\n          columnNumber: 13\n        }, this);\n      }), account ? /*#__PURE__*/_jsxDEV(Button, {\n        onClick: presentCastVoteModal,\n        disabled: vote === null,\n        children: t('Cast Vote')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(ConnectWalletButton, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 58,\n    columnNumber: 5\n  }, this);\n};\n_s(Vote, \"KXDmuHTNBXlzs1aoKEOzo9XPR6M=\", false, function () {\n  return [useTranslation, useToast, useAppDispatch, useWeb3React, useModal];\n});\n_c3 = Vote;\nexport default Vote;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"Choice\");\n$RefreshReg$(_c2, \"ChoiceText\");\n$RefreshReg$(_c3, \"Vote\");","map":{"version":3,"names":["React","useState","styled","Button","Card","CardBody","CardHeader","Heading","Radio","Text","useModal","useWeb3React","useAppDispatch","fetchVotes","useToast","useTranslation","ConnectWalletButton","CastVoteModal","jsxDEV","_jsxDEV","Choice","label","theme","isChecked","colors","isDisabled","_c","ChoiceText","div","_c2","Vote","proposal","props","_s","vote","setVote","t","toastSuccess","dispatch","account","handleSuccess","proposalId","id","block","Number","snapshot","presentCastVoteModal","onSuccess","fileName","_jsxFileName","lineNumber","columnNumber","children","as","scale","choices","map","choice","index","value","handleChange","style","flexShrink","checked","onChange","disabled","title","onClick","_c3","$RefreshReg$"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Voting/Proposal/Vote.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button, Card, CardBody, CardHeader, CardProps, Heading, Radio, Text, useModal } from '@pancakeswap/uikit'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useAppDispatch } from 'state'\r\nimport { Proposal } from 'state/types'\r\nimport { fetchVotes } from 'state/voting'\r\nimport useToast from 'hooks/useToast'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport ConnectWalletButton from 'components/ConnectWalletButton'\r\nimport CastVoteModal from '../components/CastVoteModal'\r\n\r\ninterface VoteProps extends CardProps {\r\n  proposal: Proposal\r\n}\r\n\r\ninterface State {\r\n  label: string\r\n  value: number\r\n}\r\n\r\nconst Choice = styled.label<{ isChecked: boolean; isDisabled: boolean }>`\r\n  align-items: center;\r\n  border: 1px solid ${({ theme, isChecked }) => theme.colors[isChecked ? 'success' : 'cardBorder']};\r\n  border-radius: 16px;\r\n  cursor: ${({ isDisabled }) => (isDisabled ? 'not-allowed' : 'pointer')};\r\n  display: flex;\r\n  margin-bottom: 16px;\r\n  padding: 16px;\r\n`\r\n\r\nconst ChoiceText = styled.div`\r\n  flex: 1;\r\n  padding-left: 16px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  width: 0;\r\n`\r\n\r\nconst Vote: React.FC<VoteProps> = ({ proposal, ...props }) => {\r\n  const [vote, setVote] = useState<State>(null)\r\n  const { t } = useTranslation()\r\n  const { toastSuccess } = useToast()\r\n  const dispatch = useAppDispatch()\r\n  const { account } = useWeb3React()\r\n\r\n  const handleSuccess = async () => {\r\n    toastSuccess(t('Vote cast!'))\r\n    dispatch(fetchVotes({ proposalId: proposal.id, block: Number(proposal.snapshot) }))\r\n  }\r\n\r\n  const [presentCastVoteModal] = useModal(\r\n    <CastVoteModal onSuccess={handleSuccess} proposalId={proposal.id} vote={vote} block={Number(proposal.snapshot)} />,\r\n  )\r\n\r\n  return (\r\n    <Card {...props}>\r\n      <CardHeader>\r\n        <Heading as=\"h3\" scale=\"md\">\r\n          {t('Cast your vote')}\r\n        </Heading>\r\n      </CardHeader>\r\n      <CardBody>\r\n        {proposal.choices.map((choice, index) => {\r\n          const isChecked = index + 1 === vote?.value\r\n\r\n          const handleChange = () => {\r\n            setVote({\r\n              label: choice,\r\n              value: index + 1,\r\n            })\r\n          }\r\n\r\n          return (\r\n            <Choice key={choice} isChecked={isChecked} isDisabled={!account}>\r\n              <div style={{ flexShrink: 0 }}>\r\n                <Radio scale=\"sm\" value={choice} checked={isChecked} onChange={handleChange} disabled={!account} />\r\n              </div>\r\n              <ChoiceText>\r\n                <Text as=\"span\" title={choice}>\r\n                  {choice}\r\n                </Text>\r\n              </ChoiceText>\r\n            </Choice>\r\n          )\r\n        })}\r\n        {account ? (\r\n          <Button onClick={presentCastVoteModal} disabled={vote === null}>\r\n            {t('Cast Vote')}\r\n          </Button>\r\n        ) : (\r\n          <ConnectWalletButton />\r\n        )}\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Vote\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}