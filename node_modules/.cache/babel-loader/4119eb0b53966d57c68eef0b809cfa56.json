{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useState}from'react';import styled from'styled-components';import{Button,Card,CardBody,CardHeader,Heading,Radio,Text,useModal}from'@pancakeswap/uikit';import{useWeb3React}from'@web3-react/core';import{useAppDispatch}from'state';import{fetchVotes}from'state/voting';import useToast from'hooks/useToast';import{useTranslation}from'contexts/Localization';import ConnectWalletButton from'components/ConnectWalletButton';import CastVoteModal from'../components/CastVoteModal';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Choice=styled.label(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  align-items: center;\\n  border: 1px solid \",\";\\n  border-radius: 16px;\\n  cursor: \",\";\\n  display: flex;\\n  margin-bottom: 16px;\\n  padding: 16px;\\n\"])),_ref=>{let{theme,isChecked}=_ref;return theme.colors[isChecked?'success':'cardBorder'];},_ref2=>{let{isDisabled}=_ref2;return isDisabled?'not-allowed':'pointer';});const ChoiceText=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  flex: 1;\\n  padding-left: 16px;\\n  overflow: hidden;\\n  text-overflow: ellipsis;\\n  white-space: nowrap;\\n  width: 0;\\n\"])));const Vote=_ref3=>{let{proposal,...props}=_ref3;const[vote,setVote]=useState(null);const{t}=useTranslation();const{toastSuccess}=useToast();const dispatch=useAppDispatch();const{account}=useWeb3React();const handleSuccess=async()=>{toastSuccess(t('Vote cast!'));dispatch(fetchVotes({proposalId:proposal.id,block:Number(proposal.snapshot)}));};const[presentCastVoteModal]=useModal(/*#__PURE__*/_jsx(CastVoteModal,{onSuccess:handleSuccess,proposalId:proposal.id,vote:vote,block:Number(proposal.snapshot)}));return/*#__PURE__*/_jsxs(Card,{...props,children:[/*#__PURE__*/_jsx(CardHeader,{children:/*#__PURE__*/_jsx(Heading,{as:\"h3\",scale:\"md\",children:t('Cast your vote')})}),/*#__PURE__*/_jsxs(CardBody,{children:[proposal.choices.map((choice,index)=>{const isChecked=index+1===(vote===null||vote===void 0?void 0:vote.value);const handleChange=()=>{setVote({label:choice,value:index+1});};return/*#__PURE__*/_jsxs(Choice,{isChecked:isChecked,isDisabled:!account,children:[/*#__PURE__*/_jsx(\"div\",{style:{flexShrink:0},children:/*#__PURE__*/_jsx(Radio,{scale:\"sm\",value:choice,checked:isChecked,onChange:handleChange,disabled:!account})}),/*#__PURE__*/_jsx(ChoiceText,{children:/*#__PURE__*/_jsx(Text,{as:\"span\",title:choice,children:choice})})]},choice);}),account?/*#__PURE__*/_jsx(Button,{onClick:presentCastVoteModal,disabled:vote===null,children:t('Cast Vote')}):/*#__PURE__*/_jsx(ConnectWalletButton,{})]})]});};export default Vote;","map":{"version":3,"names":["React","useState","styled","Button","Card","CardBody","CardHeader","Heading","Radio","Text","useModal","useWeb3React","useAppDispatch","fetchVotes","useToast","useTranslation","ConnectWalletButton","CastVoteModal","jsx","_jsx","jsxs","_jsxs","Choice","label","_templateObject","_taggedTemplateLiteral","_ref","theme","isChecked","colors","_ref2","isDisabled","ChoiceText","div","_templateObject2","Vote","_ref3","proposal","props","vote","setVote","t","toastSuccess","dispatch","account","handleSuccess","proposalId","id","block","Number","snapshot","presentCastVoteModal","onSuccess","children","as","scale","choices","map","choice","index","value","handleChange","style","flexShrink","checked","onChange","disabled","title","onClick"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Voting/Proposal/Vote.tsx"],"sourcesContent":["import React, { useState } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button, Card, CardBody, CardHeader, CardProps, Heading, Radio, Text, useModal } from '@pancakeswap/uikit'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useAppDispatch } from 'state'\r\nimport { Proposal } from 'state/types'\r\nimport { fetchVotes } from 'state/voting'\r\nimport useToast from 'hooks/useToast'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport ConnectWalletButton from 'components/ConnectWalletButton'\r\nimport CastVoteModal from '../components/CastVoteModal'\r\n\r\ninterface VoteProps extends CardProps {\r\n  proposal: Proposal\r\n}\r\n\r\ninterface State {\r\n  label: string\r\n  value: number\r\n}\r\n\r\nconst Choice = styled.label<{ isChecked: boolean; isDisabled: boolean }>`\r\n  align-items: center;\r\n  border: 1px solid ${({ theme, isChecked }) => theme.colors[isChecked ? 'success' : 'cardBorder']};\r\n  border-radius: 16px;\r\n  cursor: ${({ isDisabled }) => (isDisabled ? 'not-allowed' : 'pointer')};\r\n  display: flex;\r\n  margin-bottom: 16px;\r\n  padding: 16px;\r\n`\r\n\r\nconst ChoiceText = styled.div`\r\n  flex: 1;\r\n  padding-left: 16px;\r\n  overflow: hidden;\r\n  text-overflow: ellipsis;\r\n  white-space: nowrap;\r\n  width: 0;\r\n`\r\n\r\nconst Vote: React.FC<VoteProps> = ({ proposal, ...props }) => {\r\n  const [vote, setVote] = useState<State>(null)\r\n  const { t } = useTranslation()\r\n  const { toastSuccess } = useToast()\r\n  const dispatch = useAppDispatch()\r\n  const { account } = useWeb3React()\r\n\r\n  const handleSuccess = async () => {\r\n    toastSuccess(t('Vote cast!'))\r\n    dispatch(fetchVotes({ proposalId: proposal.id, block: Number(proposal.snapshot) }))\r\n  }\r\n\r\n  const [presentCastVoteModal] = useModal(\r\n    <CastVoteModal onSuccess={handleSuccess} proposalId={proposal.id} vote={vote} block={Number(proposal.snapshot)} />,\r\n  )\r\n\r\n  return (\r\n    <Card {...props}>\r\n      <CardHeader>\r\n        <Heading as=\"h3\" scale=\"md\">\r\n          {t('Cast your vote')}\r\n        </Heading>\r\n      </CardHeader>\r\n      <CardBody>\r\n        {proposal.choices.map((choice, index) => {\r\n          const isChecked = index + 1 === vote?.value\r\n\r\n          const handleChange = () => {\r\n            setVote({\r\n              label: choice,\r\n              value: index + 1,\r\n            })\r\n          }\r\n\r\n          return (\r\n            <Choice key={choice} isChecked={isChecked} isDisabled={!account}>\r\n              <div style={{ flexShrink: 0 }}>\r\n                <Radio scale=\"sm\" value={choice} checked={isChecked} onChange={handleChange} disabled={!account} />\r\n              </div>\r\n              <ChoiceText>\r\n                <Text as=\"span\" title={choice}>\r\n                  {choice}\r\n                </Text>\r\n              </ChoiceText>\r\n            </Choice>\r\n          )\r\n        })}\r\n        {account ? (\r\n          <Button onClick={presentCastVoteModal} disabled={vote === null}>\r\n            {t('Cast Vote')}\r\n          </Button>\r\n        ) : (\r\n          <ConnectWalletButton />\r\n        )}\r\n      </CardBody>\r\n    </Card>\r\n  )\r\n}\r\n\r\nexport default Vote\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}