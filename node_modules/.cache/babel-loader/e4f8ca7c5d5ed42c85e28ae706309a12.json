{"ast":null,"code":"var _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport { JSBI, Percent, Router, TradeType } from '@pancakeswap/sdk';\nimport { useMemo } from 'react';\nimport useActiveWeb3React from 'hooks/useActiveWeb3React';\nimport { BIPS_BASE, INITIAL_ALLOWED_SLIPPAGE } from '../config/constants';\nimport { useTransactionAdder } from '../state/transactions/hooks';\nimport { calculateGasMargin, getRouterContract, isAddress, shortenAddress } from '../utils';\nimport isZero from '../utils/isZero';\nimport useTransactionDeadline from './useTransactionDeadline';\nimport useENS from './ENS/useENS';\nexport let SwapCallbackState;\n(function (SwapCallbackState) {\n  SwapCallbackState[SwapCallbackState[\"INVALID\"] = 0] = \"INVALID\";\n  SwapCallbackState[SwapCallbackState[\"LOADING\"] = 1] = \"LOADING\";\n  SwapCallbackState[SwapCallbackState[\"VALID\"] = 2] = \"VALID\";\n})(SwapCallbackState || (SwapCallbackState = {}));\n/**\r\n * Returns the swap calls that can be used to make the trade\r\n * @param trade trade to execute\r\n * @param allowedSlippage user allowed slippage\r\n * @param recipientAddressOrName\r\n */\nfunction useSwapCallArguments(trade,\n// trade to execute, required\nallowedSlippage = INITIAL_ALLOWED_SLIPPAGE,\n// in bips\nrecipientAddressOrName // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\n) {\n  _s();\n  const {\n    account,\n    chainId,\n    library\n  } = useActiveWeb3React();\n  const {\n    address: recipientAddress\n  } = useENS(recipientAddressOrName);\n  const recipient = recipientAddressOrName === null ? account : recipientAddress;\n  const deadline = useTransactionDeadline();\n  return useMemo(() => {\n    if (!trade || !recipient || !library || !account || !chainId || !deadline) return [];\n    const contract = getRouterContract(chainId, library, account);\n    if (!contract) {\n      return [];\n    }\n    const swapMethods = [];\n    swapMethods.push(Router.swapCallParameters(trade, {\n      feeOnTransfer: false,\n      allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\n      recipient,\n      deadline: deadline.toNumber()\n    }));\n    if (trade.tradeType === TradeType.EXACT_INPUT) {\n      swapMethods.push(Router.swapCallParameters(trade, {\n        feeOnTransfer: true,\n        allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\n        recipient,\n        deadline: deadline.toNumber()\n      }));\n    }\n    return swapMethods.map(parameters => ({\n      parameters,\n      contract\n    }));\n  }, [account, allowedSlippage, chainId, deadline, library, recipient, trade]);\n}\n\n// returns a function that will execute a swap, if the parameters are all valid\n// and the user has approved the slippage adjusted input amount for the trade\n_s(useSwapCallArguments, \"s8HoqurgUOlyu7X09x9CGKHKngs=\", false, function () {\n  return [useActiveWeb3React, useENS, useTransactionDeadline];\n});\nexport function useSwapCallback(trade,\n// trade to execute, required\nallowedSlippage = INITIAL_ALLOWED_SLIPPAGE,\n// in bips\nrecipientAddressOrName // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\n) {\n  _s2();\n  const {\n    account,\n    chainId,\n    library\n  } = useActiveWeb3React();\n  const swapCalls = useSwapCallArguments(trade, allowedSlippage, recipientAddressOrName);\n  const addTransaction = useTransactionAdder();\n  const {\n    address: recipientAddress\n  } = useENS(recipientAddressOrName);\n  const recipient = recipientAddressOrName === null ? account : recipientAddress;\n  return useMemo(() => {\n    if (!trade || !library || !account || !chainId) {\n      return {\n        state: SwapCallbackState.INVALID,\n        callback: null,\n        error: 'Missing dependencies'\n      };\n    }\n    if (!recipient) {\n      if (recipientAddressOrName !== null) {\n        return {\n          state: SwapCallbackState.INVALID,\n          callback: null,\n          error: 'Invalid recipient'\n        };\n      }\n      return {\n        state: SwapCallbackState.LOADING,\n        callback: null,\n        error: null\n      };\n    }\n    return {\n      state: SwapCallbackState.VALID,\n      callback: async function onSwap() {\n        const estimatedCalls = await Promise.all(swapCalls.map(call => {\n          const {\n            parameters: {\n              methodName,\n              args,\n              value\n            },\n            contract\n          } = call;\n          const options = !value || isZero(value) ? {} : {\n            value\n          };\n          return contract.estimateGas[methodName](...args, options).then(gasEstimate => {\n            return {\n              call,\n              gasEstimate\n            };\n          }).catch(gasError => {\n            console.error('Gas estimate failed, trying eth_call to extract error', call);\n            return contract.callStatic[methodName](...args, options).then(result => {\n              console.error('Unexpected successful call after failed estimate gas', call, gasError, result);\n              return {\n                call,\n                error: new Error('Unexpected issue with estimating the gas. Please try again.')\n              };\n            }).catch(callError => {\n              var _callError$data;\n              console.error('Call threw error', call, callError);\n              const reason = callError.reason || ((_callError$data = callError.data) === null || _callError$data === void 0 ? void 0 : _callError$data.message) || callError.message;\n              const errorMessage = `The transaction cannot succeed due to error: ${reason !== null && reason !== void 0 ? reason : 'Unknown error, check the logs'}.`;\n              return {\n                call,\n                error: new Error(errorMessage)\n              };\n            });\n          });\n        }));\n\n        // a successful estimation is a bignumber gas estimate and the next call is also a bignumber gas estimate\n        const successfulEstimation = estimatedCalls.find((el, ix, list) => 'gasEstimate' in el && (ix === list.length - 1 || 'gasEstimate' in list[ix + 1]));\n        if (!successfulEstimation) {\n          const errorCalls = estimatedCalls.filter(call => 'error' in call);\n          if (errorCalls.length > 0) throw errorCalls[errorCalls.length - 1].error;\n          throw new Error('Unexpected error. Please contact support: none of the calls threw an error');\n        }\n        const {\n          call: {\n            contract,\n            parameters: {\n              methodName,\n              args,\n              value\n            }\n          },\n          gasEstimate\n        } = successfulEstimation;\n        return contract[methodName](...args, {\n          gasLimit: calculateGasMargin(gasEstimate),\n          ...(value && !isZero(value) ? {\n            value,\n            from: account\n          } : {\n            from: account\n          })\n        }).then(response => {\n          const inputSymbol = trade.inputAmount.currency.symbol;\n          const outputSymbol = trade.outputAmount.currency.symbol;\n          const inputAmount = trade.inputAmount.toSignificant(3);\n          const outputAmount = trade.outputAmount.toSignificant(3);\n          const base = `Swap ${inputAmount} ${inputSymbol} for ${outputAmount} ${outputSymbol}`;\n          const withRecipient = recipient === account ? base : `${base} to ${recipientAddressOrName && isAddress(recipientAddressOrName) ? shortenAddress(recipientAddressOrName) : recipientAddressOrName}`;\n          addTransaction(response, {\n            summary: withRecipient\n          });\n          return response.hash;\n        }).catch(error => {\n          // if the user rejected the tx, pass this along\n          if ((error === null || error === void 0 ? void 0 : error.code) === 4001) {\n            throw new Error('Transaction rejected.');\n          } else {\n            // otherwise, the error was unexpected and we need to convey that\n            console.error(`Swap failed`, error, methodName, args, value);\n            throw new Error(`Swap failed: ${error.message}`);\n          }\n        });\n      },\n      error: null\n    };\n  }, [trade, library, account, chainId, recipient, recipientAddressOrName, swapCalls, addTransaction]);\n}\n_s2(useSwapCallback, \"G8+T55P1ph4OGYQvDIdQ9DZmL+I=\", false, function () {\n  return [useActiveWeb3React, useSwapCallArguments, useTransactionAdder, useENS];\n});","map":{"version":3,"names":["JSBI","Percent","Router","TradeType","useMemo","useActiveWeb3React","BIPS_BASE","INITIAL_ALLOWED_SLIPPAGE","useTransactionAdder","calculateGasMargin","getRouterContract","isAddress","shortenAddress","isZero","useTransactionDeadline","useENS","SwapCallbackState","useSwapCallArguments","trade","allowedSlippage","recipientAddressOrName","_s","account","chainId","library","address","recipientAddress","recipient","deadline","contract","swapMethods","push","swapCallParameters","feeOnTransfer","BigInt","toNumber","tradeType","EXACT_INPUT","map","parameters","useSwapCallback","_s2","swapCalls","addTransaction","state","INVALID","callback","error","LOADING","VALID","onSwap","estimatedCalls","Promise","all","call","methodName","args","value","options","estimateGas","then","gasEstimate","catch","gasError","console","callStatic","result","Error","callError","_callError$data","reason","data","message","errorMessage","successfulEstimation","find","el","ix","list","length","errorCalls","filter","gasLimit","from","response","inputSymbol","inputAmount","currency","symbol","outputSymbol","outputAmount","toSignificant","base","withRecipient","summary","hash","code"],"sources":["C:/Users/Devrim/Documents/swapUIforProspBlast/src/hooks/useSwapCallback.ts"],"sourcesContent":["import { BigNumber } from '@ethersproject/bignumber'\r\nimport { Contract } from '@ethersproject/contracts'\r\nimport { JSBI, Percent, Router, SwapParameters, Trade, TradeType } from '@pancakeswap/sdk'\r\nimport { useMemo } from 'react'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { BIPS_BASE, INITIAL_ALLOWED_SLIPPAGE } from '../config/constants'\r\nimport { useTransactionAdder } from '../state/transactions/hooks'\r\nimport { calculateGasMargin, getRouterContract, isAddress, shortenAddress } from '../utils'\r\nimport isZero from '../utils/isZero'\r\nimport useTransactionDeadline from './useTransactionDeadline'\r\nimport useENS from './ENS/useENS'\r\n\r\nexport enum SwapCallbackState {\r\n  INVALID,\r\n  LOADING,\r\n  VALID,\r\n}\r\n\r\ninterface SwapCall {\r\n  contract: Contract\r\n  parameters: SwapParameters\r\n}\r\n\r\ninterface SuccessfulCall {\r\n  call: SwapCall\r\n  gasEstimate: BigNumber\r\n}\r\n\r\ninterface FailedCall {\r\n  call: SwapCall\r\n  error: Error\r\n}\r\n\r\ntype EstimatedSwapCall = SuccessfulCall | FailedCall\r\n\r\n/**\r\n * Returns the swap calls that can be used to make the trade\r\n * @param trade trade to execute\r\n * @param allowedSlippage user allowed slippage\r\n * @param recipientAddressOrName\r\n */\r\nfunction useSwapCallArguments(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  recipientAddressOrName: string | null, // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): SwapCall[] {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n  const deadline = useTransactionDeadline()\r\n\r\n  return useMemo(() => {\r\n    if (!trade || !recipient || !library || !account || !chainId || !deadline) return []\r\n\r\n    const contract: Contract | null = getRouterContract(chainId, library, account)\r\n    if (!contract) {\r\n      return []\r\n    }\r\n\r\n    const swapMethods = []\r\n\r\n    swapMethods.push(\r\n      Router.swapCallParameters(trade, {\r\n        feeOnTransfer: false,\r\n        allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n        recipient,\r\n        deadline: deadline.toNumber(),\r\n      }),\r\n    )\r\n\r\n    if (trade.tradeType === TradeType.EXACT_INPUT) {\r\n      swapMethods.push(\r\n        Router.swapCallParameters(trade, {\r\n          feeOnTransfer: true,\r\n          allowedSlippage: new Percent(JSBI.BigInt(allowedSlippage), BIPS_BASE),\r\n          recipient,\r\n          deadline: deadline.toNumber(),\r\n        }),\r\n      )\r\n    }\r\n\r\n    return swapMethods.map((parameters) => ({ parameters, contract }))\r\n  }, [account, allowedSlippage, chainId, deadline, library, recipient, trade])\r\n}\r\n\r\n// returns a function that will execute a swap, if the parameters are all valid\r\n// and the user has approved the slippage adjusted input amount for the trade\r\nexport function useSwapCallback(\r\n  trade: Trade | undefined, // trade to execute, required\r\n  allowedSlippage: number = INITIAL_ALLOWED_SLIPPAGE, // in bips\r\n  recipientAddressOrName: string | null, // the ENS name or address of the recipient of the trade, or null if swap should be returned to sender\r\n): { state: SwapCallbackState; callback: null | (() => Promise<string>); error: string | null } {\r\n  const { account, chainId, library } = useActiveWeb3React()\r\n\r\n  const swapCalls = useSwapCallArguments(trade, allowedSlippage, recipientAddressOrName)\r\n\r\n  const addTransaction = useTransactionAdder()\r\n\r\n  const { address: recipientAddress } = useENS(recipientAddressOrName)\r\n  const recipient = recipientAddressOrName === null ? account : recipientAddress\r\n\r\n  return useMemo(() => {\r\n    if (!trade || !library || !account || !chainId) {\r\n      return { state: SwapCallbackState.INVALID, callback: null, error: 'Missing dependencies' }\r\n    }\r\n    if (!recipient) {\r\n      if (recipientAddressOrName !== null) {\r\n        return { state: SwapCallbackState.INVALID, callback: null, error: 'Invalid recipient' }\r\n      }\r\n      return { state: SwapCallbackState.LOADING, callback: null, error: null }\r\n    }\r\n\r\n    return {\r\n      state: SwapCallbackState.VALID,\r\n      callback: async function onSwap(): Promise<string> {\r\n        const estimatedCalls: EstimatedSwapCall[] = await Promise.all(\r\n          swapCalls.map((call) => {\r\n            const {\r\n              parameters: { methodName, args, value },\r\n              contract,\r\n            } = call\r\n            const options = !value || isZero(value) ? {} : { value }\r\n\r\n            return contract.estimateGas[methodName](...args, options)\r\n              .then((gasEstimate) => {\r\n                return {\r\n                  call,\r\n                  gasEstimate,\r\n                }\r\n              })\r\n              .catch((gasError) => {\r\n                console.error('Gas estimate failed, trying eth_call to extract error', call)\r\n\r\n                return contract.callStatic[methodName](...args, options)\r\n                  .then((result) => {\r\n                    console.error('Unexpected successful call after failed estimate gas', call, gasError, result)\r\n                    return { call, error: new Error('Unexpected issue with estimating the gas. Please try again.') }\r\n                  })\r\n                  .catch((callError) => {\r\n                    console.error('Call threw error', call, callError)\r\n                    const reason: string = callError.reason || callError.data?.message || callError.message\r\n                    const errorMessage = `The transaction cannot succeed due to error: ${\r\n                      reason ?? 'Unknown error, check the logs'\r\n                    }.`\r\n\r\n                    return { call, error: new Error(errorMessage) }\r\n                  })\r\n              })\r\n          }),\r\n        )\r\n\r\n        // a successful estimation is a bignumber gas estimate and the next call is also a bignumber gas estimate\r\n        const successfulEstimation = estimatedCalls.find(\r\n          (el, ix, list): el is SuccessfulCall =>\r\n            'gasEstimate' in el && (ix === list.length - 1 || 'gasEstimate' in list[ix + 1]),\r\n        )\r\n\r\n        if (!successfulEstimation) {\r\n          const errorCalls = estimatedCalls.filter((call): call is FailedCall => 'error' in call)\r\n          if (errorCalls.length > 0) throw errorCalls[errorCalls.length - 1].error\r\n          throw new Error('Unexpected error. Please contact support: none of the calls threw an error')\r\n        }\r\n\r\n        const {\r\n          call: {\r\n            contract,\r\n            parameters: { methodName, args, value },\r\n          },\r\n          gasEstimate,\r\n        } = successfulEstimation\r\n\r\n        return contract[methodName](...args, {\r\n          gasLimit: calculateGasMargin(gasEstimate),\r\n          ...(value && !isZero(value) ? { value, from: account } : { from: account }),\r\n        })\r\n          .then((response: any) => {\r\n            const inputSymbol = trade.inputAmount.currency.symbol\r\n            const outputSymbol = trade.outputAmount.currency.symbol\r\n            const inputAmount = trade.inputAmount.toSignificant(3)\r\n            const outputAmount = trade.outputAmount.toSignificant(3)\r\n\r\n            const base = `Swap ${inputAmount} ${inputSymbol} for ${outputAmount} ${outputSymbol}`\r\n            const withRecipient =\r\n              recipient === account\r\n                ? base\r\n                : `${base} to ${\r\n                    recipientAddressOrName && isAddress(recipientAddressOrName)\r\n                      ? shortenAddress(recipientAddressOrName)\r\n                      : recipientAddressOrName\r\n                  }`\r\n\r\n            addTransaction(response, {\r\n              summary: withRecipient,\r\n            })\r\n\r\n            return response.hash\r\n          })\r\n          .catch((error: any) => {\r\n            // if the user rejected the tx, pass this along\r\n            if (error?.code === 4001) {\r\n              throw new Error('Transaction rejected.')\r\n            } else {\r\n              // otherwise, the error was unexpected and we need to convey that\r\n              console.error(`Swap failed`, error, methodName, args, value)\r\n              throw new Error(`Swap failed: ${error.message}`)\r\n            }\r\n          })\r\n      },\r\n      error: null,\r\n    }\r\n  }, [trade, library, account, chainId, recipient, recipientAddressOrName, swapCalls, addTransaction])\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}