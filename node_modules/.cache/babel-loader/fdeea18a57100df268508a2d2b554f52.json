{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.parseWalletConnectUri = exports.isWalletConnectSession = void 0;\nconst url_1 = require(\"./url\");\nfunction isWalletConnectSession(object) {\n  return typeof object.bridge !== \"undefined\";\n}\nexports.isWalletConnectSession = isWalletConnectSession;\nfunction parseWalletConnectUri(str) {\n  const pathStart = str.indexOf(\":\");\n  const pathEnd = str.indexOf(\"?\") !== -1 ? str.indexOf(\"?\") : undefined;\n  const protocol = str.substring(0, pathStart);\n  const path = str.substring(pathStart + 1, pathEnd);\n  function parseRequiredParams(path) {\n    const separator = \"@\";\n    const values = path.split(separator);\n    const requiredParams = {\n      handshakeTopic: values[0],\n      version: parseInt(values[1], 10)\n    };\n    return requiredParams;\n  }\n  const requiredParams = parseRequiredParams(path);\n  const queryString = typeof pathEnd !== \"undefined\" ? str.substr(pathEnd) : \"\";\n  function parseQueryParams(queryString) {\n    const result = url_1.parseQueryString(queryString);\n    const parameters = {\n      key: result.key || \"\",\n      bridge: result.bridge || \"\"\n    };\n    return parameters;\n  }\n  const queryParams = parseQueryParams(queryString);\n  const result = Object.assign(Object.assign({\n    protocol\n  }, requiredParams), queryParams);\n  return result;\n}\nexports.parseWalletConnectUri = parseWalletConnectUri;","map":{"version":3,"names":["url_1","require","isWalletConnectSession","object","bridge","exports","parseWalletConnectUri","str","pathStart","indexOf","pathEnd","undefined","protocol","substring","path","parseRequiredParams","separator","values","split","requiredParams","handshakeTopic","version","parseInt","queryString","substr","parseQueryParams","result","parseQueryString","parameters","key","queryParams","Object","assign"],"sources":["../../src/session.ts"],"sourcesContent":[null],"mappings":";;;;;;AAMA,MAAAA,KAAA,GAAAC,OAAA;AAEA,SAAgBC,sBAAsBA,CAACC,MAAW;EAChD,OAAO,OAAOA,MAAM,CAACC,MAAM,KAAK,WAAW;AAC7C;AAFAC,OAAA,CAAAH,sBAAA,GAAAA,sBAAA;AAIA,SAAgBI,qBAAqBA,CAACC,GAAW;EAC/C,MAAMC,SAAS,GAAWD,GAAG,CAACE,OAAO,CAAC,GAAG,CAAC;EAE1C,MAAMC,OAAO,GAAuBH,GAAG,CAACE,OAAO,CAAC,GAAG,CAAC,KAAK,CAAC,CAAC,GAAGF,GAAG,CAACE,OAAO,CAAC,GAAG,CAAC,GAAGE,SAAS;EAE1F,MAAMC,QAAQ,GAAWL,GAAG,CAACM,SAAS,CAAC,CAAC,EAAEL,SAAS,CAAC;EAEpD,MAAMM,IAAI,GAAWP,GAAG,CAACM,SAAS,CAACL,SAAS,GAAG,CAAC,EAAEE,OAAO,CAAC;EAE1D,SAASK,mBAAmBA,CAACD,IAAY;IACvC,MAAME,SAAS,GAAG,GAAG;IAErB,MAAMC,MAAM,GAAGH,IAAI,CAACI,KAAK,CAACF,SAAS,CAAC;IAEpC,MAAMG,cAAc,GAAG;MACrBC,cAAc,EAAEH,MAAM,CAAC,CAAC,CAAC;MACzBI,OAAO,EAAEC,QAAQ,CAACL,MAAM,CAAC,CAAC,CAAC,EAAE,EAAE;KAChC;IAED,OAAOE,cAAc;EACvB;EAEA,MAAMA,cAAc,GAA0BJ,mBAAmB,CAACD,IAAI,CAAC;EAEvE,MAAMS,WAAW,GAAW,OAAOb,OAAO,KAAK,WAAW,GAAGH,GAAG,CAACiB,MAAM,CAACd,OAAO,CAAC,GAAG,EAAE;EAErF,SAASe,gBAAgBA,CAACF,WAAmB;IAC3C,MAAMG,MAAM,GAAG1B,KAAA,CAAA2B,gBAAgB,CAACJ,WAAW,CAAC;IAE5C,MAAMK,UAAU,GAAuB;MACrCC,GAAG,EAAEH,MAAM,CAACG,GAAG,IAAI,EAAE;MACrBzB,MAAM,EAAEsB,MAAM,CAACtB,MAAM,IAAI;KAC1B;IAED,OAAOwB,UAAU;EACnB;EAEA,MAAME,WAAW,GAAuBL,gBAAgB,CAACF,WAAW,CAAC;EAErE,MAAMG,MAAM,GAAAK,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA;IACVpB;EAAQ,GACLO,cAAc,GACdW,WAAW,CACf;EAED,OAAOJ,MAAM;AACf;AA9CArB,OAAA,CAAAC,qBAAA,GAAAA,qBAAA","ignoreList":[]},"metadata":{},"sourceType":"script"}