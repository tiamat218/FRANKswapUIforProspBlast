{"ast":null,"code":"var _s = $RefreshSig$(),\n    _s2 = $RefreshSig$(),\n    _s3 = $RefreshSig$(),\n    _s4 = $RefreshSig$();\n\nimport { useEffect, useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { useWeb3React } from '@web3-react/core';\nimport { getBep20Contract, getCakeContract } from 'utils/contractHelpers';\nimport { BIG_ZERO } from 'utils/bigNumber';\nimport { simpleRpcProvider } from 'utils/providers';\nimport useRefresh from './useRefresh';\nimport useLastUpdated from './useLastUpdated';\nexport let FetchStatus;\n\n(function (FetchStatus) {\n  FetchStatus[\"NOT_FETCHED\"] = \"not-fetched\";\n  FetchStatus[\"SUCCESS\"] = \"success\";\n  FetchStatus[\"FAILED\"] = \"failed\";\n})(FetchStatus || (FetchStatus = {}));\n\nconst useTokenBalance = tokenAddress => {\n  _s();\n\n  const {\n    NOT_FETCHED,\n    SUCCESS,\n    FAILED\n  } = FetchStatus;\n  const [balanceState, setBalanceState] = useState({\n    balance: BIG_ZERO,\n    fetchStatus: NOT_FETCHED\n  });\n  const {\n    account\n  } = useWeb3React();\n  const {\n    fastRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress);\n\n      try {\n        const res = await contract.balanceOf(account);\n        setBalanceState({\n          balance: new BigNumber(res.toString()),\n          fetchStatus: SUCCESS\n        });\n      } catch (e) {\n        console.error(e);\n        setBalanceState(prev => ({ ...prev,\n          fetchStatus: FAILED\n        }));\n      }\n    };\n\n    if (account) {\n      fetchBalance();\n    }\n  }, [account, tokenAddress, fastRefresh, SUCCESS, FAILED]);\n  return balanceState;\n};\n\n_s(useTokenBalance, \"RHmyQGPlmZpMQirAsHUWX/UgLIo=\", false, function () {\n  return [useWeb3React, useRefresh];\n});\n\nexport const useTotalSupply = () => {\n  _s2();\n\n  const {\n    slowRefresh\n  } = useRefresh();\n  const [totalSupply, setTotalSupply] = useState();\n  useEffect(() => {\n    async function fetchTotalSupply() {\n      const cakeContract = getCakeContract();\n      const supply = await cakeContract.totalSupply();\n      setTotalSupply(new BigNumber(supply.toString()));\n    }\n\n    fetchTotalSupply();\n  }, [slowRefresh]);\n  return totalSupply;\n};\n\n_s2(useTotalSupply, \"2ibDHTZcwYU9LaabTrlsn9E1ufk=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useBurnedBalance = tokenAddress => {\n  _s3();\n\n  const [balance, setBalance] = useState(BIG_ZERO);\n  const {\n    slowRefresh\n  } = useRefresh();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const contract = getBep20Contract(tokenAddress);\n      const res = await contract.balanceOf('0x000000000000000000000000000000000000dEaD');\n      setBalance(new BigNumber(res.toString()));\n    };\n\n    fetchBalance();\n  }, [tokenAddress, slowRefresh]);\n  return balance;\n};\n\n_s3(useBurnedBalance, \"4MQotZwd6O1prY/6FmL3ShgL1qM=\", false, function () {\n  return [useRefresh];\n});\n\nexport const useGetBnbBalance = () => {\n  _s4();\n\n  const [balance, setBalance] = useState(BIG_ZERO);\n  const {\n    account\n  } = useWeb3React();\n  const {\n    lastUpdated,\n    setLastUpdated\n  } = useLastUpdated();\n  useEffect(() => {\n    const fetchBalance = async () => {\n      const walletBalance = await simpleRpcProvider.getBalance(account);\n      setBalance(new BigNumber(walletBalance.toString()));\n    };\n\n    if (account) {\n      fetchBalance();\n    }\n  }, [account, lastUpdated, setBalance]);\n  return {\n    balance,\n    refresh: setLastUpdated\n  };\n};\n\n_s4(useGetBnbBalance, \"Dx/JRrmIN4uzLPrB3qnMhpb+nWs=\", false, function () {\n  return [useWeb3React, useLastUpdated];\n});\n\nexport default useTokenBalance;","map":{"version":3,"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/hooks/useTokenBalance.ts"],"names":["useEffect","useState","BigNumber","useWeb3React","getBep20Contract","getCakeContract","BIG_ZERO","simpleRpcProvider","useRefresh","useLastUpdated","FetchStatus","useTokenBalance","tokenAddress","NOT_FETCHED","SUCCESS","FAILED","balanceState","setBalanceState","balance","fetchStatus","account","fastRefresh","fetchBalance","contract","res","balanceOf","toString","e","console","error","prev","useTotalSupply","slowRefresh","totalSupply","setTotalSupply","fetchTotalSupply","cakeContract","supply","useBurnedBalance","setBalance","useGetBnbBalance","lastUpdated","setLastUpdated","walletBalance","getBalance","refresh"],"mappings":"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","sourcesContent":["import { useEffect, useState } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { getBep20Contract, getCakeContract } from 'utils/contractHelpers'\r\nimport { BIG_ZERO } from 'utils/bigNumber'\r\nimport { simpleRpcProvider } from 'utils/providers'\r\nimport useRefresh from './useRefresh'\r\nimport useLastUpdated from './useLastUpdated'\r\n\r\ntype UseTokenBalanceState = {\r\n  balance: BigNumber\r\n  fetchStatus: FetchStatus\r\n}\r\n\r\nexport enum FetchStatus {\r\n  NOT_FETCHED = 'not-fetched',\r\n  SUCCESS = 'success',\r\n  FAILED = 'failed',\r\n}\r\n\r\nconst useTokenBalance = (tokenAddress: string) => {\r\n  const { NOT_FETCHED, SUCCESS, FAILED } = FetchStatus\r\n  const [balanceState, setBalanceState] = useState<UseTokenBalanceState>({\r\n    balance: BIG_ZERO,\r\n    fetchStatus: NOT_FETCHED,\r\n  })\r\n  const { account } = useWeb3React()\r\n  const { fastRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress)\r\n      try {\r\n        const res = await contract.balanceOf(account)\r\n        setBalanceState({ balance: new BigNumber(res.toString()), fetchStatus: SUCCESS })\r\n      } catch (e) {\r\n        console.error(e)\r\n        setBalanceState((prev) => ({\r\n          ...prev,\r\n          fetchStatus: FAILED,\r\n        }))\r\n      }\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, tokenAddress, fastRefresh, SUCCESS, FAILED])\r\n\r\n  return balanceState\r\n}\r\n\r\nexport const useTotalSupply = () => {\r\n  const { slowRefresh } = useRefresh()\r\n  const [totalSupply, setTotalSupply] = useState<BigNumber>()\r\n\r\n  useEffect(() => {\r\n    async function fetchTotalSupply() {\r\n      const cakeContract = getCakeContract()\r\n      const supply = await cakeContract.totalSupply()\r\n      setTotalSupply(new BigNumber(supply.toString()))\r\n    }\r\n\r\n    fetchTotalSupply()\r\n  }, [slowRefresh])\r\n\r\n  return totalSupply\r\n}\r\n\r\nexport const useBurnedBalance = (tokenAddress: string) => {\r\n  const [balance, setBalance] = useState(BIG_ZERO)\r\n  const { slowRefresh } = useRefresh()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const contract = getBep20Contract(tokenAddress)\r\n      const res = await contract.balanceOf('0x000000000000000000000000000000000000dEaD')\r\n      setBalance(new BigNumber(res.toString()))\r\n    }\r\n\r\n    fetchBalance()\r\n  }, [tokenAddress, slowRefresh])\r\n\r\n  return balance\r\n}\r\n\r\nexport const useGetBnbBalance = () => {\r\n  const [balance, setBalance] = useState(BIG_ZERO)\r\n  const { account } = useWeb3React()\r\n  const { lastUpdated, setLastUpdated } = useLastUpdated()\r\n\r\n  useEffect(() => {\r\n    const fetchBalance = async () => {\r\n      const walletBalance = await simpleRpcProvider.getBalance(account)\r\n      setBalance(new BigNumber(walletBalance.toString()))\r\n    }\r\n\r\n    if (account) {\r\n      fetchBalance()\r\n    }\r\n  }, [account, lastUpdated, setBalance])\r\n\r\n  return { balance, refresh: setLastUpdated }\r\n}\r\n\r\nexport default useTokenBalance\r\n"]},"metadata":{},"sourceType":"module"}