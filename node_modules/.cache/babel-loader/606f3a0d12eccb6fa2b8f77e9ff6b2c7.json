{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useRef,useCallback,useState,useMemo}from'react';import{Text,Button,CloseIcon,IconButton,LinkExternal,Input,Link}from'@pancakeswap/uikit';import styled from'styled-components';import Row,{RowBetween,RowFixed}from'components/Layout/Row';import{useToken}from'hooks/Tokens';import{useRemoveUserAddedToken}from'state/user/hooks';import useUserAddedTokens from'state/user/hooks/useUserAddedTokens';import{CurrencyLogo}from'components/Logo';import{getBscScanLink,isAddress}from'utils';import useActiveWeb3React from'hooks/useActiveWeb3React';import{useTranslation}from'contexts/Localization';import Column,{AutoColumn}from'../Layout/Column';import ImportRow from'./ImportRow';import{CurrencyModalView}from'./types';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  width: 100%;\\n  height: calc(100% - 60px);\\n  position: relative;\\n  padding-bottom: 60px;\\n\"])));const Footer=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  position: absolute;\\n  bottom: 0;\\n  width: 100%;\\n  display: flex;\\n  justify-content: space-between;\\n  align-items: center;\\n\"])));export default function ManageTokens(_ref){let{setModalView,setImportToken}=_ref;const{chainId}=useActiveWeb3React();const{t}=useTranslation();const[searchQuery,setSearchQuery]=useState('');// manage focus on modal show\nconst inputRef=useRef();const handleInput=useCallback(event=>{const input=event.target.value;const checksummedInput=isAddress(input);setSearchQuery(checksummedInput||input);},[]);// if they input an address, use it\nconst searchToken=useToken(searchQuery);// all tokens for local lisr\nconst userAddedTokens=useUserAddedTokens();const removeToken=useRemoveUserAddedToken();const handleRemoveAll=useCallback(()=>{if(chainId&&userAddedTokens){userAddedTokens.map(token=>{return removeToken(chainId,token.address);});}},[removeToken,userAddedTokens,chainId]);const tokenList=useMemo(()=>{return chainId&&userAddedTokens.map(token=>/*#__PURE__*/_jsxs(RowBetween,{width:\"100%\",children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(CurrencyLogo,{currency:token,size:\"20px\"}),/*#__PURE__*/_jsx(Link,{external:true,href:getBscScanLink(token.address,'address',chainId),color:\"textSubtle\",ml:\"10px\",children:token.symbol})]}),/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(IconButton,{variant:\"text\",onClick:()=>removeToken(chainId,token.address),children:/*#__PURE__*/_jsx(CloseIcon,{})}),/*#__PURE__*/_jsx(LinkExternal,{href:getBscScanLink(token.address,'address',chainId)})]})]},token.address));},[userAddedTokens,chainId,removeToken]);const isAddressValid=searchQuery===''||isAddress(searchQuery);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsxs(Column,{style:{width:'100%',flex:'1 1'},children:[/*#__PURE__*/_jsxs(AutoColumn,{gap:\"14px\",children:[/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Input,{id:\"token-search-input\",scale:\"lg\",placeholder:\"0x0000\",value:searchQuery,autoComplete:\"off\",ref:inputRef,onChange:handleInput,isWarning:!isAddressValid})}),!isAddressValid&&/*#__PURE__*/_jsx(Text,{color:\"failure\",children:t('Enter valid token address')}),searchToken&&/*#__PURE__*/_jsx(ImportRow,{token:searchToken,showImportView:()=>setModalView(CurrencyModalView.importToken),setImportToken:setImportToken,style:{height:'fit-content'}})]}),tokenList,/*#__PURE__*/_jsxs(Footer,{children:[/*#__PURE__*/_jsxs(Text,{bold:true,color:\"textSubtle\",children:[userAddedTokens===null||userAddedTokens===void 0?void 0:userAddedTokens.length,\" \",userAddedTokens.length===1?t('Custom Token'):t('Custom Tokens')]}),userAddedTokens.length>0&&/*#__PURE__*/_jsx(Button,{variant:\"tertiary\",onClick:handleRemoveAll,children:t('Clear all')})]})]})});}","map":{"version":3,"names":["React","useRef","useCallback","useState","useMemo","Text","Button","CloseIcon","IconButton","LinkExternal","Input","Link","styled","Row","RowBetween","RowFixed","useToken","useRemoveUserAddedToken","useUserAddedTokens","CurrencyLogo","getBscScanLink","isAddress","useActiveWeb3React","useTranslation","Column","AutoColumn","ImportRow","CurrencyModalView","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","Footer","_templateObject2","ManageTokens","_ref","setModalView","setImportToken","chainId","t","searchQuery","setSearchQuery","inputRef","handleInput","event","input","target","value","checksummedInput","searchToken","userAddedTokens","removeToken","handleRemoveAll","map","token","address","tokenList","width","children","currency","size","external","href","color","ml","symbol","variant","onClick","isAddressValid","style","flex","gap","id","scale","placeholder","autoComplete","ref","onChange","isWarning","showImportView","importToken","height","bold","length"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/components/SearchModal/ManageTokens.tsx"],"sourcesContent":["import React, { useRef, RefObject, useCallback, useState, useMemo } from 'react'\r\nimport { Token } from '@pancakeswap/sdk'\r\nimport { Text, Button, CloseIcon, IconButton, LinkExternal, Input, Link } from '@pancakeswap/uikit'\r\nimport styled from 'styled-components'\r\nimport Row, { RowBetween, RowFixed } from 'components/Layout/Row'\r\nimport { useToken } from 'hooks/Tokens'\r\nimport { useRemoveUserAddedToken } from 'state/user/hooks'\r\nimport useUserAddedTokens from 'state/user/hooks/useUserAddedTokens'\r\nimport { CurrencyLogo } from 'components/Logo'\r\nimport { getBscScanLink, isAddress } from 'utils'\r\nimport useActiveWeb3React from 'hooks/useActiveWeb3React'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport Column, { AutoColumn } from '../Layout/Column'\r\nimport ImportRow from './ImportRow'\r\nimport { CurrencyModalView } from './types'\r\n\r\nconst Wrapper = styled.div`\r\n  width: 100%;\r\n  height: calc(100% - 60px);\r\n  position: relative;\r\n  padding-bottom: 60px;\r\n`\r\n\r\nconst Footer = styled.div`\r\n  position: absolute;\r\n  bottom: 0;\r\n  width: 100%;\r\n  display: flex;\r\n  justify-content: space-between;\r\n  align-items: center;\r\n`\r\n\r\nexport default function ManageTokens({\r\n  setModalView,\r\n  setImportToken,\r\n}: {\r\n  setModalView: (view: CurrencyModalView) => void\r\n  setImportToken: (token: Token) => void\r\n}) {\r\n  const { chainId } = useActiveWeb3React()\r\n\r\n  const { t } = useTranslation()\r\n\r\n  const [searchQuery, setSearchQuery] = useState<string>('')\r\n\r\n  // manage focus on modal show\r\n  const inputRef = useRef<HTMLInputElement>()\r\n  const handleInput = useCallback((event) => {\r\n    const input = event.target.value\r\n    const checksummedInput = isAddress(input)\r\n    setSearchQuery(checksummedInput || input)\r\n  }, [])\r\n\r\n  // if they input an address, use it\r\n  const searchToken = useToken(searchQuery)\r\n\r\n  // all tokens for local lisr\r\n  const userAddedTokens: Token[] = useUserAddedTokens()\r\n  const removeToken = useRemoveUserAddedToken()\r\n\r\n  const handleRemoveAll = useCallback(() => {\r\n    if (chainId && userAddedTokens) {\r\n      userAddedTokens.map((token) => {\r\n        return removeToken(chainId, token.address)\r\n      })\r\n    }\r\n  }, [removeToken, userAddedTokens, chainId])\r\n\r\n  const tokenList = useMemo(() => {\r\n    return (\r\n      chainId &&\r\n      userAddedTokens.map((token) => (\r\n        <RowBetween key={token.address} width=\"100%\">\r\n          <RowFixed>\r\n            <CurrencyLogo currency={token} size=\"20px\" />\r\n            <Link external href={getBscScanLink(token.address, 'address', chainId)} color=\"textSubtle\" ml=\"10px\">\r\n              {token.symbol}\r\n            </Link>\r\n          </RowFixed>\r\n          <RowFixed>\r\n            <IconButton variant=\"text\" onClick={() => removeToken(chainId, token.address)}>\r\n              <CloseIcon />\r\n            </IconButton>\r\n            <LinkExternal href={getBscScanLink(token.address, 'address', chainId)} />\r\n          </RowFixed>\r\n        </RowBetween>\r\n      ))\r\n    )\r\n  }, [userAddedTokens, chainId, removeToken])\r\n\r\n  const isAddressValid = searchQuery === '' || isAddress(searchQuery)\r\n\r\n  return (\r\n    <Wrapper>\r\n      <Column style={{ width: '100%', flex: '1 1' }}>\r\n        <AutoColumn gap=\"14px\">\r\n          <Row>\r\n            <Input\r\n              id=\"token-search-input\"\r\n              scale=\"lg\"\r\n              placeholder=\"0x0000\"\r\n              value={searchQuery}\r\n              autoComplete=\"off\"\r\n              ref={inputRef as RefObject<HTMLInputElement>}\r\n              onChange={handleInput}\r\n              isWarning={!isAddressValid}\r\n            />\r\n          </Row>\r\n          {!isAddressValid && <Text color=\"failure\">{t('Enter valid token address')}</Text>}\r\n          {searchToken && (\r\n            <ImportRow\r\n              token={searchToken}\r\n              showImportView={() => setModalView(CurrencyModalView.importToken)}\r\n              setImportToken={setImportToken}\r\n              style={{ height: 'fit-content' }}\r\n            />\r\n          )}\r\n        </AutoColumn>\r\n        {tokenList}\r\n        <Footer>\r\n          <Text bold color=\"textSubtle\">\r\n            {userAddedTokens?.length} {userAddedTokens.length === 1 ? t('Custom Token') : t('Custom Tokens')}\r\n          </Text>\r\n          {userAddedTokens.length > 0 && (\r\n            <Button variant=\"tertiary\" onClick={handleRemoveAll}>\r\n              {t('Clear all')}\r\n            </Button>\r\n          )}\r\n        </Footer>\r\n      </Column>\r\n    </Wrapper>\r\n  )\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}