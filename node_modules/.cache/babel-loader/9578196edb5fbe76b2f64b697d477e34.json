{"ast":null,"code":"var _s = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport { fetchCurrentLotteryIdAndMaxBuy, fetchLottery } from 'state/lottery/helpers';\nimport useRefresh from 'hooks/useRefresh';\n\nconst useFetchLotteryForPromos = () => {\n  _s();\n\n  const {\n    slowRefresh\n  } = useRefresh();\n  const [lotteryId, setLotteryId] = useState(null);\n  const [currentLotteryPrize, setCurrentLotteryPrize] = useState(null);\n  useEffect(() => {\n    // get current lottery ID\n    const fetchCurrentID = async () => {\n      const {\n        currentLotteryId\n      } = await fetchCurrentLotteryIdAndMaxBuy();\n      setLotteryId(currentLotteryId);\n    };\n\n    fetchCurrentID();\n  }, [setLotteryId]);\n  useEffect(() => {\n    // get public data for current lottery\n    const fetchCurrentLotteryPrize = async () => {\n      const {\n        amountCollectedInCake\n      } = await fetchLottery(lotteryId);\n      setCurrentLotteryPrize(amountCollectedInCake);\n    };\n\n    if (lotteryId) {\n      fetchCurrentLotteryPrize();\n    }\n  }, [lotteryId, slowRefresh, setCurrentLotteryPrize]);\n  return {\n    currentLotteryPrize\n  };\n};\n\n_s(useFetchLotteryForPromos, \"fm/4i0fuUZOq/PfXu206lmPEqa8=\", false, function () {\n  return [useRefresh];\n});\n\nexport default useFetchLotteryForPromos;","map":{"version":3,"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Home/hooks/useFetchLotteryForPromos.ts"],"names":["useState","useEffect","fetchCurrentLotteryIdAndMaxBuy","fetchLottery","useRefresh","useFetchLotteryForPromos","slowRefresh","lotteryId","setLotteryId","currentLotteryPrize","setCurrentLotteryPrize","fetchCurrentID","currentLotteryId","fetchCurrentLotteryPrize","amountCollectedInCake"],"mappings":";;AAAA,SAASA,QAAT,EAAmBC,SAAnB,QAAoC,OAApC;AACA,SAASC,8BAAT,EAAyCC,YAAzC,QAA6D,uBAA7D;AACA,OAAOC,UAAP,MAAuB,kBAAvB;;AAEA,MAAMC,wBAAwB,GAAG,MAAM;AAAA;;AACrC,QAAM;AAAEC,IAAAA;AAAF,MAAkBF,UAAU,EAAlC;AACA,QAAM,CAACG,SAAD,EAAYC,YAAZ,IAA4BR,QAAQ,CAAS,IAAT,CAA1C;AACA,QAAM,CAACS,mBAAD,EAAsBC,sBAAtB,IAAgDV,QAAQ,CAAS,IAAT,CAA9D;AAEAC,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMU,cAAc,GAAG,YAAY;AACjC,YAAM;AAAEC,QAAAA;AAAF,UAAuB,MAAMV,8BAA8B,EAAjE;AACAM,MAAAA,YAAY,CAACI,gBAAD,CAAZ;AACD,KAHD;;AAKAD,IAAAA,cAAc;AACf,GARQ,EAQN,CAACH,YAAD,CARM,CAAT;AAUAP,EAAAA,SAAS,CAAC,MAAM;AACd;AACA,UAAMY,wBAAwB,GAAG,YAAY;AAC3C,YAAM;AAAEC,QAAAA;AAAF,UAA4B,MAAMX,YAAY,CAACI,SAAD,CAApD;AACAG,MAAAA,sBAAsB,CAACI,qBAAD,CAAtB;AACD,KAHD;;AAKA,QAAIP,SAAJ,EAAe;AACbM,MAAAA,wBAAwB;AACzB;AACF,GAVQ,EAUN,CAACN,SAAD,EAAYD,WAAZ,EAAyBI,sBAAzB,CAVM,CAAT;AAYA,SAAO;AAAED,IAAAA;AAAF,GAAP;AACD,CA5BD;;GAAMJ,wB;UACoBD,U;;;AA6B1B,eAAeC,wBAAf","sourcesContent":["import { useState, useEffect } from 'react'\r\nimport { fetchCurrentLotteryIdAndMaxBuy, fetchLottery } from 'state/lottery/helpers'\r\nimport useRefresh from 'hooks/useRefresh'\r\n\r\nconst useFetchLotteryForPromos = () => {\r\n  const { slowRefresh } = useRefresh()\r\n  const [lotteryId, setLotteryId] = useState<string>(null)\r\n  const [currentLotteryPrize, setCurrentLotteryPrize] = useState<string>(null)\r\n\r\n  useEffect(() => {\r\n    // get current lottery ID\r\n    const fetchCurrentID = async () => {\r\n      const { currentLotteryId } = await fetchCurrentLotteryIdAndMaxBuy()\r\n      setLotteryId(currentLotteryId)\r\n    }\r\n\r\n    fetchCurrentID()\r\n  }, [setLotteryId])\r\n\r\n  useEffect(() => {\r\n    // get public data for current lottery\r\n    const fetchCurrentLotteryPrize = async () => {\r\n      const { amountCollectedInCake } = await fetchLottery(lotteryId)\r\n      setCurrentLotteryPrize(amountCollectedInCake)\r\n    }\r\n\r\n    if (lotteryId) {\r\n      fetchCurrentLotteryPrize()\r\n    }\r\n  }, [lotteryId, slowRefresh, setCurrentLotteryPrize])\r\n\r\n  return { currentLotteryPrize }\r\n}\r\n\r\nexport default useFetchLotteryForPromos\r\n"]},"metadata":{},"sourceType":"module"}