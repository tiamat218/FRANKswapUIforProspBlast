{"ast":null,"code":"import{createSlice}from'@reduxjs/toolkit';import getProfile from'./getProfile';const initialState={isInitialized:false,isLoading:true,hasRegistered:false,data:null};export const profileSlice=createSlice({name:'profile',initialState,reducers:{profileFetchStart:state=>{state.isLoading=true;},profileFetchSucceeded:(_state,action)=>{const{profile,hasRegistered}=action.payload;return{isInitialized:true,isLoading:false,hasRegistered,data:profile};},profileFetchFailed:state=>{state.isLoading=false;state.isInitialized=true;},profileClear:()=>({...initialState,isLoading:false}),addPoints:(state,action)=>{state.data.points+=action.payload;}}});// Actions\nexport const{profileFetchStart,profileFetchSucceeded,profileFetchFailed,profileClear,addPoints}=profileSlice.actions;// Thunks\n// TODO: this should be an AsyncThunk\nexport const fetchProfile=address=>async dispatch=>{try{dispatch(profileFetchStart());const response=await getProfile(address);dispatch(profileFetchSucceeded(response));}catch(error){dispatch(profileFetchFailed());}};export default profileSlice.reducer;","map":{"version":3,"names":["createSlice","getProfile","initialState","isInitialized","isLoading","hasRegistered","data","profileSlice","name","reducers","profileFetchStart","state","profileFetchSucceeded","_state","action","profile","payload","profileFetchFailed","profileClear","addPoints","points","actions","fetchProfile","address","dispatch","response","error","reducer"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/state/profile/index.tsx"],"sourcesContent":["import { createSlice, PayloadAction } from '@reduxjs/toolkit'\r\nimport { ProfileState } from 'state/types'\r\nimport type { AppDispatch } from 'state'\r\nimport getProfile, { GetProfileResponse } from './getProfile'\r\n\r\nconst initialState: ProfileState = {\r\n  isInitialized: false,\r\n  isLoading: true,\r\n  hasRegistered: false,\r\n  data: null,\r\n}\r\n\r\nexport const profileSlice = createSlice({\r\n  name: 'profile',\r\n  initialState,\r\n  reducers: {\r\n    profileFetchStart: (state) => {\r\n      state.isLoading = true\r\n    },\r\n    profileFetchSucceeded: (_state, action: PayloadAction<GetProfileResponse>) => {\r\n      const { profile, hasRegistered } = action.payload\r\n\r\n      return {\r\n        isInitialized: true,\r\n        isLoading: false,\r\n        hasRegistered,\r\n        data: profile,\r\n      }\r\n    },\r\n    profileFetchFailed: (state) => {\r\n      state.isLoading = false\r\n      state.isInitialized = true\r\n    },\r\n    profileClear: () => ({\r\n      ...initialState,\r\n      isLoading: false,\r\n    }),\r\n    addPoints: (state, action: PayloadAction<number>) => {\r\n      state.data.points += action.payload\r\n    },\r\n  },\r\n})\r\n\r\n// Actions\r\nexport const { profileFetchStart, profileFetchSucceeded, profileFetchFailed, profileClear, addPoints } =\r\n  profileSlice.actions\r\n\r\n// Thunks\r\n// TODO: this should be an AsyncThunk\r\nexport const fetchProfile = (address: string) => async (dispatch: AppDispatch) => {\r\n  try {\r\n    dispatch(profileFetchStart())\r\n    const response = await getProfile(address)\r\n    dispatch(profileFetchSucceeded(response))\r\n  } catch (error) {\r\n    dispatch(profileFetchFailed())\r\n  }\r\n}\r\n\r\nexport default profileSlice.reducer\r\n"],"mappings":"AAAA,OAASA,WAAW,KAAuB,kBAAkB,CAG7D,MAAO,CAAAC,UAAU,KAA8B,cAAc,CAE7D,KAAM,CAAAC,YAA0B,CAAG,CACjCC,aAAa,CAAE,KAAK,CACpBC,SAAS,CAAE,IAAI,CACfC,aAAa,CAAE,KAAK,CACpBC,IAAI,CAAE,IACR,CAAC,CAED,MAAO,MAAM,CAAAC,YAAY,CAAGP,WAAW,CAAC,CACtCQ,IAAI,CAAE,SAAS,CACfN,YAAY,CACZO,QAAQ,CAAE,CACRC,iBAAiB,CAAGC,KAAK,EAAK,CAC5BA,KAAK,CAACP,SAAS,CAAG,IAAI,CACxB,CAAC,CACDQ,qBAAqB,CAAEA,CAACC,MAAM,CAAEC,MAAyC,GAAK,CAC5E,KAAM,CAAEC,OAAO,CAAEV,aAAc,CAAC,CAAGS,MAAM,CAACE,OAAO,CAEjD,MAAO,CACLb,aAAa,CAAE,IAAI,CACnBC,SAAS,CAAE,KAAK,CAChBC,aAAa,CACbC,IAAI,CAAES,OACR,CAAC,CACH,CAAC,CACDE,kBAAkB,CAAGN,KAAK,EAAK,CAC7BA,KAAK,CAACP,SAAS,CAAG,KAAK,CACvBO,KAAK,CAACR,aAAa,CAAG,IAAI,CAC5B,CAAC,CACDe,YAAY,CAAEA,CAAA,IAAO,CACnB,GAAGhB,YAAY,CACfE,SAAS,CAAE,KACb,CAAC,CAAC,CACFe,SAAS,CAAEA,CAACR,KAAK,CAAEG,MAA6B,GAAK,CACnDH,KAAK,CAACL,IAAI,CAACc,MAAM,EAAIN,MAAM,CAACE,OAAO,CACrC,CACF,CACF,CAAC,CAAC,CAEF;AACA,MAAO,MAAM,CAAEN,iBAAiB,CAAEE,qBAAqB,CAAEK,kBAAkB,CAAEC,YAAY,CAAEC,SAAU,CAAC,CACpGZ,YAAY,CAACc,OAAO,CAEtB;AACA;AACA,MAAO,MAAM,CAAAC,YAAY,CAAIC,OAAe,EAAK,KAAO,CAAAC,QAAqB,EAAK,CAChF,GAAI,CACFA,QAAQ,CAACd,iBAAiB,CAAC,CAAC,CAAC,CAC7B,KAAM,CAAAe,QAAQ,CAAG,KAAM,CAAAxB,UAAU,CAACsB,OAAO,CAAC,CAC1CC,QAAQ,CAACZ,qBAAqB,CAACa,QAAQ,CAAC,CAAC,CAC3C,CAAE,MAAOC,KAAK,CAAE,CACdF,QAAQ,CAACP,kBAAkB,CAAC,CAAC,CAAC,CAChC,CACF,CAAC,CAED,cAAe,CAAAV,YAAY,CAACoB,OAAO","ignoreList":[]},"metadata":{},"sourceType":"module"}