{"ast":null,"code":"import _taggedTemplateLiteral from\"C:/Users/frkul/Documents/swapUI_pancake-frontend/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";var _templateObject,_templateObject2;import React,{useState,useCallback}from'react';import styled from'styled-components';import{Button,Text,Link,Flex,Checkbox,Message}from'@pancakeswap/uikit';import Card from'components/Card';import{AutoColumn}from'components/Layout/Column';import{RowBetween,RowFixed}from'components/Layout/Row';import useTheme from'hooks/useTheme';import{ListLogo}from'components/Logo';import{useDispatch}from'react-redux';import useFetchListCallback from'hooks/useFetchListCallback';import{removeList,enableList}from'state/lists/actions';import{useAllLists}from'state/lists/hooks';import{useTranslation}from'contexts/Localization';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Wrapper=styled.div(_templateObject||(_templateObject=_taggedTemplateLiteral([\"\\n  position: relative;\\n  width: 100%;\\n\"])));const TextDot=styled.div(_templateObject2||(_templateObject2=_taggedTemplateLiteral([\"\\n  height: 3px;\\n  width: 3px;\\n  background-color: \",\";\\n  border-radius: 50%;\\n\"])),_ref=>{let{theme}=_ref;return theme.colors.text;});function ImportList(_ref2){var _lists$listURL;let{listURL,list,onImport}=_ref2;const{theme}=useTheme();const dispatch=useDispatch();const{t}=useTranslation();// user must accept\nconst[confirmed,setConfirmed]=useState(false);const lists=useAllLists();const fetchList=useFetchListCallback();// monitor is list is loading\nconst adding=Boolean((_lists$listURL=lists[listURL])===null||_lists$listURL===void 0?void 0:_lists$listURL.loadingRequestId);const[addError,setAddError]=useState(null);const handleAddList=useCallback(()=>{if(adding)return;setAddError(null);fetchList(listURL).then(()=>{dispatch(enableList(listURL));onImport();}).catch(error=>{setAddError(error.message);dispatch(removeList(listURL));});},[adding,dispatch,fetchList,listURL,onImport]);return/*#__PURE__*/_jsx(Wrapper,{children:/*#__PURE__*/_jsx(AutoColumn,{gap:\"md\",children:/*#__PURE__*/_jsxs(AutoColumn,{gap:\"md\",children:[/*#__PURE__*/_jsx(Card,{padding:\"12px 20px\",children:/*#__PURE__*/_jsx(RowBetween,{children:/*#__PURE__*/_jsxs(RowFixed,{children:[list.logoURI&&/*#__PURE__*/_jsx(ListLogo,{logoURI:list.logoURI,size:\"40px\"}),/*#__PURE__*/_jsxs(AutoColumn,{gap:\"sm\",style:{marginLeft:'20px'},children:[/*#__PURE__*/_jsxs(RowFixed,{children:[/*#__PURE__*/_jsx(Text,{bold:true,mr:\"6px\",children:list.name}),/*#__PURE__*/_jsx(TextDot,{}),/*#__PURE__*/_jsxs(Text,{small:true,color:\"textSubtle\",ml:\"6px\",children:[list.tokens.length,\" tokens\"]})]}),/*#__PURE__*/_jsx(Link,{small:true,external:true,ellipsis:true,maxWidth:\"90%\",href:\"https://tokenlists.org/token-list?url=\".concat(listURL),children:listURL})]})]})})}),/*#__PURE__*/_jsx(Message,{variant:\"danger\",children:/*#__PURE__*/_jsxs(Flex,{flexDirection:\"column\",children:[/*#__PURE__*/_jsx(Text,{fontSize:\"20px\",textAlign:\"center\",color:theme.colors.failure,mb:\"16px\",children:t('Import at your own risk')}),/*#__PURE__*/_jsx(Text,{color:theme.colors.failure,mb:\"8px\",children:t('By adding this list you are implicitly trusting that the data is correct. Anyone can create a list, including creating fake versions of existing lists and lists that claim to represent projects that do not have one.')}),/*#__PURE__*/_jsx(Text,{bold:true,color:theme.colors.failure,mb:\"16px\",children:typeof'If you purchase a token from this list, you may not be able to sell it back.'}),/*#__PURE__*/_jsxs(Flex,{alignItems:\"center\",children:[/*#__PURE__*/_jsx(Checkbox,{name:\"confirmed\",type:\"checkbox\",checked:confirmed,onChange:()=>setConfirmed(!confirmed),scale:\"sm\"}),/*#__PURE__*/_jsx(Text,{ml:\"10px\",style:{userSelect:'none'},children:t('I understand')})]})]})}),/*#__PURE__*/_jsx(Button,{disabled:!confirmed,onClick:handleAddList,children:t('Import')}),addError?/*#__PURE__*/_jsx(Text,{color:\"failure\",style:{textOverflow:'ellipsis',overflow:'hidden'},children:addError}):null]})})});}export default ImportList;","map":{"version":3,"names":["React","useState","useCallback","styled","Button","Text","Link","Flex","Checkbox","Message","Card","AutoColumn","RowBetween","RowFixed","useTheme","ListLogo","useDispatch","useFetchListCallback","removeList","enableList","useAllLists","useTranslation","jsx","_jsx","jsxs","_jsxs","Wrapper","div","_templateObject","_taggedTemplateLiteral","TextDot","_templateObject2","_ref","theme","colors","text","ImportList","_ref2","_lists$listURL","listURL","list","onImport","dispatch","t","confirmed","setConfirmed","lists","fetchList","adding","Boolean","loadingRequestId","addError","setAddError","handleAddList","then","catch","error","message","children","gap","padding","logoURI","size","style","marginLeft","bold","mr","name","small","color","ml","tokens","length","external","ellipsis","maxWidth","href","concat","variant","flexDirection","fontSize","textAlign","failure","mb","alignItems","type","checked","onChange","scale","userSelect","disabled","onClick","textOverflow","overflow"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/components/SearchModal/ImportList.tsx"],"sourcesContent":["import React, { useState, useCallback } from 'react'\r\nimport styled from 'styled-components'\r\nimport { Button, Text, Link, Flex, Checkbox, Message } from '@pancakeswap/uikit'\r\nimport Card from 'components/Card'\r\nimport { AutoColumn } from 'components/Layout/Column'\r\nimport { RowBetween, RowFixed } from 'components/Layout/Row'\r\nimport useTheme from 'hooks/useTheme'\r\nimport { ListLogo } from 'components/Logo'\r\nimport { TokenList } from '@uniswap/token-lists'\r\nimport { useDispatch } from 'react-redux'\r\nimport { AppDispatch } from 'state'\r\nimport useFetchListCallback from 'hooks/useFetchListCallback'\r\nimport { removeList, enableList } from 'state/lists/actions'\r\nimport { useAllLists } from 'state/lists/hooks'\r\nimport { useTranslation } from 'contexts/Localization'\r\n\r\ninterface ImportProps {\r\n  listURL: string\r\n  list: TokenList\r\n  onImport: () => void\r\n}\r\n\r\nconst Wrapper = styled.div`\r\n  position: relative;\r\n  width: 100%;\r\n`\r\n\r\nconst TextDot = styled.div`\r\n  height: 3px;\r\n  width: 3px;\r\n  background-color: ${({ theme }) => theme.colors.text};\r\n  border-radius: 50%;\r\n`\r\n\r\nfunction ImportList({ listURL, list, onImport }: ImportProps) {\r\n  const { theme } = useTheme()\r\n  const dispatch = useDispatch<AppDispatch>()\r\n\r\n  const { t } = useTranslation()\r\n\r\n  // user must accept\r\n  const [confirmed, setConfirmed] = useState(false)\r\n\r\n  const lists = useAllLists()\r\n  const fetchList = useFetchListCallback()\r\n\r\n  // monitor is list is loading\r\n  const adding = Boolean(lists[listURL]?.loadingRequestId)\r\n  const [addError, setAddError] = useState<string | null>(null)\r\n\r\n  const handleAddList = useCallback(() => {\r\n    if (adding) return\r\n    setAddError(null)\r\n    fetchList(listURL)\r\n      .then(() => {\r\n        dispatch(enableList(listURL))\r\n        onImport()\r\n      })\r\n      .catch((error) => {\r\n        setAddError(error.message)\r\n        dispatch(removeList(listURL))\r\n      })\r\n  }, [adding, dispatch, fetchList, listURL, onImport])\r\n\r\n  return (\r\n    <Wrapper>\r\n      <AutoColumn gap=\"md\">\r\n        <AutoColumn gap=\"md\">\r\n          <Card padding=\"12px 20px\">\r\n            <RowBetween>\r\n              <RowFixed>\r\n                {list.logoURI && <ListLogo logoURI={list.logoURI} size=\"40px\" />}\r\n                <AutoColumn gap=\"sm\" style={{ marginLeft: '20px' }}>\r\n                  <RowFixed>\r\n                    <Text bold mr=\"6px\">\r\n                      {list.name}\r\n                    </Text>\r\n                    <TextDot />\r\n                    <Text small color=\"textSubtle\" ml=\"6px\">\r\n                      {list.tokens.length} tokens\r\n                    </Text>\r\n                  </RowFixed>\r\n                  <Link\r\n                    small\r\n                    external\r\n                    ellipsis\r\n                    maxWidth=\"90%\"\r\n                    href={`https://tokenlists.org/token-list?url=${listURL}`}\r\n                  >\r\n                    {listURL}\r\n                  </Link>\r\n                </AutoColumn>\r\n              </RowFixed>\r\n            </RowBetween>\r\n          </Card>\r\n\r\n          <Message variant=\"danger\">\r\n            <Flex flexDirection=\"column\">\r\n              <Text fontSize=\"20px\" textAlign=\"center\" color={theme.colors.failure} mb=\"16px\">\r\n                {t('Import at your own risk')}\r\n              </Text>\r\n              <Text color={theme.colors.failure} mb=\"8px\">\r\n                {t(\r\n                  'By adding this list you are implicitly trusting that the data is correct. Anyone can create a list, including creating fake versions of existing lists and lists that claim to represent projects that do not have one.',\r\n                )}\r\n              </Text>\r\n              <Text bold color={theme.colors.failure} mb=\"16px\">\r\n                {typeof 'If you purchase a token from this list, you may not be able to sell it back.'}\r\n              </Text>\r\n              <Flex alignItems=\"center\">\r\n                <Checkbox\r\n                  name=\"confirmed\"\r\n                  type=\"checkbox\"\r\n                  checked={confirmed}\r\n                  onChange={() => setConfirmed(!confirmed)}\r\n                  scale=\"sm\"\r\n                />\r\n                <Text ml=\"10px\" style={{ userSelect: 'none' }}>\r\n                  {t('I understand')}\r\n                </Text>\r\n              </Flex>\r\n            </Flex>\r\n          </Message>\r\n\r\n          <Button disabled={!confirmed} onClick={handleAddList}>\r\n            {t('Import')}\r\n          </Button>\r\n          {addError ? (\r\n            <Text color=\"failure\" style={{ textOverflow: 'ellipsis', overflow: 'hidden' }}>\r\n              {addError}\r\n            </Text>\r\n          ) : null}\r\n        </AutoColumn>\r\n      </AutoColumn>\r\n    </Wrapper>\r\n  )\r\n}\r\n\r\nexport default ImportList\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}