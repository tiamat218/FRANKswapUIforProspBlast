{"ast":null,"code":"import{format,parseISO,isValid}from'date-fns';import{MINIMUM_CHOICES}from'./Choices';export const combineDateAndTime=(date,time)=>{if(!isValid(date)||!isValid(time)){return null;}const dateStr=format(date,'yyyy-MM-dd');const timeStr=format(time,'HH:mm:ss');return parseISO(\"\".concat(dateStr,\"T\").concat(timeStr)).getTime()/1e3;};export const getFormErrors=(formData,t)=>{const{name,body,choices,startDate,startTime,endDate,endTime,snapshot}=formData;const errors={};if(!name){errors.name=[t('%field% is required',{field:'Title'})];}if(!body){errors.body=[t('%field% is required',{field:'Body'})];}if(choices.length<MINIMUM_CHOICES){errors.choices=[t('Please create a minimum of %num% choices',{num:MINIMUM_CHOICES})];}const hasEmptyChoice=choices.some(choice=>!choice.value);if(choices.length===MINIMUM_CHOICES&&hasEmptyChoice){errors.choices=Array.isArray(errors.choices)?[...errors.choices,t('Choices must not be empty')]:errors.choices=[t('Choices must not be empty')];}if(!isValid(startDate)){errors.startDate=[t('Please select a valid date')];}if(!isValid(startTime)){errors.startTime=[t('Please select a valid time')];}if(!isValid(endDate)){errors.endDate=[t('Please select a valid date')];}if(!isValid(endTime)){errors.endTime=[t('Please select a valid time')];}const startDateTimestamp=combineDateAndTime(startDate,startTime);const endDateTimestamp=combineDateAndTime(endDate,endTime);if(endDateTimestamp<startDateTimestamp){errors.endDate=Array.isArray(errors.endDate)?[...errors.endDate,t('End date must be after the start date')]:errors.endDate=[t('End date must be after the start date')];}if(snapshot===0){errors.snapshot=[t('Invalid snapshot')];}return errors;};","map":{"version":3,"names":["format","parseISO","isValid","MINIMUM_CHOICES","combineDateAndTime","date","time","dateStr","timeStr","concat","getTime","getFormErrors","formData","t","name","body","choices","startDate","startTime","endDate","endTime","snapshot","errors","field","length","num","hasEmptyChoice","some","choice","value","Array","isArray","startDateTimestamp","endDateTimestamp"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Voting/CreateProposal/helpers.ts"],"sourcesContent":["import { ContextApi } from 'contexts/Localization/types'\r\nimport { format, parseISO, isValid } from 'date-fns'\r\nimport { MINIMUM_CHOICES } from './Choices'\r\nimport { FormState } from './types'\r\n\r\nexport const combineDateAndTime = (date: Date, time: Date) => {\r\n  if (!isValid(date) || !isValid(time)) {\r\n    return null\r\n  }\r\n\r\n  const dateStr = format(date, 'yyyy-MM-dd')\r\n  const timeStr = format(time, 'HH:mm:ss')\r\n\r\n  return parseISO(`${dateStr}T${timeStr}`).getTime() / 1e3\r\n}\r\n\r\nexport const getFormErrors = (formData: FormState, t: ContextApi['t']) => {\r\n  const { name, body, choices, startDate, startTime, endDate, endTime, snapshot } = formData\r\n  const errors: { [key: string]: string[] } = {}\r\n\r\n  if (!name) {\r\n    errors.name = [t('%field% is required', { field: 'Title' })]\r\n  }\r\n\r\n  if (!body) {\r\n    errors.body = [t('%field% is required', { field: 'Body' })]\r\n  }\r\n\r\n  if (choices.length < MINIMUM_CHOICES) {\r\n    errors.choices = [t('Please create a minimum of %num% choices', { num: MINIMUM_CHOICES })]\r\n  }\r\n\r\n  const hasEmptyChoice = choices.some((choice) => !choice.value)\r\n  if (choices.length === MINIMUM_CHOICES && hasEmptyChoice) {\r\n    errors.choices = Array.isArray(errors.choices)\r\n      ? [...errors.choices, t('Choices must not be empty')]\r\n      : (errors.choices = [t('Choices must not be empty')])\r\n  }\r\n\r\n  if (!isValid(startDate)) {\r\n    errors.startDate = [t('Please select a valid date')]\r\n  }\r\n\r\n  if (!isValid(startTime)) {\r\n    errors.startTime = [t('Please select a valid time')]\r\n  }\r\n\r\n  if (!isValid(endDate)) {\r\n    errors.endDate = [t('Please select a valid date')]\r\n  }\r\n\r\n  if (!isValid(endTime)) {\r\n    errors.endTime = [t('Please select a valid time')]\r\n  }\r\n\r\n  const startDateTimestamp = combineDateAndTime(startDate, startTime)\r\n  const endDateTimestamp = combineDateAndTime(endDate, endTime)\r\n\r\n  if (endDateTimestamp < startDateTimestamp) {\r\n    errors.endDate = Array.isArray(errors.endDate)\r\n      ? [...errors.endDate, t('End date must be after the start date')]\r\n      : (errors.endDate = [t('End date must be after the start date')])\r\n  }\r\n\r\n  if (snapshot === 0) {\r\n    errors.snapshot = [t('Invalid snapshot')]\r\n  }\r\n\r\n  return errors\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}