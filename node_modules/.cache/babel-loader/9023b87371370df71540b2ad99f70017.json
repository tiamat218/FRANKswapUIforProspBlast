{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useState } from 'react';\nconst useWithdrawalFeeTimer = (lastDepositedTime, userShares, withdrawalFeePeriod = 259200) => {\n  _s();\n  const [secondsRemaining, setSecondsRemaining] = useState(null);\n  const [hasUnstakingFee, setHasUnstakingFee] = useState(false);\n  const [currentSeconds, setCurrentSeconds] = useState(Math.floor(Date.now() / 1000));\n  useEffect(() => {\n    const feeEndTime = lastDepositedTime + withdrawalFeePeriod;\n    const secondsRemainingCalc = feeEndTime - currentSeconds;\n    const doesUnstakingFeeApply = userShares.gt(0) && secondsRemainingCalc > 0;\n    const tick = () => {\n      setCurrentSeconds(prevSeconds => prevSeconds + 1);\n    };\n    const timerInterval = setInterval(() => tick(), 1000);\n    if (doesUnstakingFeeApply) {\n      setSecondsRemaining(secondsRemainingCalc);\n      setHasUnstakingFee(true);\n    } else {\n      setHasUnstakingFee(false);\n      clearInterval(timerInterval);\n    }\n    return () => clearInterval(timerInterval);\n  }, [lastDepositedTime, withdrawalFeePeriod, setSecondsRemaining, currentSeconds, userShares]);\n  return {\n    hasUnstakingFee,\n    secondsRemaining\n  };\n};\n_s(useWithdrawalFeeTimer, \"AKhu/nLNlDI69v08ggl2JO+xkc0=\");\nexport default useWithdrawalFeeTimer;","map":{"version":3,"names":["useEffect","useState","useWithdrawalFeeTimer","lastDepositedTime","userShares","withdrawalFeePeriod","_s","secondsRemaining","setSecondsRemaining","hasUnstakingFee","setHasUnstakingFee","currentSeconds","setCurrentSeconds","Math","floor","Date","now","feeEndTime","secondsRemainingCalc","doesUnstakingFeeApply","gt","tick","prevSeconds","timerInterval","setInterval","clearInterval"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/views/Pools/hooks/useWithdrawalFeeTimer.ts"],"sourcesContent":["import BigNumber from 'bignumber.js'\r\nimport { useEffect, useState } from 'react'\r\n\r\nconst useWithdrawalFeeTimer = (lastDepositedTime: number, userShares: BigNumber, withdrawalFeePeriod = 259200) => {\r\n  const [secondsRemaining, setSecondsRemaining] = useState(null)\r\n  const [hasUnstakingFee, setHasUnstakingFee] = useState(false)\r\n  const [currentSeconds, setCurrentSeconds] = useState(Math.floor(Date.now() / 1000))\r\n\r\n  useEffect(() => {\r\n    const feeEndTime = lastDepositedTime + withdrawalFeePeriod\r\n    const secondsRemainingCalc = feeEndTime - currentSeconds\r\n    const doesUnstakingFeeApply = userShares.gt(0) && secondsRemainingCalc > 0\r\n\r\n    const tick = () => {\r\n      setCurrentSeconds((prevSeconds) => prevSeconds + 1)\r\n    }\r\n    const timerInterval = setInterval(() => tick(), 1000)\r\n    if (doesUnstakingFeeApply) {\r\n      setSecondsRemaining(secondsRemainingCalc)\r\n      setHasUnstakingFee(true)\r\n    } else {\r\n      setHasUnstakingFee(false)\r\n      clearInterval(timerInterval)\r\n    }\r\n\r\n    return () => clearInterval(timerInterval)\r\n  }, [lastDepositedTime, withdrawalFeePeriod, setSecondsRemaining, currentSeconds, userShares])\r\n\r\n  return { hasUnstakingFee, secondsRemaining }\r\n}\r\n\r\nexport default useWithdrawalFeeTimer\r\n"],"mappings":";AACA,SAASA,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAE3C,MAAMC,qBAAqB,GAAGA,CAACC,iBAAyB,EAAEC,UAAqB,EAAEC,mBAAmB,GAAG,MAAM,KAAK;EAAAC,EAAA;EAChH,MAAM,CAACC,gBAAgB,EAAEC,mBAAmB,CAAC,GAAGP,QAAQ,CAAC,IAAI,CAAC;EAC9D,MAAM,CAACQ,eAAe,EAAEC,kBAAkB,CAAC,GAAGT,QAAQ,CAAC,KAAK,CAAC;EAC7D,MAAM,CAACU,cAAc,EAAEC,iBAAiB,CAAC,GAAGX,QAAQ,CAACY,IAAI,CAACC,KAAK,CAACC,IAAI,CAACC,GAAG,CAAC,CAAC,GAAG,IAAI,CAAC,CAAC;EAEnFhB,SAAS,CAAC,MAAM;IACd,MAAMiB,UAAU,GAAGd,iBAAiB,GAAGE,mBAAmB;IAC1D,MAAMa,oBAAoB,GAAGD,UAAU,GAAGN,cAAc;IACxD,MAAMQ,qBAAqB,GAAGf,UAAU,CAACgB,EAAE,CAAC,CAAC,CAAC,IAAIF,oBAAoB,GAAG,CAAC;IAE1E,MAAMG,IAAI,GAAGA,CAAA,KAAM;MACjBT,iBAAiB,CAAEU,WAAW,IAAKA,WAAW,GAAG,CAAC,CAAC;IACrD,CAAC;IACD,MAAMC,aAAa,GAAGC,WAAW,CAAC,MAAMH,IAAI,CAAC,CAAC,EAAE,IAAI,CAAC;IACrD,IAAIF,qBAAqB,EAAE;MACzBX,mBAAmB,CAACU,oBAAoB,CAAC;MACzCR,kBAAkB,CAAC,IAAI,CAAC;IAC1B,CAAC,MAAM;MACLA,kBAAkB,CAAC,KAAK,CAAC;MACzBe,aAAa,CAACF,aAAa,CAAC;IAC9B;IAEA,OAAO,MAAME,aAAa,CAACF,aAAa,CAAC;EAC3C,CAAC,EAAE,CAACpB,iBAAiB,EAAEE,mBAAmB,EAAEG,mBAAmB,EAAEG,cAAc,EAAEP,UAAU,CAAC,CAAC;EAE7F,OAAO;IAAEK,eAAe;IAAEF;EAAiB,CAAC;AAC9C,CAAC;AAAAD,EAAA,CA1BKJ,qBAAqB;AA4B3B,eAAeA,qBAAqB","ignoreList":[]},"metadata":{},"sourceType":"module"}