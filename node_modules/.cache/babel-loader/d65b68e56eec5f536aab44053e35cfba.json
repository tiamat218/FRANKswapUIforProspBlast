{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\frkul\\\\Documents\\\\swapUI_pancake-frontend\\\\src\\\\views\\\\Profile\\\\components\\\\ClaimGiftModal.tsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useCallback, useEffect, useState } from 'react';\nimport { Modal, Text, Button, AutoRenewIcon } from '@pancakeswap/uikit';\nimport { useWeb3React } from '@web3-react/core';\nimport useToast from 'hooks/useToast';\nimport { useClaimRefundContract } from 'hooks/useContract';\nimport { useTranslation } from 'contexts/Localization';\nimport { getClaimRefundContract } from 'utils/contractHelpers';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const useCanClaim = () => {\n  _s();\n  const [canClaim, setCanClaim] = useState(false);\n  const [refresh, setRefresh] = useState(1);\n  const {\n    account\n  } = useWeb3React();\n  const checkClaimStatus = useCallback(() => {\n    setRefresh(prevRefresh => prevRefresh + 1);\n  }, [setRefresh]);\n  useEffect(() => {\n    const fetchClaimStatus = async () => {\n      const claimRefundContract = getClaimRefundContract();\n      const walletCanClaim = await claimRefundContract.canClaim(account);\n      setCanClaim(walletCanClaim);\n    };\n    if (account) {\n      fetchClaimStatus();\n    }\n  }, [account, refresh, setCanClaim]);\n  return {\n    canClaim,\n    checkClaimStatus\n  };\n};\n_s(useCanClaim, \"58e0GTPAd6pKEkkvn0TNBZNJ8uI=\", false, function () {\n  return [useWeb3React];\n});\nconst ClaimGift = ({\n  onSuccess,\n  onDismiss\n}) => {\n  _s2();\n  const [isConfirming, setIsConfirming] = useState(false);\n  const {\n    t\n  } = useTranslation();\n  const {\n    canClaim\n  } = useCanClaim();\n  const claimRefundContract = useClaimRefundContract();\n  const {\n    toastSuccess,\n    toastError\n  } = useToast();\n  const handleClick = async () => {\n    const tx = await claimRefundContract.getCakeBack();\n    setIsConfirming(true);\n    const receipt = await tx.wait();\n    if (receipt.status) {\n      toastSuccess(t('Success!'));\n      onSuccess();\n      onDismiss();\n    } else {\n      setIsConfirming(false);\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'));\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(Modal, {\n    title: t('Claim your Gift!'),\n    onDismiss: onDismiss,\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        maxWidth: '640px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        children: t('Thank you for being a day-one user of Pancake Profiles!')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        mb: \"8px\",\n        children: t(\"If you haven't already noticed, we made a mistake and the starter bunny you chose got mixed up and changed into another bunny. Oops!\")\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        children: t('To make it up to you, we’ll refund you the full 4 CAKE it cost to make your bunny.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        mb: \"8px\",\n        children: t('We’re also preparing an all-new collectible for you to claim (for free!) in the near future.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 68,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        as: \"p\",\n        mb: \"24px\",\n        children: t('Once you claim the refund, you can make another account with another wallet, mint a new bunny, and send it to your main account via the NFT page.')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        endIcon: isConfirming ? /*#__PURE__*/_jsxDEV(AutoRenewIcon, {\n          spin: true,\n          color: \"currentColor\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 77,\n          columnNumber: 35\n        }, this) : null,\n        isLoading: isConfirming,\n        onClick: handleClick,\n        disabled: !canClaim,\n        children: t('Claim Your CAKE')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 76,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 59,\n    columnNumber: 5\n  }, this);\n};\n_s2(ClaimGift, \"RKn/rIj644+Sn9iXoVgs4V2RoQA=\", false, function () {\n  return [useTranslation, useCanClaim, useClaimRefundContract, useToast];\n});\n_c = ClaimGift;\nexport default ClaimGift;\nvar _c;\n$RefreshReg$(_c, \"ClaimGift\");","map":{"version":3,"names":["React","useCallback","useEffect","useState","Modal","Text","Button","AutoRenewIcon","useWeb3React","useToast","useClaimRefundContract","useTranslation","getClaimRefundContract","jsxDEV","_jsxDEV","useCanClaim","_s","canClaim","setCanClaim","refresh","setRefresh","account","checkClaimStatus","prevRefresh","fetchClaimStatus","claimRefundContract","walletCanClaim","ClaimGift","onSuccess","onDismiss","_s2","isConfirming","setIsConfirming","t","toastSuccess","toastError","handleClick","tx","getCakeBack","receipt","wait","status","title","children","style","maxWidth","as","fileName","_jsxFileName","lineNumber","columnNumber","mb","endIcon","spin","color","isLoading","onClick","disabled","_c","$RefreshReg$"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/views/Profile/components/ClaimGiftModal.tsx"],"sourcesContent":["import React, { useCallback, useEffect, useState } from 'react'\r\nimport { Modal, Text, InjectedModalProps, Button, AutoRenewIcon } from '@pancakeswap/uikit'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport useToast from 'hooks/useToast'\r\nimport { useClaimRefundContract } from 'hooks/useContract'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { getClaimRefundContract } from 'utils/contractHelpers'\r\n\r\ninterface ClaimGiftProps extends InjectedModalProps {\r\n  onSuccess: () => void\r\n}\r\n\r\nexport const useCanClaim = () => {\r\n  const [canClaim, setCanClaim] = useState(false)\r\n  const [refresh, setRefresh] = useState(1)\r\n  const { account } = useWeb3React()\r\n\r\n  const checkClaimStatus = useCallback(() => {\r\n    setRefresh((prevRefresh) => prevRefresh + 1)\r\n  }, [setRefresh])\r\n\r\n  useEffect(() => {\r\n    const fetchClaimStatus = async () => {\r\n      const claimRefundContract = getClaimRefundContract()\r\n      const walletCanClaim = await claimRefundContract.canClaim(account)\r\n      setCanClaim(walletCanClaim)\r\n    }\r\n\r\n    if (account) {\r\n      fetchClaimStatus()\r\n    }\r\n  }, [account, refresh, setCanClaim])\r\n\r\n  return { canClaim, checkClaimStatus }\r\n}\r\n\r\nconst ClaimGift: React.FC<ClaimGiftProps> = ({ onSuccess, onDismiss }) => {\r\n  const [isConfirming, setIsConfirming] = useState(false)\r\n  const { t } = useTranslation()\r\n  const { canClaim } = useCanClaim()\r\n  const claimRefundContract = useClaimRefundContract()\r\n  const { toastSuccess, toastError } = useToast()\r\n\r\n  const handleClick = async () => {\r\n    const tx = await claimRefundContract.getCakeBack()\r\n    setIsConfirming(true)\r\n    const receipt = await tx.wait()\r\n    if (receipt.status) {\r\n      toastSuccess(t('Success!'))\r\n      onSuccess()\r\n      onDismiss()\r\n    } else {\r\n      setIsConfirming(false)\r\n      toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'))\r\n    }\r\n  }\r\n\r\n  return (\r\n    <Modal title={t('Claim your Gift!')} onDismiss={onDismiss}>\r\n      <div style={{ maxWidth: '640px' }}>\r\n        <Text as=\"p\">{t('Thank you for being a day-one user of Pancake Profiles!')}</Text>\r\n        <Text as=\"p\" mb=\"8px\">\r\n          {t(\r\n            \"If you haven't already noticed, we made a mistake and the starter bunny you chose got mixed up and changed into another bunny. Oops!\",\r\n          )}\r\n        </Text>\r\n        <Text as=\"p\">{t('To make it up to you, we’ll refund you the full 4 CAKE it cost to make your bunny.')}</Text>\r\n        <Text as=\"p\" mb=\"8px\">\r\n          {t('We’re also preparing an all-new collectible for you to claim (for free!) in the near future.')}\r\n        </Text>\r\n        <Text as=\"p\" mb=\"24px\">\r\n          {t(\r\n            'Once you claim the refund, you can make another account with another wallet, mint a new bunny, and send it to your main account via the NFT page.',\r\n          )}\r\n        </Text>\r\n        <Button\r\n          endIcon={isConfirming ? <AutoRenewIcon spin color=\"currentColor\" /> : null}\r\n          isLoading={isConfirming}\r\n          onClick={handleClick}\r\n          disabled={!canClaim}\r\n        >\r\n          {t('Claim Your CAKE')}\r\n        </Button>\r\n      </div>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default ClaimGift\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}