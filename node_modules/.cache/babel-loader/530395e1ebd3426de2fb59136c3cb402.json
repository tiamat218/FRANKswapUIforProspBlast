{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.getMobileLinkRegistry = exports.getMobileRegistryEntry = exports.saveMobileLinkInfo = exports.formatIOSMobile = exports.mobileLinkChoiceKey = void 0;\nconst local_1 = require(\"./local\");\nexports.mobileLinkChoiceKey = \"WALLETCONNECT_DEEPLINK_CHOICE\";\nfunction formatIOSMobile(uri, entry) {\n  const encodedUri = encodeURIComponent(uri);\n  return entry.universalLink ? \"\".concat(entry.universalLink, \"/wc?uri=\").concat(encodedUri) : entry.deepLink ? \"\".concat(entry.deepLink).concat(entry.deepLink.endsWith(\":\") ? \"//\" : \"/\", \"wc?uri=\").concat(encodedUri) : \"\";\n}\nexports.formatIOSMobile = formatIOSMobile;\nfunction saveMobileLinkInfo(data) {\n  const focusUri = data.href.split(\"?\")[0];\n  local_1.setLocal(exports.mobileLinkChoiceKey, Object.assign(Object.assign({}, data), {\n    href: focusUri\n  }));\n}\nexports.saveMobileLinkInfo = saveMobileLinkInfo;\nfunction getMobileRegistryEntry(registry, name) {\n  return registry.filter(entry => entry.name.toLowerCase().includes(name.toLowerCase()))[0];\n}\nexports.getMobileRegistryEntry = getMobileRegistryEntry;\nfunction getMobileLinkRegistry(registry, whitelist) {\n  let links = registry;\n  if (whitelist && whitelist.length) {\n    links = whitelist.map(name => getMobileRegistryEntry(registry, name));\n  }\n  return links;\n}\nexports.getMobileLinkRegistry = getMobileLinkRegistry;","map":{"version":3,"names":["local_1","require","exports","mobileLinkChoiceKey","formatIOSMobile","uri","entry","encodedUri","encodeURIComponent","universalLink","concat","deepLink","endsWith","saveMobileLinkInfo","data","focusUri","href","split","setLocal","Object","assign","getMobileRegistryEntry","registry","name","filter","toLowerCase","includes","getMobileLinkRegistry","whitelist","links","length","map"],"sources":["../../src/mobile.ts"],"sourcesContent":[null],"mappings":";;;;;;AAEA,MAAAA,OAAA,GAAAC,OAAA;AAEaC,OAAA,CAAAC,mBAAmB,GAAG,+BAA+B;AAElE,SAAgBC,eAAeA,CAACC,GAAW,EAAEC,KAA2B;EACtE,MAAMC,UAAU,GAAWC,kBAAkB,CAACH,GAAG,CAAC;EAClD,OAAOC,KAAK,CAACG,aAAa,MAAAC,MAAA,CACnBJ,KAAK,CAACG,aAAa,cAAAC,MAAA,CAAWH,UAAU,IAC3CD,KAAK,CAACK,QAAQ,MAAAD,MAAA,CACXJ,KAAK,CAACK,QAAQ,EAAAD,MAAA,CAAGJ,KAAK,CAACK,QAAQ,CAACC,QAAQ,CAAC,GAAG,CAAC,GAAG,IAAI,GAAG,GAAG,aAAAF,MAAA,CAAUH,UAAU,IACjF,EAAE;AACR;AAPAL,OAAA,CAAAE,eAAA,GAAAA,eAAA;AASA,SAAgBS,kBAAkBA,CAACC,IAAqB;EACtD,MAAMC,QAAQ,GAAGD,IAAI,CAACE,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC;EACxCjB,OAAA,CAAAkB,QAAQ,CAAChB,OAAA,CAAAC,mBAAmB,EAAAgB,MAAA,CAAAC,MAAA,CAAAD,MAAA,CAAAC,MAAA,KAAON,IAAI;IAAEE,IAAI,EAAED;EAAQ,GAAG;AAC5D;AAHAb,OAAA,CAAAW,kBAAA,GAAAA,kBAAA;AAKA,SAAgBQ,sBAAsBA,CACpCC,QAAyB,EACzBC,IAAY;EAEZ,OAAOD,QAAQ,CAACE,MAAM,CAAElB,KAA2B,IACjDA,KAAK,CAACiB,IAAI,CAACE,WAAW,EAAE,CAACC,QAAQ,CAACH,IAAI,CAACE,WAAW,EAAE,CAAC,CACtD,CAAC,CAAC,CAAC;AACN;AAPAvB,OAAA,CAAAmB,sBAAA,GAAAA,sBAAA;AASA,SAAgBM,qBAAqBA,CAACL,QAAyB,EAAEM,SAAoB;EACnF,IAAIC,KAAK,GAAGP,QAAQ;EACpB,IAAIM,SAAS,IAAIA,SAAS,CAACE,MAAM,EAAE;IACjCD,KAAK,GAAGD,SAAS,CAACG,GAAG,CAAER,IAAY,IAAKF,sBAAsB,CAACC,QAAQ,EAAEC,IAAI,CAAC,CAAC;;EAEjF,OAAOM,KAAK;AACd;AANA3B,OAAA,CAAAyB,qBAAA,GAAAA,qBAAA","ignoreList":[]},"metadata":{},"sourceType":"script"}