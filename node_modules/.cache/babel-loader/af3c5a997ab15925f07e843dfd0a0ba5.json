{"ast":null,"code":"import React from'react';import{useWeb3React}from'@web3-react/core';import{useGetBetByEpoch,useGetCurrentEpoch}from'state/hooks';import{BetPosition}from'state/types';import{getMultiplierv2}from'../../helpers';import ExpiredRoundCard from'./ExpiredRoundCard';import LiveRoundCard from'./LiveRoundCard';import OpenRoundCard from'./OpenRoundCard';import SoonRoundCard from'./SoonRoundCard';import{jsx as _jsx}from\"react/jsx-runtime\";const RoundCard=_ref=>{let{round}=_ref;const{epoch,lockPrice,closePrice,totalAmount,bullAmount,bearAmount}=round;const currentEpoch=useGetCurrentEpoch();const{account}=useWeb3React();const ledger=useGetBetByEpoch(account,epoch);const hasEntered=ledger?ledger.amount.gt(0):false;const hasEnteredUp=hasEntered&&ledger.position===BetPosition.BULL;const hasEnteredDown=hasEntered&&ledger.position===BetPosition.BEAR;const hasClaimedUp=hasEntered&&ledger.claimed&&ledger.position===BetPosition.BULL;const hasClaimedDown=hasEntered&&ledger.claimed&&ledger.position===BetPosition.BEAR;const bullMultiplier=getMultiplierv2(totalAmount,bullAmount);const bearMultiplier=getMultiplierv2(totalAmount,bearAmount);const formattedBullMultiplier=bullMultiplier.toUnsafeFloat().toFixed(bullMultiplier.isZero()?0:2);const formattedbearMultiplier=bearMultiplier.toUnsafeFloat().toFixed(bearMultiplier.isZero()?0:2);// Next (open) round\nif(epoch===currentEpoch&&lockPrice===null){return/*#__PURE__*/_jsx(OpenRoundCard,{round:round,hasEnteredDown:hasEnteredDown,hasEnteredUp:hasEnteredUp,betAmount:ledger===null||ledger===void 0?void 0:ledger.amount,bullMultiplier:formattedBullMultiplier,bearMultiplier:formattedbearMultiplier});}// Live round\nif(closePrice===null&&epoch===currentEpoch-1){return/*#__PURE__*/_jsx(LiveRoundCard,{betAmount:ledger===null||ledger===void 0?void 0:ledger.amount,hasEnteredDown:hasEnteredDown,hasEnteredUp:hasEnteredUp,round:round,bullMultiplier:formattedBullMultiplier,bearMultiplier:formattedbearMultiplier});}// Fake future rounds\nif(epoch>currentEpoch){return/*#__PURE__*/_jsx(SoonRoundCard,{round:round});}// Past rounds\nreturn/*#__PURE__*/_jsx(ExpiredRoundCard,{round:round,hasEnteredDown:hasEnteredDown,hasEnteredUp:hasEnteredUp,hasClaimedDown:hasClaimedDown,hasClaimedUp:hasClaimedUp,betAmount:ledger===null||ledger===void 0?void 0:ledger.amount,bullMultiplier:formattedBullMultiplier,bearMultiplier:formattedbearMultiplier});};export default RoundCard;","map":{"version":3,"names":["React","useWeb3React","useGetBetByEpoch","useGetCurrentEpoch","BetPosition","getMultiplierv2","ExpiredRoundCard","LiveRoundCard","OpenRoundCard","SoonRoundCard","jsx","_jsx","RoundCard","_ref","round","epoch","lockPrice","closePrice","totalAmount","bullAmount","bearAmount","currentEpoch","account","ledger","hasEntered","amount","gt","hasEnteredUp","position","BULL","hasEnteredDown","BEAR","hasClaimedUp","claimed","hasClaimedDown","bullMultiplier","bearMultiplier","formattedBullMultiplier","toUnsafeFloat","toFixed","isZero","formattedbearMultiplier","betAmount"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Predictions/components/RoundCard/index.tsx"],"sourcesContent":["import React from 'react'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { useGetBetByEpoch, useGetCurrentEpoch } from 'state/hooks'\r\nimport { BetPosition, NodeRound } from 'state/types'\r\nimport { getMultiplierv2 } from '../../helpers'\r\nimport ExpiredRoundCard from './ExpiredRoundCard'\r\nimport LiveRoundCard from './LiveRoundCard'\r\nimport OpenRoundCard from './OpenRoundCard'\r\nimport SoonRoundCard from './SoonRoundCard'\r\n\r\ninterface RoundCardProps {\r\n  round: NodeRound\r\n}\r\n\r\nconst RoundCard: React.FC<RoundCardProps> = ({ round }) => {\r\n  const { epoch, lockPrice, closePrice, totalAmount, bullAmount, bearAmount } = round\r\n  const currentEpoch = useGetCurrentEpoch()\r\n  const { account } = useWeb3React()\r\n  const ledger = useGetBetByEpoch(account, epoch)\r\n  const hasEntered = ledger ? ledger.amount.gt(0) : false\r\n  const hasEnteredUp = hasEntered && ledger.position === BetPosition.BULL\r\n  const hasEnteredDown = hasEntered && ledger.position === BetPosition.BEAR\r\n  const hasClaimedUp = hasEntered && ledger.claimed && ledger.position === BetPosition.BULL\r\n  const hasClaimedDown = hasEntered && ledger.claimed && ledger.position === BetPosition.BEAR\r\n\r\n  const bullMultiplier = getMultiplierv2(totalAmount, bullAmount)\r\n  const bearMultiplier = getMultiplierv2(totalAmount, bearAmount)\r\n\r\n  const formattedBullMultiplier = bullMultiplier.toUnsafeFloat().toFixed(bullMultiplier.isZero() ? 0 : 2)\r\n  const formattedbearMultiplier = bearMultiplier.toUnsafeFloat().toFixed(bearMultiplier.isZero() ? 0 : 2)\r\n\r\n  // Next (open) round\r\n  if (epoch === currentEpoch && lockPrice === null) {\r\n    return (\r\n      <OpenRoundCard\r\n        round={round}\r\n        hasEnteredDown={hasEnteredDown}\r\n        hasEnteredUp={hasEnteredUp}\r\n        betAmount={ledger?.amount}\r\n        bullMultiplier={formattedBullMultiplier}\r\n        bearMultiplier={formattedbearMultiplier}\r\n      />\r\n    )\r\n  }\r\n\r\n  // Live round\r\n  if (closePrice === null && epoch === currentEpoch - 1) {\r\n    return (\r\n      <LiveRoundCard\r\n        betAmount={ledger?.amount}\r\n        hasEnteredDown={hasEnteredDown}\r\n        hasEnteredUp={hasEnteredUp}\r\n        round={round}\r\n        bullMultiplier={formattedBullMultiplier}\r\n        bearMultiplier={formattedbearMultiplier}\r\n      />\r\n    )\r\n  }\r\n\r\n  // Fake future rounds\r\n  if (epoch > currentEpoch) {\r\n    return <SoonRoundCard round={round} />\r\n  }\r\n\r\n  // Past rounds\r\n  return (\r\n    <ExpiredRoundCard\r\n      round={round}\r\n      hasEnteredDown={hasEnteredDown}\r\n      hasEnteredUp={hasEnteredUp}\r\n      hasClaimedDown={hasClaimedDown}\r\n      hasClaimedUp={hasClaimedUp}\r\n      betAmount={ledger?.amount}\r\n      bullMultiplier={formattedBullMultiplier}\r\n      bearMultiplier={formattedbearMultiplier}\r\n    />\r\n  )\r\n}\r\n\r\nexport default RoundCard\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}