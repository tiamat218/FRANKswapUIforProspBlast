{"ast":null,"code":"import BigNumber from'bignumber.js';import React,{useCallback,useMemo,useState}from'react';import{Button,Modal,LinkExternal}from'@pancakeswap/uikit';import{ModalActions,ModalInput}from'components/Modal';import{useTranslation}from'contexts/Localization';import{getFullDisplayBalance}from'utils/formatBalance';import useToast from'hooks/useToast';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const DepositModal=_ref=>{let{max,onConfirm,onDismiss,tokenName='',addLiquidityUrl}=_ref;const[val,setVal]=useState('');const{toastSuccess,toastError}=useToast();const[pendingTx,setPendingTx]=useState(false);const{t}=useTranslation();const fullBalance=useMemo(()=>{return getFullDisplayBalance(max);},[max]);const valNumber=new BigNumber(val);const fullBalanceNumber=new BigNumber(fullBalance);const handleChange=useCallback(e=>{if(e.currentTarget.validity.valid){setVal(e.currentTarget.value.replace(/,/g,'.'));}},[setVal]);const handleSelectMax=useCallback(()=>{setVal(fullBalance);},[fullBalance,setVal]);return/*#__PURE__*/_jsxs(Modal,{title:t('Stake LP tokens'),onDismiss:onDismiss,children:[/*#__PURE__*/_jsx(ModalInput,{value:val,onSelectMax:handleSelectMax,onChange:handleChange,max:fullBalance,symbol:tokenName,addLiquidityUrl:addLiquidityUrl,inputTitle:t('Stake')}),/*#__PURE__*/_jsxs(ModalActions,{children:[/*#__PURE__*/_jsx(Button,{variant:\"secondary\",onClick:onDismiss,width:\"100%\",disabled:pendingTx,children:t('Cancel')}),/*#__PURE__*/_jsx(Button,{width:\"100%\",disabled:pendingTx||!valNumber.isFinite()||valNumber.eq(0)||valNumber.gt(fullBalanceNumber),onClick:async()=>{setPendingTx(true);try{await onConfirm(val);toastSuccess(t('Staked!'),t('Your funds have been staked in the farm'));onDismiss();}catch(e){toastError(t('Error'),t('Please try again. Confirm the transaction and make sure you are paying enough gas!'));console.error(e);}finally{setPendingTx(false);}},children:pendingTx?t('Confirming'):t('Confirm')})]}),/*#__PURE__*/_jsx(LinkExternal,{href:addLiquidityUrl,style:{alignSelf:'center'},children:t('Get %symbol%',{symbol:tokenName})})]});};export default DepositModal;","map":{"version":3,"names":["BigNumber","React","useCallback","useMemo","useState","Button","Modal","LinkExternal","ModalActions","ModalInput","useTranslation","getFullDisplayBalance","useToast","jsx","_jsx","jsxs","_jsxs","DepositModal","_ref","max","onConfirm","onDismiss","tokenName","addLiquidityUrl","val","setVal","toastSuccess","toastError","pendingTx","setPendingTx","t","fullBalance","valNumber","fullBalanceNumber","handleChange","e","currentTarget","validity","valid","value","replace","handleSelectMax","title","children","onSelectMax","onChange","symbol","inputTitle","variant","onClick","width","disabled","isFinite","eq","gt","console","error","href","style","alignSelf"],"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Farms/components/DepositModal.tsx"],"sourcesContent":["import BigNumber from 'bignumber.js'\r\nimport React, { useCallback, useMemo, useState } from 'react'\r\nimport { Button, Modal, LinkExternal } from '@pancakeswap/uikit'\r\nimport { ModalActions, ModalInput } from 'components/Modal'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { getFullDisplayBalance } from 'utils/formatBalance'\r\nimport useToast from 'hooks/useToast'\r\n\r\ninterface DepositModalProps {\r\n  max: BigNumber\r\n  onConfirm: (amount: string) => void\r\n  onDismiss?: () => void\r\n  tokenName?: string\r\n  addLiquidityUrl?: string\r\n}\r\n\r\nconst DepositModal: React.FC<DepositModalProps> = ({ max, onConfirm, onDismiss, tokenName = '', addLiquidityUrl }) => {\r\n  const [val, setVal] = useState('')\r\n  const { toastSuccess, toastError } = useToast()\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const { t } = useTranslation()\r\n  const fullBalance = useMemo(() => {\r\n    return getFullDisplayBalance(max)\r\n  }, [max])\r\n\r\n  const valNumber = new BigNumber(val)\r\n  const fullBalanceNumber = new BigNumber(fullBalance)\r\n\r\n  const handleChange = useCallback(\r\n    (e: React.FormEvent<HTMLInputElement>) => {\r\n      if (e.currentTarget.validity.valid) {\r\n        setVal(e.currentTarget.value.replace(/,/g, '.'))\r\n      }\r\n    },\r\n    [setVal],\r\n  )\r\n\r\n  const handleSelectMax = useCallback(() => {\r\n    setVal(fullBalance)\r\n  }, [fullBalance, setVal])\r\n\r\n  return (\r\n    <Modal title={t('Stake LP tokens')} onDismiss={onDismiss}>\r\n      <ModalInput\r\n        value={val}\r\n        onSelectMax={handleSelectMax}\r\n        onChange={handleChange}\r\n        max={fullBalance}\r\n        symbol={tokenName}\r\n        addLiquidityUrl={addLiquidityUrl}\r\n        inputTitle={t('Stake')}\r\n      />\r\n      <ModalActions>\r\n        <Button variant=\"secondary\" onClick={onDismiss} width=\"100%\" disabled={pendingTx}>\r\n          {t('Cancel')}\r\n        </Button>\r\n        <Button\r\n          width=\"100%\"\r\n          disabled={pendingTx || !valNumber.isFinite() || valNumber.eq(0) || valNumber.gt(fullBalanceNumber)}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            try {\r\n              await onConfirm(val)\r\n              toastSuccess(t('Staked!'), t('Your funds have been staked in the farm'))\r\n              onDismiss()\r\n            } catch (e) {\r\n              toastError(\r\n                t('Error'),\r\n                t('Please try again. Confirm the transaction and make sure you are paying enough gas!'),\r\n              )\r\n              console.error(e)\r\n            } finally {\r\n              setPendingTx(false)\r\n            }\r\n          }}\r\n        >\r\n          {pendingTx ? t('Confirming') : t('Confirm')}\r\n        </Button>\r\n      </ModalActions>\r\n      <LinkExternal href={addLiquidityUrl} style={{ alignSelf: 'center' }}>\r\n        {t('Get %symbol%', { symbol: tokenName })}\r\n      </LinkExternal>\r\n    </Modal>\r\n  )\r\n}\r\n\r\nexport default DepositModal\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}