{"ast":null,"code":"import CID from'cids';import{getCodec,rmPrefix}from'multicodec';import{decode,toB58String}from'multihashes';function hexToUint8Array(hex){// eslint-disable-next-line no-param-reassign\nhex=hex.startsWith('0x')?hex.substr(2):hex;if(hex.length%2!==0)throw new Error('hex must have length that is multiple of 2');const arr=new Uint8Array(hex.length/2);for(let i=0;i<arr.length;i++){arr[i]=parseInt(hex.substr(i*2,2),16);}return arr;}const UTF_8_DECODER=new TextDecoder();/**\r\n * Returns the URI representation of the content hash for supported codecs\r\n * @param contenthash to decode\r\n */export default function contenthashToUri(contenthash){const buff=hexToUint8Array(contenthash);const codec=getCodec(buff);// the typing is wrong for @types/multicodec\nswitch(codec){case'ipfs-ns':{const data=rmPrefix(buff);const cid=new CID(data);return\"ipfs://\".concat(toB58String(cid.multihash));}case'ipns-ns':{const data=rmPrefix(buff);const cid=new CID(data);const multihash=decode(cid.multihash);if(multihash.name==='identity'){return\"ipns://\".concat(UTF_8_DECODER.decode(multihash.digest).trim());}return\"ipns://\".concat(toB58String(cid.multihash));}default:throw new Error(\"Unrecognized codec: \".concat(codec));}}","map":{"version":3,"names":["CID","getCodec","rmPrefix","decode","toB58String","hexToUint8Array","hex","startsWith","substr","length","Error","arr","Uint8Array","i","parseInt","UTF_8_DECODER","TextDecoder","contenthashToUri","contenthash","buff","codec","data","cid","concat","multihash","name","digest","trim"],"sources":["C:/Users/frkul/Documents/swapUI_pancake-frontend/src/utils/contenthashToUri.ts"],"sourcesContent":["import CID from 'cids'\r\nimport { getCodec, rmPrefix } from 'multicodec'\r\nimport { decode, toB58String } from 'multihashes'\r\n\r\nfunction hexToUint8Array(hex: string): Uint8Array {\r\n  // eslint-disable-next-line no-param-reassign\r\n  hex = hex.startsWith('0x') ? hex.substr(2) : hex\r\n  if (hex.length % 2 !== 0) throw new Error('hex must have length that is multiple of 2')\r\n  const arr = new Uint8Array(hex.length / 2)\r\n  for (let i = 0; i < arr.length; i++) {\r\n    arr[i] = parseInt(hex.substr(i * 2, 2), 16)\r\n  }\r\n  return arr\r\n}\r\n\r\nconst UTF_8_DECODER = new TextDecoder()\r\n\r\n/**\r\n * Returns the URI representation of the content hash for supported codecs\r\n * @param contenthash to decode\r\n */\r\nexport default function contenthashToUri(contenthash: string): string {\r\n  const buff = hexToUint8Array(contenthash)\r\n  const codec = getCodec(buff as Buffer) // the typing is wrong for @types/multicodec\r\n  switch (codec) {\r\n    case 'ipfs-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      return `ipfs://${toB58String(cid.multihash)}`\r\n    }\r\n    case 'ipns-ns': {\r\n      const data = rmPrefix(buff as Buffer)\r\n      const cid = new CID(data)\r\n      const multihash = decode(cid.multihash)\r\n      if (multihash.name === 'identity') {\r\n        return `ipns://${UTF_8_DECODER.decode(multihash.digest).trim()}`\r\n      }\r\n      return `ipns://${toB58String(cid.multihash)}`\r\n    }\r\n    default:\r\n      throw new Error(`Unrecognized codec: ${codec}`)\r\n  }\r\n}\r\n"],"mappings":"AAAA,MAAO,CAAAA,GAAG,KAAM,MAAM,CACtB,OAASC,QAAQ,CAAEC,QAAQ,KAAQ,YAAY,CAC/C,OAASC,MAAM,CAAEC,WAAW,KAAQ,aAAa,CAEjD,QAAS,CAAAC,eAAeA,CAACC,GAAW,CAAc,CAChD;AACAA,GAAG,CAAGA,GAAG,CAACC,UAAU,CAAC,IAAI,CAAC,CAAGD,GAAG,CAACE,MAAM,CAAC,CAAC,CAAC,CAAGF,GAAG,CAChD,GAAIA,GAAG,CAACG,MAAM,CAAG,CAAC,GAAK,CAAC,CAAE,KAAM,IAAI,CAAAC,KAAK,CAAC,4CAA4C,CAAC,CACvF,KAAM,CAAAC,GAAG,CAAG,GAAI,CAAAC,UAAU,CAACN,GAAG,CAACG,MAAM,CAAG,CAAC,CAAC,CAC1C,IAAK,GAAI,CAAAI,CAAC,CAAG,CAAC,CAAEA,CAAC,CAAGF,GAAG,CAACF,MAAM,CAAEI,CAAC,EAAE,CAAE,CACnCF,GAAG,CAACE,CAAC,CAAC,CAAGC,QAAQ,CAACR,GAAG,CAACE,MAAM,CAACK,CAAC,CAAG,CAAC,CAAE,CAAC,CAAC,CAAE,EAAE,CAAC,CAC7C,CACA,MAAO,CAAAF,GAAG,CACZ,CAEA,KAAM,CAAAI,aAAa,CAAG,GAAI,CAAAC,WAAW,CAAC,CAAC,CAEvC;AACA;AACA;AACA,GACA,cAAe,SAAS,CAAAC,gBAAgBA,CAACC,WAAmB,CAAU,CACpE,KAAM,CAAAC,IAAI,CAAGd,eAAe,CAACa,WAAW,CAAC,CACzC,KAAM,CAAAE,KAAK,CAAGnB,QAAQ,CAACkB,IAAc,CAAC,CAAC;AACvC,OAAQC,KAAK,EACX,IAAK,SAAS,CAAE,CACd,KAAM,CAAAC,IAAI,CAAGnB,QAAQ,CAACiB,IAAc,CAAC,CACrC,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAtB,GAAG,CAACqB,IAAI,CAAC,CACzB,gBAAAE,MAAA,CAAiBnB,WAAW,CAACkB,GAAG,CAACE,SAAS,CAAC,EAC7C,CACA,IAAK,SAAS,CAAE,CACd,KAAM,CAAAH,IAAI,CAAGnB,QAAQ,CAACiB,IAAc,CAAC,CACrC,KAAM,CAAAG,GAAG,CAAG,GAAI,CAAAtB,GAAG,CAACqB,IAAI,CAAC,CACzB,KAAM,CAAAG,SAAS,CAAGrB,MAAM,CAACmB,GAAG,CAACE,SAAS,CAAC,CACvC,GAAIA,SAAS,CAACC,IAAI,GAAK,UAAU,CAAE,CACjC,gBAAAF,MAAA,CAAiBR,aAAa,CAACZ,MAAM,CAACqB,SAAS,CAACE,MAAM,CAAC,CAACC,IAAI,CAAC,CAAC,EAChE,CACA,gBAAAJ,MAAA,CAAiBnB,WAAW,CAACkB,GAAG,CAACE,SAAS,CAAC,EAC7C,CACA,QACE,KAAM,IAAI,CAAAd,KAAK,wBAAAa,MAAA,CAAwBH,KAAK,CAAE,CAAC,CACnD,CACF","ignoreList":[]},"metadata":{},"sourceType":"module"}