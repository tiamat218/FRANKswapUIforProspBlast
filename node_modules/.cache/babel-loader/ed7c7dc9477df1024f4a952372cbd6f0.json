{"ast":null,"code":"var numeric = function (value, unit) {\n  return Number(value.slice(0, -1 * unit.length));\n};\n\nvar parseValue = function (value) {\n  if (value.endsWith('px')) {\n    return {\n      value: value,\n      type: 'px',\n      numeric: numeric(value, 'px')\n    };\n  }\n\n  if (value.endsWith('fr')) {\n    return {\n      value: value,\n      type: 'fr',\n      numeric: numeric(value, 'fr')\n    };\n  }\n\n  if (value.endsWith('%')) {\n    return {\n      value: value,\n      type: '%',\n      numeric: numeric(value, '%')\n    };\n  }\n\n  if (value === 'auto') {\n    return {\n      value: value,\n      type: 'auto'\n    };\n  }\n\n  return null;\n};\n\nvar parse = function (rule) {\n  return rule.split(' ').map(parseValue);\n};\n\nvar getSizeAtTrack = function (index, tracks, gap, end) {\n  if (gap === void 0) {\n    gap = 0;\n  }\n\n  if (end === void 0) {\n    end = false;\n  }\n\n  var newIndex = end ? index + 1 : index;\n  var trackSum = tracks.slice(0, newIndex).reduce(function (accum, value) {\n    return accum + value.numeric;\n  }, 0);\n  var gapSum = gap ? index * gap : 0;\n  return trackSum + gapSum;\n};\n\nvar getStyles = function (rule, ownRules, matchedRules) {\n  return ownRules.concat(matchedRules).map(function (r) {\n    return r.style[rule];\n  }).filter(function (style) {\n    return style !== undefined && style !== '';\n  });\n};\n\nvar getGapValue = function (unit, size) {\n  if (size.endsWith(unit)) {\n    return Number(size.slice(0, -1 * unit.length));\n  }\n\n  return null;\n};\n\nvar firstNonZero = function (tracks) {\n  // eslint-disable-next-line no-plusplus\n  for (var i = 0; i < tracks.length; i++) {\n    if (tracks[i].numeric > 0) {\n      return i;\n    }\n  }\n\n  return null;\n};\n\nvar NOOP = function () {\n  return false;\n};\n\nvar defaultWriteStyle = function (element, gridTemplateProp, style) {\n  // eslint-disable-next-line no-param-reassign\n  element.style[gridTemplateProp] = style;\n};\n\nvar getOption = function (options, propName, def) {\n  var value = options[propName];\n\n  if (value !== undefined) {\n    return value;\n  }\n\n  return def;\n};\n\nfunction getMatchedCSSRules(el) {\n  var ref;\n  return (ref = []).concat.apply(ref, Array.from(el.ownerDocument.styleSheets).map(function (s) {\n    var rules = [];\n\n    try {\n      rules = Array.from(s.cssRules || []);\n    } catch (e) {// Ignore results on security error\n    }\n\n    return rules;\n  })).filter(function (r) {\n    var matches = false;\n\n    try {\n      matches = el.matches(r.selectorText);\n    } catch (e) {// Ignore matching erros\n    }\n\n    return matches;\n  });\n}\n\nvar gridTemplatePropColumns = 'grid-template-columns';\nvar gridTemplatePropRows = 'grid-template-rows';\n\nvar Gutter = function Gutter(direction, options, parentOptions) {\n  this.direction = direction;\n  this.element = options.element;\n  this.track = options.track;\n\n  if (direction === 'column') {\n    this.gridTemplateProp = gridTemplatePropColumns;\n    this.gridGapProp = 'grid-column-gap';\n    this.cursor = getOption(parentOptions, 'columnCursor', getOption(parentOptions, 'cursor', 'col-resize'));\n    this.snapOffset = getOption(parentOptions, 'columnSnapOffset', getOption(parentOptions, 'snapOffset', 30));\n    this.dragInterval = getOption(parentOptions, 'columnDragInterval', getOption(parentOptions, 'dragInterval', 1));\n    this.clientAxis = 'clientX';\n    this.optionStyle = getOption(parentOptions, 'gridTemplateColumns');\n  } else if (direction === 'row') {\n    this.gridTemplateProp = gridTemplatePropRows;\n    this.gridGapProp = 'grid-row-gap';\n    this.cursor = getOption(parentOptions, 'rowCursor', getOption(parentOptions, 'cursor', 'row-resize'));\n    this.snapOffset = getOption(parentOptions, 'rowSnapOffset', getOption(parentOptions, 'snapOffset', 30));\n    this.dragInterval = getOption(parentOptions, 'rowDragInterval', getOption(parentOptions, 'dragInterval', 1));\n    this.clientAxis = 'clientY';\n    this.optionStyle = getOption(parentOptions, 'gridTemplateRows');\n  }\n\n  this.onDragStart = getOption(parentOptions, 'onDragStart', NOOP);\n  this.onDragEnd = getOption(parentOptions, 'onDragEnd', NOOP);\n  this.onDrag = getOption(parentOptions, 'onDrag', NOOP);\n  this.writeStyle = getOption(parentOptions, 'writeStyle', defaultWriteStyle);\n  this.startDragging = this.startDragging.bind(this);\n  this.stopDragging = this.stopDragging.bind(this);\n  this.drag = this.drag.bind(this);\n  this.minSizeStart = options.minSizeStart;\n  this.minSizeEnd = options.minSizeEnd;\n\n  if (options.element) {\n    this.element.addEventListener('mousedown', this.startDragging);\n    this.element.addEventListener('touchstart', this.startDragging);\n  }\n};\n\nGutter.prototype.getDimensions = function getDimensions() {\n  var ref = this.grid.getBoundingClientRect();\n  var width = ref.width;\n  var height = ref.height;\n  var top = ref.top;\n  var bottom = ref.bottom;\n  var left = ref.left;\n  var right = ref.right;\n\n  if (this.direction === 'column') {\n    this.start = top;\n    this.end = bottom;\n    this.size = height;\n  } else if (this.direction === 'row') {\n    this.start = left;\n    this.end = right;\n    this.size = width;\n  }\n};\n\nGutter.prototype.getSizeAtTrack = function getSizeAtTrack$1(track, end) {\n  return getSizeAtTrack(track, this.computedPixels, this.computedGapPixels, end);\n};\n\nGutter.prototype.getSizeOfTrack = function getSizeOfTrack(track) {\n  return this.computedPixels[track].numeric;\n};\n\nGutter.prototype.getRawTracks = function getRawTracks() {\n  var tracks = getStyles(this.gridTemplateProp, [this.grid], getMatchedCSSRules(this.grid));\n\n  if (!tracks.length) {\n    if (this.optionStyle) {\n      return this.optionStyle;\n    }\n\n    throw Error('Unable to determine grid template tracks from styles.');\n  }\n\n  return tracks[0];\n};\n\nGutter.prototype.getGap = function getGap() {\n  var gap = getStyles(this.gridGapProp, [this.grid], getMatchedCSSRules(this.grid));\n\n  if (!gap.length) {\n    return null;\n  }\n\n  return gap[0];\n};\n\nGutter.prototype.getRawComputedTracks = function getRawComputedTracks() {\n  return window.getComputedStyle(this.grid)[this.gridTemplateProp];\n};\n\nGutter.prototype.getRawComputedGap = function getRawComputedGap() {\n  return window.getComputedStyle(this.grid)[this.gridGapProp];\n};\n\nGutter.prototype.setTracks = function setTracks(raw) {\n  this.tracks = raw.split(' ');\n  this.trackValues = parse(raw);\n};\n\nGutter.prototype.setComputedTracks = function setComputedTracks(raw) {\n  this.computedTracks = raw.split(' ');\n  this.computedPixels = parse(raw);\n};\n\nGutter.prototype.setGap = function setGap(raw) {\n  this.gap = raw;\n};\n\nGutter.prototype.setComputedGap = function setComputedGap(raw) {\n  this.computedGap = raw;\n  this.computedGapPixels = getGapValue('px', this.computedGap) || 0;\n};\n\nGutter.prototype.getMousePosition = function getMousePosition(e) {\n  if ('touches' in e) {\n    return e.touches[0][this.clientAxis];\n  }\n\n  return e[this.clientAxis];\n};\n\nGutter.prototype.startDragging = function startDragging(e) {\n  if ('button' in e && e.button !== 0) {\n    return;\n  } // Don't actually drag the element. We emulate that in the drag function.\n\n\n  e.preventDefault();\n\n  if (this.element) {\n    this.grid = this.element.parentNode;\n  } else {\n    this.grid = e.target.parentNode;\n  }\n\n  this.getDimensions();\n  this.setTracks(this.getRawTracks());\n  this.setComputedTracks(this.getRawComputedTracks());\n  this.setGap(this.getGap());\n  this.setComputedGap(this.getRawComputedGap());\n  var trackPercentage = this.trackValues.filter(function (track) {\n    return track.type === '%';\n  });\n  var trackFr = this.trackValues.filter(function (track) {\n    return track.type === 'fr';\n  });\n  this.totalFrs = trackFr.length;\n\n  if (this.totalFrs) {\n    var track = firstNonZero(trackFr);\n\n    if (track !== null) {\n      this.frToPixels = this.computedPixels[track].numeric / trackFr[track].numeric;\n    }\n  }\n\n  if (trackPercentage.length) {\n    var track$1 = firstNonZero(trackPercentage);\n\n    if (track$1 !== null) {\n      this.percentageToPixels = this.computedPixels[track$1].numeric / trackPercentage[track$1].numeric;\n    }\n  } // get start of gutter track\n\n\n  var gutterStart = this.getSizeAtTrack(this.track, false) + this.start;\n  this.dragStartOffset = this.getMousePosition(e) - gutterStart;\n  this.aTrack = this.track - 1;\n\n  if (this.track < this.tracks.length - 1) {\n    this.bTrack = this.track + 1;\n  } else {\n    throw Error(\"Invalid track index: \" + this.track + \". Track must be between two other tracks and only \" + this.tracks.length + \" tracks were found.\");\n  }\n\n  this.aTrackStart = this.getSizeAtTrack(this.aTrack, false) + this.start;\n  this.bTrackEnd = this.getSizeAtTrack(this.bTrack, true) + this.start; // Set the dragging property of the pair object.\n\n  this.dragging = true; // All the binding. `window` gets the stop events in case we drag out of the elements.\n\n  window.addEventListener('mouseup', this.stopDragging);\n  window.addEventListener('touchend', this.stopDragging);\n  window.addEventListener('touchcancel', this.stopDragging);\n  window.addEventListener('mousemove', this.drag);\n  window.addEventListener('touchmove', this.drag); // Disable selection. Disable!\n\n  this.grid.addEventListener('selectstart', NOOP);\n  this.grid.addEventListener('dragstart', NOOP);\n  this.grid.style.userSelect = 'none';\n  this.grid.style.webkitUserSelect = 'none';\n  this.grid.style.MozUserSelect = 'none';\n  this.grid.style.pointerEvents = 'none'; // Set the cursor at multiple levels\n\n  this.grid.style.cursor = this.cursor;\n  window.document.body.style.cursor = this.cursor;\n  this.onDragStart(this.direction, this.track);\n};\n\nGutter.prototype.stopDragging = function stopDragging() {\n  this.dragging = false; // Remove the stored event listeners. This is why we store them.\n\n  this.cleanup();\n  this.onDragEnd(this.direction, this.track);\n\n  if (this.needsDestroy) {\n    if (this.element) {\n      this.element.removeEventListener('mousedown', this.startDragging);\n      this.element.removeEventListener('touchstart', this.startDragging);\n    }\n\n    this.destroyCb();\n    this.needsDestroy = false;\n    this.destroyCb = null;\n  }\n};\n\nGutter.prototype.drag = function drag(e) {\n  var mousePosition = this.getMousePosition(e);\n  var gutterSize = this.getSizeOfTrack(this.track);\n  var minMousePosition = this.aTrackStart + this.minSizeStart + this.dragStartOffset + this.computedGapPixels;\n  var maxMousePosition = this.bTrackEnd - this.minSizeEnd - this.computedGapPixels - (gutterSize - this.dragStartOffset);\n  var minMousePositionOffset = minMousePosition + this.snapOffset;\n  var maxMousePositionOffset = maxMousePosition - this.snapOffset;\n\n  if (mousePosition < minMousePositionOffset) {\n    mousePosition = minMousePosition;\n  }\n\n  if (mousePosition > maxMousePositionOffset) {\n    mousePosition = maxMousePosition;\n  }\n\n  if (mousePosition < minMousePosition) {\n    mousePosition = minMousePosition;\n  } else if (mousePosition > maxMousePosition) {\n    mousePosition = maxMousePosition;\n  }\n\n  var aTrackSize = mousePosition - this.aTrackStart - this.dragStartOffset - this.computedGapPixels;\n  var bTrackSize = this.bTrackEnd - mousePosition + this.dragStartOffset - gutterSize - this.computedGapPixels;\n\n  if (this.dragInterval > 1) {\n    var aTrackSizeIntervaled = Math.round(aTrackSize / this.dragInterval) * this.dragInterval;\n    bTrackSize -= aTrackSizeIntervaled - aTrackSize;\n    aTrackSize = aTrackSizeIntervaled;\n  }\n\n  if (aTrackSize < this.minSizeStart) {\n    aTrackSize = this.minSizeStart;\n  }\n\n  if (bTrackSize < this.minSizeEnd) {\n    bTrackSize = this.minSizeEnd;\n  }\n\n  if (this.trackValues[this.aTrack].type === 'px') {\n    this.tracks[this.aTrack] = aTrackSize + \"px\";\n  } else if (this.trackValues[this.aTrack].type === 'fr') {\n    if (this.totalFrs === 1) {\n      this.tracks[this.aTrack] = '1fr';\n    } else {\n      var targetFr = aTrackSize / this.frToPixels;\n      this.tracks[this.aTrack] = targetFr + \"fr\";\n    }\n  } else if (this.trackValues[this.aTrack].type === '%') {\n    var targetPercentage = aTrackSize / this.percentageToPixels;\n    this.tracks[this.aTrack] = targetPercentage + \"%\";\n  }\n\n  if (this.trackValues[this.bTrack].type === 'px') {\n    this.tracks[this.bTrack] = bTrackSize + \"px\";\n  } else if (this.trackValues[this.bTrack].type === 'fr') {\n    if (this.totalFrs === 1) {\n      this.tracks[this.bTrack] = '1fr';\n    } else {\n      var targetFr$1 = bTrackSize / this.frToPixels;\n      this.tracks[this.bTrack] = targetFr$1 + \"fr\";\n    }\n  } else if (this.trackValues[this.bTrack].type === '%') {\n    var targetPercentage$1 = bTrackSize / this.percentageToPixels;\n    this.tracks[this.bTrack] = targetPercentage$1 + \"%\";\n  }\n\n  var style = this.tracks.join(' ');\n  this.writeStyle(this.grid, this.gridTemplateProp, style);\n  this.onDrag(this.direction, this.track, style);\n};\n\nGutter.prototype.cleanup = function cleanup() {\n  window.removeEventListener('mouseup', this.stopDragging);\n  window.removeEventListener('touchend', this.stopDragging);\n  window.removeEventListener('touchcancel', this.stopDragging);\n  window.removeEventListener('mousemove', this.drag);\n  window.removeEventListener('touchmove', this.drag);\n\n  if (this.grid) {\n    this.grid.removeEventListener('selectstart', NOOP);\n    this.grid.removeEventListener('dragstart', NOOP);\n    this.grid.style.userSelect = '';\n    this.grid.style.webkitUserSelect = '';\n    this.grid.style.MozUserSelect = '';\n    this.grid.style.pointerEvents = '';\n    this.grid.style.cursor = '';\n  }\n\n  window.document.body.style.cursor = '';\n};\n\nGutter.prototype.destroy = function destroy(immediate, cb) {\n  if (immediate === void 0) immediate = true;\n\n  if (immediate || this.dragging === false) {\n    this.cleanup();\n\n    if (this.element) {\n      this.element.removeEventListener('mousedown', this.startDragging);\n      this.element.removeEventListener('touchstart', this.startDragging);\n    }\n\n    if (cb) {\n      cb();\n    }\n  } else {\n    this.needsDestroy = true;\n\n    if (cb) {\n      this.destroyCb = cb;\n    }\n  }\n};\n\nvar getTrackOption = function (options, track, defaultValue) {\n  if (track in options) {\n    return options[track];\n  }\n\n  return defaultValue;\n};\n\nvar createGutter = function (direction, options) {\n  return function (gutterOptions) {\n    if (gutterOptions.track < 1) {\n      throw Error(\"Invalid track index: \" + gutterOptions.track + \". Track must be between two other tracks.\");\n    }\n\n    var trackMinSizes = direction === 'column' ? options.columnMinSizes || {} : options.rowMinSizes || {};\n    var trackMinSize = direction === 'column' ? 'columnMinSize' : 'rowMinSize';\n    return new Gutter(direction, Object.assign({}, {\n      minSizeStart: getTrackOption(trackMinSizes, gutterOptions.track - 1, getOption(options, trackMinSize, getOption(options, 'minSize', 0))),\n      minSizeEnd: getTrackOption(trackMinSizes, gutterOptions.track + 1, getOption(options, trackMinSize, getOption(options, 'minSize', 0)))\n    }, gutterOptions), options);\n  };\n};\n\nvar Grid = function Grid(options) {\n  var this$1 = this;\n  this.columnGutters = {};\n  this.rowGutters = {};\n  this.options = Object.assign({}, {\n    columnGutters: options.columnGutters || [],\n    rowGutters: options.rowGutters || [],\n    columnMinSizes: options.columnMinSizes || {},\n    rowMinSizes: options.rowMinSizes || {}\n  }, options);\n  this.options.columnGutters.forEach(function (gutterOptions) {\n    this$1.columnGutters[gutterOptions.track] = createGutter('column', this$1.options)(gutterOptions);\n  });\n  this.options.rowGutters.forEach(function (gutterOptions) {\n    this$1.rowGutters[gutterOptions.track] = createGutter('row', this$1.options)(gutterOptions);\n  });\n};\n\nGrid.prototype.addColumnGutter = function addColumnGutter(element, track) {\n  if (this.columnGutters[track]) {\n    this.columnGutters[track].destroy();\n  }\n\n  this.columnGutters[track] = createGutter('column', this.options)({\n    element: element,\n    track: track\n  });\n};\n\nGrid.prototype.addRowGutter = function addRowGutter(element, track) {\n  if (this.rowGutters[track]) {\n    this.rowGutters[track].destroy();\n  }\n\n  this.rowGutters[track] = createGutter('row', this.options)({\n    element: element,\n    track: track\n  });\n};\n\nGrid.prototype.removeColumnGutter = function removeColumnGutter(track, immediate) {\n  var this$1 = this;\n  if (immediate === void 0) immediate = true;\n\n  if (this.columnGutters[track]) {\n    this.columnGutters[track].destroy(immediate, function () {\n      delete this$1.columnGutters[track];\n    });\n  }\n};\n\nGrid.prototype.removeRowGutter = function removeRowGutter(track, immediate) {\n  var this$1 = this;\n  if (immediate === void 0) immediate = true;\n\n  if (this.rowGutters[track]) {\n    this.rowGutters[track].destroy(immediate, function () {\n      delete this$1.rowGutters[track];\n    });\n  }\n};\n\nGrid.prototype.handleDragStart = function handleDragStart(e, direction, track) {\n  if (direction === 'column') {\n    if (this.columnGutters[track]) {\n      this.columnGutters[track].destroy();\n    }\n\n    this.columnGutters[track] = createGutter('column', this.options)({\n      track: track\n    });\n    this.columnGutters[track].startDragging(e);\n  } else if (direction === 'row') {\n    if (this.rowGutters[track]) {\n      this.rowGutters[track].destroy();\n    }\n\n    this.rowGutters[track] = createGutter('row', this.options)({\n      track: track\n    });\n    this.rowGutters[track].startDragging(e);\n  }\n};\n\nGrid.prototype.destroy = function destroy(immediate) {\n  var this$1 = this;\n  if (immediate === void 0) immediate = true;\n  Object.keys(this.columnGutters).forEach(function (track) {\n    return this$1.columnGutters[track].destroy(immediate, function () {\n      delete this$1.columnGutters[track];\n    });\n  });\n  Object.keys(this.rowGutters).forEach(function (track) {\n    return this$1.rowGutters[track].destroy(immediate, function () {\n      delete this$1.rowGutters[track];\n    });\n  });\n};\n\nfunction index(options) {\n  return new Grid(options);\n}\n\nexport default index;","map":{"version":3,"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/node_modules/split-grid/dist/split-grid.mjs"],"names":["numeric","value","unit","Number","slice","length","parseValue","endsWith","type","parse","rule","split","map","getSizeAtTrack","index","tracks","gap","end","newIndex","trackSum","reduce","accum","gapSum","getStyles","ownRules","matchedRules","concat","r","style","filter","undefined","getGapValue","size","firstNonZero","i","NOOP","defaultWriteStyle","element","gridTemplateProp","getOption","options","propName","def","getMatchedCSSRules","el","ref","apply","Array","from","ownerDocument","styleSheets","s","rules","cssRules","e","matches","selectorText","gridTemplatePropColumns","gridTemplatePropRows","Gutter","direction","parentOptions","track","gridGapProp","cursor","snapOffset","dragInterval","clientAxis","optionStyle","onDragStart","onDragEnd","onDrag","writeStyle","startDragging","bind","stopDragging","drag","minSizeStart","minSizeEnd","addEventListener","prototype","getDimensions","grid","getBoundingClientRect","width","height","top","bottom","left","right","start","getSizeAtTrack$1","computedPixels","computedGapPixels","getSizeOfTrack","getRawTracks","Error","getGap","getRawComputedTracks","window","getComputedStyle","getRawComputedGap","setTracks","raw","trackValues","setComputedTracks","computedTracks","setGap","setComputedGap","computedGap","getMousePosition","touches","button","preventDefault","parentNode","target","trackPercentage","trackFr","totalFrs","frToPixels","track$1","percentageToPixels","gutterStart","dragStartOffset","aTrack","bTrack","aTrackStart","bTrackEnd","dragging","userSelect","webkitUserSelect","MozUserSelect","pointerEvents","document","body","cleanup","needsDestroy","removeEventListener","destroyCb","mousePosition","gutterSize","minMousePosition","maxMousePosition","minMousePositionOffset","maxMousePositionOffset","aTrackSize","bTrackSize","aTrackSizeIntervaled","Math","round","targetFr","targetPercentage","targetFr$1","targetPercentage$1","join","destroy","immediate","cb","getTrackOption","defaultValue","createGutter","gutterOptions","trackMinSizes","columnMinSizes","rowMinSizes","trackMinSize","Object","assign","Grid","this$1","columnGutters","rowGutters","forEach","addColumnGutter","addRowGutter","removeColumnGutter","removeRowGutter","handleDragStart","keys"],"mappings":"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","sourcesContent":["var numeric = function (value, unit) { return Number(value.slice(0, -1 * unit.length)); };\n\nvar parseValue = function (value) {\n    if (value.endsWith('px'))\n        { return { value: value, type: 'px', numeric: numeric(value, 'px') } }\n    if (value.endsWith('fr'))\n        { return { value: value, type: 'fr', numeric: numeric(value, 'fr') } }\n    if (value.endsWith('%'))\n        { return { value: value, type: '%', numeric: numeric(value, '%') } }\n    if (value === 'auto') { return { value: value, type: 'auto' } }\n    return null\n};\n\nvar parse = function (rule) { return rule.split(' ').map(parseValue); };\n\nvar getSizeAtTrack = function (index, tracks, gap, end) {\n    if ( gap === void 0 ) { gap = 0; }\n    if ( end === void 0 ) { end = false; }\n\n    var newIndex = end ? index + 1 : index;\n    var trackSum = tracks\n        .slice(0, newIndex)\n        .reduce(function (accum, value) { return accum + value.numeric; }, 0);\n    var gapSum = gap ? index * gap : 0;\n\n    return trackSum + gapSum\n};\n\nvar getStyles = function (rule, ownRules, matchedRules) { return ownRules.concat( matchedRules)\n        .map(function (r) { return r.style[rule]; })\n        .filter(function (style) { return style !== undefined && style !== ''; }); };\n\nvar getGapValue = function (unit, size) {\n    if (size.endsWith(unit)) {\n        return Number(size.slice(0, -1 * unit.length))\n    }\n    return null\n};\n\nvar firstNonZero = function (tracks) {\n    // eslint-disable-next-line no-plusplus\n    for (var i = 0; i < tracks.length; i++) {\n        if (tracks[i].numeric > 0) {\n            return i\n        }\n    }\n    return null\n};\n\nvar NOOP = function () { return false; };\n\nvar defaultWriteStyle = function (element, gridTemplateProp, style) {\n    // eslint-disable-next-line no-param-reassign\n    element.style[gridTemplateProp] = style;\n};\n\nvar getOption = function (options, propName, def) {\n    var value = options[propName];\n    if (value !== undefined) {\n        return value\n    }\n    return def\n};\n\nfunction getMatchedCSSRules (el) {\n        var ref;\n\n        return (ref = [])\n        .concat.apply(\n            ref, Array.from(el.ownerDocument.styleSheets).map(function (s) {\n                var rules = [];\n\n                try {\n                    rules = Array.from(s.cssRules || []);\n                } catch (e) {\n                    // Ignore results on security error\n                }\n\n                return rules\n            })\n        )\n        .filter(function (r) {\n            var matches = false;\n            try {\n                matches = el.matches(r.selectorText);\n            } catch (e) {\n                // Ignore matching erros\n            }\n\n            return matches\n        });\n}\n\nvar gridTemplatePropColumns = 'grid-template-columns';\nvar gridTemplatePropRows = 'grid-template-rows';\n\nvar Gutter = function Gutter(direction, options, parentOptions) {\n    this.direction = direction;\n    this.element = options.element;\n    this.track = options.track;\n\n    if (direction === 'column') {\n        this.gridTemplateProp = gridTemplatePropColumns;\n        this.gridGapProp = 'grid-column-gap';\n        this.cursor = getOption(\n            parentOptions,\n            'columnCursor',\n            getOption(parentOptions, 'cursor', 'col-resize')\n        );\n        this.snapOffset = getOption(\n            parentOptions,\n            'columnSnapOffset',\n            getOption(parentOptions, 'snapOffset', 30)\n        );\n        this.dragInterval = getOption(\n            parentOptions,\n            'columnDragInterval',\n            getOption(parentOptions, 'dragInterval', 1)\n        );\n        this.clientAxis = 'clientX';\n        this.optionStyle = getOption(parentOptions, 'gridTemplateColumns');\n    } else if (direction === 'row') {\n        this.gridTemplateProp = gridTemplatePropRows;\n        this.gridGapProp = 'grid-row-gap';\n        this.cursor = getOption(\n            parentOptions,\n            'rowCursor',\n            getOption(parentOptions, 'cursor', 'row-resize')\n        );\n        this.snapOffset = getOption(\n            parentOptions,\n            'rowSnapOffset',\n            getOption(parentOptions, 'snapOffset', 30)\n        );\n        this.dragInterval = getOption(\n            parentOptions,\n            'rowDragInterval',\n            getOption(parentOptions, 'dragInterval', 1)\n        );\n        this.clientAxis = 'clientY';\n        this.optionStyle = getOption(parentOptions, 'gridTemplateRows');\n    }\n\n    this.onDragStart = getOption(parentOptions, 'onDragStart', NOOP);\n    this.onDragEnd = getOption(parentOptions, 'onDragEnd', NOOP);\n    this.onDrag = getOption(parentOptions, 'onDrag', NOOP);\n    this.writeStyle = getOption(\n        parentOptions,\n        'writeStyle',\n        defaultWriteStyle\n    );\n\n    this.startDragging = this.startDragging.bind(this);\n    this.stopDragging = this.stopDragging.bind(this);\n    this.drag = this.drag.bind(this);\n\n    this.minSizeStart = options.minSizeStart;\n    this.minSizeEnd = options.minSizeEnd;\n\n    if (options.element) {\n        this.element.addEventListener('mousedown', this.startDragging);\n        this.element.addEventListener('touchstart', this.startDragging);\n    }\n};\n\nGutter.prototype.getDimensions = function getDimensions () {\n    var ref = this.grid.getBoundingClientRect();\n        var width = ref.width;\n        var height = ref.height;\n        var top = ref.top;\n        var bottom = ref.bottom;\n        var left = ref.left;\n        var right = ref.right;\n\n    if (this.direction === 'column') {\n        this.start = top;\n        this.end = bottom;\n        this.size = height;\n    } else if (this.direction === 'row') {\n        this.start = left;\n        this.end = right;\n        this.size = width;\n    }\n};\n\nGutter.prototype.getSizeAtTrack = function getSizeAtTrack$1 (track, end) {\n    return getSizeAtTrack(\n        track,\n        this.computedPixels,\n        this.computedGapPixels,\n        end\n    )\n};\n\nGutter.prototype.getSizeOfTrack = function getSizeOfTrack (track) {\n    return this.computedPixels[track].numeric\n};\n\nGutter.prototype.getRawTracks = function getRawTracks () {\n    var tracks = getStyles(\n        this.gridTemplateProp,\n        [this.grid],\n        getMatchedCSSRules(this.grid)\n    );\n    if (!tracks.length) {\n        if (this.optionStyle) { return this.optionStyle }\n\n        throw Error('Unable to determine grid template tracks from styles.')\n    }\n    return tracks[0]\n};\n\nGutter.prototype.getGap = function getGap () {\n    var gap = getStyles(\n        this.gridGapProp,\n        [this.grid],\n        getMatchedCSSRules(this.grid)\n    );\n    if (!gap.length) {\n        return null\n    }\n    return gap[0]\n};\n\nGutter.prototype.getRawComputedTracks = function getRawComputedTracks () {\n    return window.getComputedStyle(this.grid)[this.gridTemplateProp]\n};\n\nGutter.prototype.getRawComputedGap = function getRawComputedGap () {\n    return window.getComputedStyle(this.grid)[this.gridGapProp]\n};\n\nGutter.prototype.setTracks = function setTracks (raw) {\n    this.tracks = raw.split(' ');\n    this.trackValues = parse(raw);\n};\n\nGutter.prototype.setComputedTracks = function setComputedTracks (raw) {\n    this.computedTracks = raw.split(' ');\n    this.computedPixels = parse(raw);\n};\n\nGutter.prototype.setGap = function setGap (raw) {\n    this.gap = raw;\n};\n\nGutter.prototype.setComputedGap = function setComputedGap (raw) {\n    this.computedGap = raw;\n    this.computedGapPixels = getGapValue('px', this.computedGap) || 0;\n};\n\nGutter.prototype.getMousePosition = function getMousePosition (e) {\n    if ('touches' in e) { return e.touches[0][this.clientAxis] }\n    return e[this.clientAxis]\n};\n\nGutter.prototype.startDragging = function startDragging (e) {\n    if ('button' in e && e.button !== 0) {\n        return\n    }\n\n    // Don't actually drag the element. We emulate that in the drag function.\n    e.preventDefault();\n\n    if (this.element) {\n        this.grid = this.element.parentNode;\n    } else {\n        this.grid = e.target.parentNode;\n    }\n\n    this.getDimensions();\n    this.setTracks(this.getRawTracks());\n    this.setComputedTracks(this.getRawComputedTracks());\n    this.setGap(this.getGap());\n    this.setComputedGap(this.getRawComputedGap());\n\n    var trackPercentage = this.trackValues.filter(\n        function (track) { return track.type === '%'; }\n    );\n    var trackFr = this.trackValues.filter(function (track) { return track.type === 'fr'; });\n\n    this.totalFrs = trackFr.length;\n\n    if (this.totalFrs) {\n        var track = firstNonZero(trackFr);\n\n        if (track !== null) {\n            this.frToPixels =\n                this.computedPixels[track].numeric / trackFr[track].numeric;\n        }\n    }\n\n    if (trackPercentage.length) {\n        var track$1 = firstNonZero(trackPercentage);\n\n        if (track$1 !== null) {\n            this.percentageToPixels =\n                this.computedPixels[track$1].numeric /\n                trackPercentage[track$1].numeric;\n        }\n    }\n\n    // get start of gutter track\n    var gutterStart = this.getSizeAtTrack(this.track, false) + this.start;\n    this.dragStartOffset = this.getMousePosition(e) - gutterStart;\n\n    this.aTrack = this.track - 1;\n\n    if (this.track < this.tracks.length - 1) {\n        this.bTrack = this.track + 1;\n    } else {\n        throw Error(\n            (\"Invalid track index: \" + (this.track) + \". Track must be between two other tracks and only \" + (this.tracks.length) + \" tracks were found.\")\n        )\n    }\n\n    this.aTrackStart = this.getSizeAtTrack(this.aTrack, false) + this.start;\n    this.bTrackEnd = this.getSizeAtTrack(this.bTrack, true) + this.start;\n\n    // Set the dragging property of the pair object.\n    this.dragging = true;\n\n    // All the binding. `window` gets the stop events in case we drag out of the elements.\n    window.addEventListener('mouseup', this.stopDragging);\n    window.addEventListener('touchend', this.stopDragging);\n    window.addEventListener('touchcancel', this.stopDragging);\n    window.addEventListener('mousemove', this.drag);\n    window.addEventListener('touchmove', this.drag);\n\n    // Disable selection. Disable!\n    this.grid.addEventListener('selectstart', NOOP);\n    this.grid.addEventListener('dragstart', NOOP);\n\n    this.grid.style.userSelect = 'none';\n    this.grid.style.webkitUserSelect = 'none';\n    this.grid.style.MozUserSelect = 'none';\n    this.grid.style.pointerEvents = 'none';\n\n    // Set the cursor at multiple levels\n    this.grid.style.cursor = this.cursor;\n    window.document.body.style.cursor = this.cursor;\n\n    this.onDragStart(this.direction, this.track);\n};\n\nGutter.prototype.stopDragging = function stopDragging () {\n    this.dragging = false;\n\n    // Remove the stored event listeners. This is why we store them.\n    this.cleanup();\n\n    this.onDragEnd(this.direction, this.track);\n\n    if (this.needsDestroy) {\n        if (this.element) {\n            this.element.removeEventListener(\n                'mousedown',\n                this.startDragging\n            );\n            this.element.removeEventListener(\n                'touchstart',\n                this.startDragging\n            );\n        }\n        this.destroyCb();\n        this.needsDestroy = false;\n        this.destroyCb = null;\n    }\n};\n\nGutter.prototype.drag = function drag (e) {\n    var mousePosition = this.getMousePosition(e);\n\n    var gutterSize = this.getSizeOfTrack(this.track);\n    var minMousePosition =\n        this.aTrackStart +\n        this.minSizeStart +\n        this.dragStartOffset +\n        this.computedGapPixels;\n    var maxMousePosition =\n        this.bTrackEnd -\n        this.minSizeEnd -\n        this.computedGapPixels -\n        (gutterSize - this.dragStartOffset);\n    var minMousePositionOffset = minMousePosition + this.snapOffset;\n    var maxMousePositionOffset = maxMousePosition - this.snapOffset;\n\n    if (mousePosition < minMousePositionOffset) {\n        mousePosition = minMousePosition;\n    }\n\n    if (mousePosition > maxMousePositionOffset) {\n        mousePosition = maxMousePosition;\n    }\n\n    if (mousePosition < minMousePosition) {\n        mousePosition = minMousePosition;\n    } else if (mousePosition > maxMousePosition) {\n        mousePosition = maxMousePosition;\n    }\n\n    var aTrackSize =\n        mousePosition -\n        this.aTrackStart -\n        this.dragStartOffset -\n        this.computedGapPixels;\n    var bTrackSize =\n        this.bTrackEnd -\n        mousePosition +\n        this.dragStartOffset -\n        gutterSize -\n        this.computedGapPixels;\n\n    if (this.dragInterval > 1) {\n        var aTrackSizeIntervaled =\n            Math.round(aTrackSize / this.dragInterval) * this.dragInterval;\n        bTrackSize -= aTrackSizeIntervaled - aTrackSize;\n        aTrackSize = aTrackSizeIntervaled;\n    }\n\n    if (aTrackSize < this.minSizeStart) {\n        aTrackSize = this.minSizeStart;\n    }\n\n    if (bTrackSize < this.minSizeEnd) {\n        bTrackSize = this.minSizeEnd;\n    }\n\n    if (this.trackValues[this.aTrack].type === 'px') {\n        this.tracks[this.aTrack] = aTrackSize + \"px\";\n    } else if (this.trackValues[this.aTrack].type === 'fr') {\n        if (this.totalFrs === 1) {\n            this.tracks[this.aTrack] = '1fr';\n        } else {\n            var targetFr = aTrackSize / this.frToPixels;\n            this.tracks[this.aTrack] = targetFr + \"fr\";\n        }\n    } else if (this.trackValues[this.aTrack].type === '%') {\n        var targetPercentage = aTrackSize / this.percentageToPixels;\n        this.tracks[this.aTrack] = targetPercentage + \"%\";\n    }\n\n    if (this.trackValues[this.bTrack].type === 'px') {\n        this.tracks[this.bTrack] = bTrackSize + \"px\";\n    } else if (this.trackValues[this.bTrack].type === 'fr') {\n        if (this.totalFrs === 1) {\n            this.tracks[this.bTrack] = '1fr';\n        } else {\n            var targetFr$1 = bTrackSize / this.frToPixels;\n            this.tracks[this.bTrack] = targetFr$1 + \"fr\";\n        }\n    } else if (this.trackValues[this.bTrack].type === '%') {\n        var targetPercentage$1 = bTrackSize / this.percentageToPixels;\n        this.tracks[this.bTrack] = targetPercentage$1 + \"%\";\n    }\n\n    var style = this.tracks.join(' ');\n    this.writeStyle(this.grid, this.gridTemplateProp, style);\n    this.onDrag(this.direction, this.track, style);\n};\n\nGutter.prototype.cleanup = function cleanup () {\n    window.removeEventListener('mouseup', this.stopDragging);\n    window.removeEventListener('touchend', this.stopDragging);\n    window.removeEventListener('touchcancel', this.stopDragging);\n    window.removeEventListener('mousemove', this.drag);\n    window.removeEventListener('touchmove', this.drag);\n\n    if (this.grid) {\n        this.grid.removeEventListener('selectstart', NOOP);\n        this.grid.removeEventListener('dragstart', NOOP);\n\n        this.grid.style.userSelect = '';\n        this.grid.style.webkitUserSelect = '';\n        this.grid.style.MozUserSelect = '';\n        this.grid.style.pointerEvents = '';\n\n        this.grid.style.cursor = '';\n    }\n\n    window.document.body.style.cursor = '';\n};\n\nGutter.prototype.destroy = function destroy (immediate, cb) {\n        if ( immediate === void 0 ) immediate = true;\n\n    if (immediate || this.dragging === false) {\n        this.cleanup();\n        if (this.element) {\n            this.element.removeEventListener(\n                'mousedown',\n                this.startDragging\n            );\n            this.element.removeEventListener(\n                'touchstart',\n                this.startDragging\n            );\n        }\n\n        if (cb) {\n            cb();\n        }\n    } else {\n        this.needsDestroy = true;\n        if (cb) {\n            this.destroyCb = cb;\n        }\n    }\n};\n\nvar getTrackOption = function (options, track, defaultValue) {\n    if (track in options) {\n        return options[track]\n    }\n\n    return defaultValue\n};\n\nvar createGutter = function (direction, options) { return function (gutterOptions) {\n    if (gutterOptions.track < 1) {\n        throw Error(\n            (\"Invalid track index: \" + (gutterOptions.track) + \". Track must be between two other tracks.\")\n        )\n    }\n\n    var trackMinSizes =\n        direction === 'column'\n            ? options.columnMinSizes || {}\n            : options.rowMinSizes || {};\n    var trackMinSize = direction === 'column' ? 'columnMinSize' : 'rowMinSize';\n\n    return new Gutter(\n        direction,\n        Object.assign({}, {minSizeStart: getTrackOption(\n                trackMinSizes,\n                gutterOptions.track - 1,\n                getOption(\n                    options,\n                    trackMinSize,\n                    getOption(options, 'minSize', 0)\n                )\n            ),\n            minSizeEnd: getTrackOption(\n                trackMinSizes,\n                gutterOptions.track + 1,\n                getOption(\n                    options,\n                    trackMinSize,\n                    getOption(options, 'minSize', 0)\n                )\n            )},\n            gutterOptions),\n        options\n    )\n}; };\n\nvar Grid = function Grid(options) {\n    var this$1 = this;\n\n    this.columnGutters = {};\n    this.rowGutters = {};\n\n    this.options = Object.assign({}, {columnGutters: options.columnGutters || [],\n        rowGutters: options.rowGutters || [],\n        columnMinSizes: options.columnMinSizes || {},\n        rowMinSizes: options.rowMinSizes || {}},\n        options);\n\n    this.options.columnGutters.forEach(function (gutterOptions) {\n        this$1.columnGutters[gutterOptions.track] = createGutter(\n            'column',\n            this$1.options\n        )(gutterOptions);\n    });\n\n    this.options.rowGutters.forEach(function (gutterOptions) {\n        this$1.rowGutters[gutterOptions.track] = createGutter(\n            'row',\n            this$1.options\n        )(gutterOptions);\n    });\n};\n\nGrid.prototype.addColumnGutter = function addColumnGutter (element, track) {\n    if (this.columnGutters[track]) {\n        this.columnGutters[track].destroy();\n    }\n\n    this.columnGutters[track] = createGutter(\n        'column',\n        this.options\n    )({\n        element: element,\n        track: track,\n    });\n};\n\nGrid.prototype.addRowGutter = function addRowGutter (element, track) {\n    if (this.rowGutters[track]) {\n        this.rowGutters[track].destroy();\n    }\n\n    this.rowGutters[track] = createGutter(\n        'row',\n        this.options\n    )({\n        element: element,\n        track: track,\n    });\n};\n\nGrid.prototype.removeColumnGutter = function removeColumnGutter (track, immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    if (this.columnGutters[track]) {\n        this.columnGutters[track].destroy(immediate, function () {\n            delete this$1.columnGutters[track];\n        });\n    }\n};\n\nGrid.prototype.removeRowGutter = function removeRowGutter (track, immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    if (this.rowGutters[track]) {\n        this.rowGutters[track].destroy(immediate, function () {\n            delete this$1.rowGutters[track];\n        });\n    }\n};\n\nGrid.prototype.handleDragStart = function handleDragStart (e, direction, track) {\n    if (direction === 'column') {\n        if (this.columnGutters[track]) {\n            this.columnGutters[track].destroy();\n        }\n\n        this.columnGutters[track] = createGutter(\n            'column',\n            this.options\n        )({\n            track: track,\n        });\n        this.columnGutters[track].startDragging(e);\n    } else if (direction === 'row') {\n        if (this.rowGutters[track]) {\n            this.rowGutters[track].destroy();\n        }\n\n        this.rowGutters[track] = createGutter(\n            'row',\n            this.options\n        )({\n            track: track,\n        });\n        this.rowGutters[track].startDragging(e);\n    }\n};\n\nGrid.prototype.destroy = function destroy (immediate) {\n        var this$1 = this;\n        if ( immediate === void 0 ) immediate = true;\n\n    Object.keys(this.columnGutters).forEach(function (track) { return this$1.columnGutters[track].destroy(immediate, function () {\n            delete this$1.columnGutters[track];\n        }); }\n    );\n    Object.keys(this.rowGutters).forEach(function (track) { return this$1.rowGutters[track].destroy(immediate, function () {\n            delete this$1.rowGutters[track];\n        }); }\n    );\n};\n\nfunction index (options) { return new Grid(options); }\n\nexport default index;\n"]},"metadata":{},"sourceType":"module"}