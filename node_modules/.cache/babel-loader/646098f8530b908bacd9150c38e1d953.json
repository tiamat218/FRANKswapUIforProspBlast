{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devrim\\\\Documents\\\\FRANKswapUIforProspBlast\\\\src\\\\views\\\\Farms\\\\components\\\\FarmCard\\\\HarvestAction.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport BigNumber from 'bignumber.js';\nimport { Button, Flex, Heading } from '@pancakeswap/uikit';\nimport { useTranslation } from 'contexts/Localization';\nimport { useAppDispatch } from 'state';\nimport { fetchFarmUserDataAsync } from 'state/farms';\nimport useToast from 'hooks/useToast';\nimport { getBalanceAmount } from 'utils/formatBalance';\nimport { BIG_ZERO } from 'utils/bigNumber';\nimport { useWeb3React } from '@web3-react/core';\nimport { usePriceCakeBusd } from 'state/farms/hooks';\nimport Balance from 'components/Balance';\nimport useHarvestFarm from '../../hooks/useHarvestFarm';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HarvestAction = ({\n  earnings,\n  pid\n}) => {\n  _s();\n\n  const {\n    account\n  } = useWeb3React();\n  const {\n    toastSuccess,\n    toastError\n  } = useToast();\n  const {\n    t\n  } = useTranslation();\n  const [pendingTx, setPendingTx] = useState(false);\n  const {\n    onReward\n  } = useHarvestFarm(pid);\n  const cakePrice = usePriceCakeBusd();\n  const dispatch = useAppDispatch();\n  const rawEarningsBalance = account ? getBalanceAmount(earnings) : BIG_ZERO;\n  const displayBalance = rawEarningsBalance.toFixed(3, BigNumber.ROUND_DOWN);\n  const earningsBusd = rawEarningsBalance ? rawEarningsBalance.multipliedBy(cakePrice).toNumber() : 0;\n  return /*#__PURE__*/_jsxDEV(Flex, {\n    mb: \"8px\",\n    justifyContent: \"space-between\",\n    alignItems: \"center\",\n    children: [/*#__PURE__*/_jsxDEV(Flex, {\n      flexDirection: \"column\",\n      alignItems: \"flex-start\",\n      children: [/*#__PURE__*/_jsxDEV(Heading, {\n        color: rawEarningsBalance.eq(0) ? 'textDisabled' : 'text',\n        children: displayBalance\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 35,\n        columnNumber: 9\n      }, this), earningsBusd > 0 && /*#__PURE__*/_jsxDEV(Balance, {\n        fontSize: \"12px\",\n        color: \"textSubtle\",\n        decimals: 2,\n        value: earningsBusd,\n        unit: \" USD\",\n        prefix: \"~\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 37,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      disabled: rawEarningsBalance.eq(0) || pendingTx,\n      onClick: async () => {\n        setPendingTx(true);\n\n        try {\n          await onReward();\n          toastSuccess(`${t('Harvested')}!`, t('Your %symbol% earnings have been sent to your wallet!', {\n            symbol: 'CAKE'\n          }));\n        } catch (e) {\n          toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'));\n          console.error(e);\n        } finally {\n          setPendingTx(false);\n        }\n\n        dispatch(fetchFarmUserDataAsync({\n          account,\n          pids: [pid]\n        }));\n      },\n      children: t('Harvest')\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 40,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 33,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HarvestAction, \"aZ3F33wlxMiEzk6f6IwMl+DlLrE=\", false, function () {\n  return [useWeb3React, useToast, useTranslation, useHarvestFarm, usePriceCakeBusd, useAppDispatch];\n});\n\n_c = HarvestAction;\nexport default HarvestAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestAction\");","map":{"version":3,"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Farms/components/FarmCard/HarvestAction.tsx"],"names":["React","useState","BigNumber","Button","Flex","Heading","useTranslation","useAppDispatch","fetchFarmUserDataAsync","useToast","getBalanceAmount","BIG_ZERO","useWeb3React","usePriceCakeBusd","Balance","useHarvestFarm","HarvestAction","earnings","pid","account","toastSuccess","toastError","t","pendingTx","setPendingTx","onReward","cakePrice","dispatch","rawEarningsBalance","displayBalance","toFixed","ROUND_DOWN","earningsBusd","multipliedBy","toNumber","eq","symbol","e","console","error","pids"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport BigNumber from 'bignumber.js'\r\nimport { Button, Flex, Heading } from '@pancakeswap/uikit'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport { useAppDispatch } from 'state'\r\nimport { fetchFarmUserDataAsync } from 'state/farms'\r\nimport useToast from 'hooks/useToast'\r\nimport { getBalanceAmount } from 'utils/formatBalance'\r\nimport { BIG_ZERO } from 'utils/bigNumber'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { usePriceCakeBusd } from 'state/farms/hooks'\r\nimport Balance from 'components/Balance'\r\nimport useHarvestFarm from '../../hooks/useHarvestFarm'\r\n\r\ninterface FarmCardActionsProps {\r\n  earnings?: BigNumber\r\n  pid?: number\r\n}\r\n\r\nconst HarvestAction: React.FC<FarmCardActionsProps> = ({ earnings, pid }) => {\r\n  const { account } = useWeb3React()\r\n  const { toastSuccess, toastError } = useToast()\r\n  const { t } = useTranslation()\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const { onReward } = useHarvestFarm(pid)\r\n  const cakePrice = usePriceCakeBusd()\r\n  const dispatch = useAppDispatch()\r\n  const rawEarningsBalance = account ? getBalanceAmount(earnings) : BIG_ZERO\r\n  const displayBalance = rawEarningsBalance.toFixed(3, BigNumber.ROUND_DOWN)\r\n  const earningsBusd = rawEarningsBalance ? rawEarningsBalance.multipliedBy(cakePrice).toNumber() : 0\r\n\r\n  return (\r\n    <Flex mb=\"8px\" justifyContent=\"space-between\" alignItems=\"center\">\r\n      <Flex flexDirection=\"column\" alignItems=\"flex-start\">\r\n        <Heading color={rawEarningsBalance.eq(0) ? 'textDisabled' : 'text'}>{displayBalance}</Heading>\r\n        {earningsBusd > 0 && (\r\n          <Balance fontSize=\"12px\" color=\"textSubtle\" decimals={2} value={earningsBusd} unit=\" USD\" prefix=\"~\" />\r\n        )}\r\n      </Flex>\r\n      <Button\r\n        disabled={rawEarningsBalance.eq(0) || pendingTx}\r\n        onClick={async () => {\r\n          setPendingTx(true)\r\n          try {\r\n            await onReward()\r\n            toastSuccess(\r\n              `${t('Harvested')}!`,\r\n              t('Your %symbol% earnings have been sent to your wallet!', { symbol: 'CAKE' }),\r\n            )\r\n          } catch (e) {\r\n            toastError(\r\n              t('Error'),\r\n              t('Please try again. Confirm the transaction and make sure you are paying enough gas!'),\r\n            )\r\n            console.error(e)\r\n          } finally {\r\n            setPendingTx(false)\r\n          }\r\n          dispatch(fetchFarmUserDataAsync({ account, pids: [pid] }))\r\n        }}\r\n      >\r\n        {t('Harvest')}\r\n      </Button>\r\n    </Flex>\r\n  )\r\n}\r\n\r\nexport default HarvestAction\r\n"]},"metadata":{},"sourceType":"module"}