{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Devrim\\\\Documents\\\\FRANKswapUIforProspBlast\\\\src\\\\views\\\\Farms\\\\components\\\\FarmTable\\\\Actions\\\\HarvestAction.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { Button, Skeleton, Text } from '@pancakeswap/uikit';\nimport BigNumber from 'bignumber.js';\nimport { useWeb3React } from '@web3-react/core';\nimport Balance from 'components/Balance';\nimport { BIG_ZERO } from 'utils/bigNumber';\nimport { getBalanceAmount } from 'utils/formatBalance';\nimport { useAppDispatch } from 'state';\nimport { fetchFarmUserDataAsync } from 'state/farms';\nimport { usePriceCakeBusd } from 'state/farms/hooks';\nimport useToast from 'hooks/useToast';\nimport { useTranslation } from 'contexts/Localization';\nimport useHarvestFarm from '../../../hooks/useHarvestFarm';\nimport { ActionContainer, ActionTitles, ActionContent, Earned } from './styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst HarvestAction = ({\n  pid,\n  userData,\n  userDataReady\n}) => {\n  _s();\n\n  const {\n    toastSuccess,\n    toastError\n  } = useToast();\n  const earningsBigNumber = new BigNumber(userData.earnings);\n  const cakePrice = usePriceCakeBusd();\n  let earnings = BIG_ZERO;\n  let earningsBusd = 0;\n  let displayBalance = userDataReady ? earnings.toLocaleString() : /*#__PURE__*/_jsxDEV(Skeleton, {\n    width: 60\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 28,\n    columnNumber: 68\n  }, this); // If user didn't connect wallet default balance will be 0\n\n  if (!earningsBigNumber.isZero()) {\n    earnings = getBalanceAmount(earningsBigNumber);\n    earningsBusd = earnings.multipliedBy(cakePrice).toNumber();\n    displayBalance = earnings.toFixed(3, BigNumber.ROUND_DOWN);\n  }\n\n  const [pendingTx, setPendingTx] = useState(false);\n  const {\n    onReward\n  } = useHarvestFarm(pid);\n  const {\n    t\n  } = useTranslation();\n  const dispatch = useAppDispatch();\n  const {\n    account\n  } = useWeb3React();\n  return /*#__PURE__*/_jsxDEV(ActionContainer, {\n    children: [/*#__PURE__*/_jsxDEV(ActionTitles, {\n      children: [/*#__PURE__*/_jsxDEV(Text, {\n        bold: true,\n        textTransform: \"uppercase\",\n        color: \"secondary\",\n        fontSize: \"12px\",\n        pr: \"4px\",\n        children: \"CAKE\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Text, {\n        bold: true,\n        textTransform: \"uppercase\",\n        color: \"textSubtle\",\n        fontSize: \"12px\",\n        children: t('Earned')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 49,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ActionContent, {\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(Earned, {\n          children: displayBalance\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), earningsBusd > 0 && /*#__PURE__*/_jsxDEV(Balance, {\n          fontSize: \"12px\",\n          color: \"textSubtle\",\n          decimals: 2,\n          value: earningsBusd,\n          unit: \" USD\",\n          prefix: \"~\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Button, {\n        disabled: earnings.eq(0) || pendingTx || !userDataReady,\n        onClick: async () => {\n          setPendingTx(true);\n\n          try {\n            await onReward();\n            toastSuccess(`${t('Harvested')}!`, t('Your %symbol% earnings have been sent to your wallet!', {\n              symbol: 'CAKE'\n            }));\n          } catch (e) {\n            toastError(t('Error'), t('Please try again. Confirm the transaction and make sure you are paying enough gas!'));\n            console.error(e);\n          } finally {\n            setPendingTx(false);\n          }\n\n          dispatch(fetchFarmUserDataAsync({\n            account,\n            pids: [pid]\n          }));\n        },\n        ml: \"4px\",\n        children: t('Harvest')\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 5\n  }, this);\n};\n\n_s(HarvestAction, \"bgUDCgJmDQinqw0QN+HTOMuJSvM=\", false, function () {\n  return [useToast, usePriceCakeBusd, useHarvestFarm, useTranslation, useAppDispatch, useWeb3React];\n});\n\n_c = HarvestAction;\nexport default HarvestAction;\n\nvar _c;\n\n$RefreshReg$(_c, \"HarvestAction\");","map":{"version":3,"sources":["C:/Users/Devrim/Documents/FRANKswapUIforProspBlast/src/views/Farms/components/FarmTable/Actions/HarvestAction.tsx"],"names":["React","useState","Button","Skeleton","Text","BigNumber","useWeb3React","Balance","BIG_ZERO","getBalanceAmount","useAppDispatch","fetchFarmUserDataAsync","usePriceCakeBusd","useToast","useTranslation","useHarvestFarm","ActionContainer","ActionTitles","ActionContent","Earned","HarvestAction","pid","userData","userDataReady","toastSuccess","toastError","earningsBigNumber","earnings","cakePrice","earningsBusd","displayBalance","toLocaleString","isZero","multipliedBy","toNumber","toFixed","ROUND_DOWN","pendingTx","setPendingTx","onReward","t","dispatch","account","eq","symbol","e","console","error","pids"],"mappings":"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","sourcesContent":["import React, { useState } from 'react'\r\nimport { Button, Skeleton, Text } from '@pancakeswap/uikit'\r\nimport BigNumber from 'bignumber.js'\r\nimport { useWeb3React } from '@web3-react/core'\r\nimport { FarmWithStakedValue } from 'views/Farms/components/FarmCard/FarmCard'\r\nimport Balance from 'components/Balance'\r\nimport { BIG_ZERO } from 'utils/bigNumber'\r\nimport { getBalanceAmount } from 'utils/formatBalance'\r\nimport { useAppDispatch } from 'state'\r\nimport { fetchFarmUserDataAsync } from 'state/farms'\r\nimport { usePriceCakeBusd } from 'state/farms/hooks'\r\nimport useToast from 'hooks/useToast'\r\nimport { useTranslation } from 'contexts/Localization'\r\nimport useHarvestFarm from '../../../hooks/useHarvestFarm'\r\n\r\nimport { ActionContainer, ActionTitles, ActionContent, Earned } from './styles'\r\n\r\ninterface HarvestActionProps extends FarmWithStakedValue {\r\n  userDataReady: boolean\r\n}\r\n\r\nconst HarvestAction: React.FunctionComponent<HarvestActionProps> = ({ pid, userData, userDataReady }) => {\r\n  const { toastSuccess, toastError } = useToast()\r\n  const earningsBigNumber = new BigNumber(userData.earnings)\r\n  const cakePrice = usePriceCakeBusd()\r\n  let earnings = BIG_ZERO\r\n  let earningsBusd = 0\r\n  let displayBalance = userDataReady ? earnings.toLocaleString() : <Skeleton width={60} />\r\n\r\n  // If user didn't connect wallet default balance will be 0\r\n  if (!earningsBigNumber.isZero()) {\r\n    earnings = getBalanceAmount(earningsBigNumber)\r\n    earningsBusd = earnings.multipliedBy(cakePrice).toNumber()\r\n    displayBalance = earnings.toFixed(3, BigNumber.ROUND_DOWN)\r\n  }\r\n\r\n  const [pendingTx, setPendingTx] = useState(false)\r\n  const { onReward } = useHarvestFarm(pid)\r\n  const { t } = useTranslation()\r\n  const dispatch = useAppDispatch()\r\n  const { account } = useWeb3React()\r\n\r\n  return (\r\n    <ActionContainer>\r\n      <ActionTitles>\r\n        <Text bold textTransform=\"uppercase\" color=\"secondary\" fontSize=\"12px\" pr=\"4px\">\r\n          CAKE\r\n        </Text>\r\n        <Text bold textTransform=\"uppercase\" color=\"textSubtle\" fontSize=\"12px\">\r\n          {t('Earned')}\r\n        </Text>\r\n      </ActionTitles>\r\n      <ActionContent>\r\n        <div>\r\n          <Earned>{displayBalance}</Earned>\r\n          {earningsBusd > 0 && (\r\n            <Balance fontSize=\"12px\" color=\"textSubtle\" decimals={2} value={earningsBusd} unit=\" USD\" prefix=\"~\" />\r\n          )}\r\n        </div>\r\n        <Button\r\n          disabled={earnings.eq(0) || pendingTx || !userDataReady}\r\n          onClick={async () => {\r\n            setPendingTx(true)\r\n            try {\r\n              await onReward()\r\n              toastSuccess(\r\n                `${t('Harvested')}!`,\r\n                t('Your %symbol% earnings have been sent to your wallet!', { symbol: 'CAKE' }),\r\n              )\r\n            } catch (e) {\r\n              toastError(\r\n                t('Error'),\r\n                t('Please try again. Confirm the transaction and make sure you are paying enough gas!'),\r\n              )\r\n              console.error(e)\r\n            } finally {\r\n              setPendingTx(false)\r\n            }\r\n            dispatch(fetchFarmUserDataAsync({ account, pids: [pid] }))\r\n          }}\r\n          ml=\"4px\"\r\n        >\r\n          {t('Harvest')}\r\n        </Button>\r\n      </ActionContent>\r\n    </ActionContainer>\r\n  )\r\n}\r\n\r\nexport default HarvestAction\r\n"]},"metadata":{},"sourceType":"module"}