{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useMemo } from 'react';\nimport { isAddress } from '../../utils';\nexport function filterTokens(tokens, search) {\n  if (search.length === 0) return tokens;\n  const searchingAddress = isAddress(search);\n  if (searchingAddress) {\n    return tokens.filter(token => token.address === searchingAddress);\n  }\n  const lowerSearchParts = search.toLowerCase().split(/\\s+/).filter(s => s.length > 0);\n  if (lowerSearchParts.length === 0) {\n    return tokens;\n  }\n  const matchesSearch = s => {\n    const sParts = s.toLowerCase().split(/\\s+/).filter(s_ => s_.length > 0);\n    return lowerSearchParts.every(p => p.length === 0 || sParts.some(sp => sp.startsWith(p) || sp.endsWith(p)));\n  };\n  return tokens.filter(token => {\n    const {\n      symbol,\n      name\n    } = token;\n    return symbol && matchesSearch(symbol) || name && matchesSearch(name);\n  });\n}\nexport function useSortedTokensByQuery(tokens, searchQuery) {\n  _s();\n  return useMemo(() => {\n    if (!tokens) {\n      return [];\n    }\n    const symbolMatch = searchQuery.toLowerCase().split(/\\s+/).filter(s => s.length > 0);\n    if (symbolMatch.length > 1) {\n      return tokens;\n    }\n    const exactMatches = [];\n    const symbolSubtrings = [];\n    const rest = [];\n\n    // sort tokens by exact match -> subtring on symbol match -> rest\n    tokens.map(token => {\n      var _token$symbol, _token$symbol2;\n      if (((_token$symbol = token.symbol) === null || _token$symbol === void 0 ? void 0 : _token$symbol.toLowerCase()) === symbolMatch[0]) {\n        return exactMatches.push(token);\n      }\n      if ((_token$symbol2 = token.symbol) === null || _token$symbol2 === void 0 ? void 0 : _token$symbol2.toLowerCase().startsWith(searchQuery.toLowerCase().trim())) {\n        return symbolSubtrings.push(token);\n      }\n      return rest.push(token);\n    });\n    return [...exactMatches, ...symbolSubtrings, ...rest];\n  }, [tokens, searchQuery]);\n}\n_s(useSortedTokensByQuery, \"nwk+m61qLgjDVUp4IGV/072DDN4=\");","map":{"version":3,"names":["useMemo","isAddress","filterTokens","tokens","search","length","searchingAddress","filter","token","address","lowerSearchParts","toLowerCase","split","s","matchesSearch","sParts","s_","every","p","some","sp","startsWith","endsWith","symbol","name","useSortedTokensByQuery","searchQuery","_s","symbolMatch","exactMatches","symbolSubtrings","rest","map","_token$symbol","_token$symbol2","push","trim"],"sources":["C:/Users/Devrim/Documents/swapUIforProspBlast/src/components/SearchModal/filtering.ts"],"sourcesContent":["import { useMemo } from 'react'\r\nimport { Token } from '@pancakeswap/sdk'\r\nimport { isAddress } from '../../utils'\r\n\r\nexport function filterTokens(tokens: Token[], search: string): Token[] {\r\n  if (search.length === 0) return tokens\r\n\r\n  const searchingAddress = isAddress(search)\r\n\r\n  if (searchingAddress) {\r\n    return tokens.filter((token) => token.address === searchingAddress)\r\n  }\r\n\r\n  const lowerSearchParts = search\r\n    .toLowerCase()\r\n    .split(/\\s+/)\r\n    .filter((s) => s.length > 0)\r\n\r\n  if (lowerSearchParts.length === 0) {\r\n    return tokens\r\n  }\r\n\r\n  const matchesSearch = (s: string): boolean => {\r\n    const sParts = s\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter((s_) => s_.length > 0)\r\n\r\n    return lowerSearchParts.every((p) => p.length === 0 || sParts.some((sp) => sp.startsWith(p) || sp.endsWith(p)))\r\n  }\r\n\r\n  return tokens.filter((token) => {\r\n    const { symbol, name } = token\r\n    return (symbol && matchesSearch(symbol)) || (name && matchesSearch(name))\r\n  })\r\n}\r\n\r\nexport function useSortedTokensByQuery(tokens: Token[] | undefined, searchQuery: string): Token[] {\r\n  return useMemo(() => {\r\n    if (!tokens) {\r\n      return []\r\n    }\r\n\r\n    const symbolMatch = searchQuery\r\n      .toLowerCase()\r\n      .split(/\\s+/)\r\n      .filter((s) => s.length > 0)\r\n\r\n    if (symbolMatch.length > 1) {\r\n      return tokens\r\n    }\r\n\r\n    const exactMatches: Token[] = []\r\n    const symbolSubtrings: Token[] = []\r\n    const rest: Token[] = []\r\n\r\n    // sort tokens by exact match -> subtring on symbol match -> rest\r\n    tokens.map((token) => {\r\n      if (token.symbol?.toLowerCase() === symbolMatch[0]) {\r\n        return exactMatches.push(token)\r\n      }\r\n      if (token.symbol?.toLowerCase().startsWith(searchQuery.toLowerCase().trim())) {\r\n        return symbolSubtrings.push(token)\r\n      }\r\n      return rest.push(token)\r\n    })\r\n\r\n    return [...exactMatches, ...symbolSubtrings, ...rest]\r\n  }, [tokens, searchQuery])\r\n}\r\n"],"mappings":";AAAA,SAASA,OAAO,QAAQ,OAAO;AAE/B,SAASC,SAAS,QAAQ,aAAa;AAEvC,OAAO,SAASC,YAAYA,CAACC,MAAe,EAAEC,MAAc,EAAW;EACrE,IAAIA,MAAM,CAACC,MAAM,KAAK,CAAC,EAAE,OAAOF,MAAM;EAEtC,MAAMG,gBAAgB,GAAGL,SAAS,CAACG,MAAM,CAAC;EAE1C,IAAIE,gBAAgB,EAAE;IACpB,OAAOH,MAAM,CAACI,MAAM,CAAEC,KAAK,IAAKA,KAAK,CAACC,OAAO,KAAKH,gBAAgB,CAAC;EACrE;EAEA,MAAMI,gBAAgB,GAAGN,MAAM,CAC5BO,WAAW,CAAC,CAAC,CACbC,KAAK,CAAC,KAAK,CAAC,CACZL,MAAM,CAAEM,CAAC,IAAKA,CAAC,CAACR,MAAM,GAAG,CAAC,CAAC;EAE9B,IAAIK,gBAAgB,CAACL,MAAM,KAAK,CAAC,EAAE;IACjC,OAAOF,MAAM;EACf;EAEA,MAAMW,aAAa,GAAID,CAAS,IAAc;IAC5C,MAAME,MAAM,GAAGF,CAAC,CACbF,WAAW,CAAC,CAAC,CACbC,KAAK,CAAC,KAAK,CAAC,CACZL,MAAM,CAAES,EAAE,IAAKA,EAAE,CAACX,MAAM,GAAG,CAAC,CAAC;IAEhC,OAAOK,gBAAgB,CAACO,KAAK,CAAEC,CAAC,IAAKA,CAAC,CAACb,MAAM,KAAK,CAAC,IAAIU,MAAM,CAACI,IAAI,CAAEC,EAAE,IAAKA,EAAE,CAACC,UAAU,CAACH,CAAC,CAAC,IAAIE,EAAE,CAACE,QAAQ,CAACJ,CAAC,CAAC,CAAC,CAAC;EACjH,CAAC;EAED,OAAOf,MAAM,CAACI,MAAM,CAAEC,KAAK,IAAK;IAC9B,MAAM;MAAEe,MAAM;MAAEC;IAAK,CAAC,GAAGhB,KAAK;IAC9B,OAAQe,MAAM,IAAIT,aAAa,CAACS,MAAM,CAAC,IAAMC,IAAI,IAAIV,aAAa,CAACU,IAAI,CAAE;EAC3E,CAAC,CAAC;AACJ;AAEA,OAAO,SAASC,sBAAsBA,CAACtB,MAA2B,EAAEuB,WAAmB,EAAW;EAAAC,EAAA;EAChG,OAAO3B,OAAO,CAAC,MAAM;IACnB,IAAI,CAACG,MAAM,EAAE;MACX,OAAO,EAAE;IACX;IAEA,MAAMyB,WAAW,GAAGF,WAAW,CAC5Bf,WAAW,CAAC,CAAC,CACbC,KAAK,CAAC,KAAK,CAAC,CACZL,MAAM,CAAEM,CAAC,IAAKA,CAAC,CAACR,MAAM,GAAG,CAAC,CAAC;IAE9B,IAAIuB,WAAW,CAACvB,MAAM,GAAG,CAAC,EAAE;MAC1B,OAAOF,MAAM;IACf;IAEA,MAAM0B,YAAqB,GAAG,EAAE;IAChC,MAAMC,eAAwB,GAAG,EAAE;IACnC,MAAMC,IAAa,GAAG,EAAE;;IAExB;IACA5B,MAAM,CAAC6B,GAAG,CAAExB,KAAK,IAAK;MAAA,IAAAyB,aAAA,EAAAC,cAAA;MACpB,IAAI,EAAAD,aAAA,GAAAzB,KAAK,CAACe,MAAM,cAAAU,aAAA,uBAAZA,aAAA,CAActB,WAAW,CAAC,CAAC,MAAKiB,WAAW,CAAC,CAAC,CAAC,EAAE;QAClD,OAAOC,YAAY,CAACM,IAAI,CAAC3B,KAAK,CAAC;MACjC;MACA,KAAA0B,cAAA,GAAI1B,KAAK,CAACe,MAAM,cAAAW,cAAA,uBAAZA,cAAA,CAAcvB,WAAW,CAAC,CAAC,CAACU,UAAU,CAACK,WAAW,CAACf,WAAW,CAAC,CAAC,CAACyB,IAAI,CAAC,CAAC,CAAC,EAAE;QAC5E,OAAON,eAAe,CAACK,IAAI,CAAC3B,KAAK,CAAC;MACpC;MACA,OAAOuB,IAAI,CAACI,IAAI,CAAC3B,KAAK,CAAC;IACzB,CAAC,CAAC;IAEF,OAAO,CAAC,GAAGqB,YAAY,EAAE,GAAGC,eAAe,EAAE,GAAGC,IAAI,CAAC;EACvD,CAAC,EAAE,CAAC5B,MAAM,EAAEuB,WAAW,CAAC,CAAC;AAC3B;AAACC,EAAA,CAhCeF,sBAAsB","ignoreList":[]},"metadata":{},"sourceType":"module"}